!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";var hodf_utils=require("./hodf_utils.js");function sequence(min,max){var i,out=[];if(max<min)throw new Error("Minimum ("+min+") should be smaller than maximum ("+max+")");for(i=min;i<=max;i++)out.push(i.toString());return out}function to_hot_properties(prop){return"numeric"===prop.type?{type:"numeric"}:"dropdown"===prop.type?{type:"dropdown",source:prop.source}:{}}function ListDimension(t,init_headings,lang){this.values=t.values,this.lang=lang}function RangeDimension(t,init_headings,lang){var numeric_headings;this.initial=t.initial||[],this.overall_min=t.overall_min||1,this.overall_max=t.overall_max||100,this.prefix=t.prefix||{name:"",title:""},this.lang=lang,0===(numeric_headings=(init_headings||[]).map(function(x){return this.prefix.name&&0===x.indexOf(this.prefix.name)&&(x=x.substr(this.prefix.name.length)),Number(x)}.bind(this)).filter(function(x){return!isNaN(x)})).length&&(numeric_headings=[t.min,t.max]),this.min=Math.min.apply(null,numeric_headings),this.max=Math.max.apply(null,numeric_headings)}function YearDimension(t,init_headings,lang){RangeDimension.apply(this,arguments),this.overall_min=t.overall_min||1900,this.overall_max=t.overall_max||2050}function BinsDimension(t,init_headings,lang){t.min=1,RangeDimension.apply(this,[t,init_headings]),this.overall_min=t.overall_min||1,this.overall_max=t.overall_max||1e3}ListDimension.prototype.parameterHtml=function(){return""},ListDimension.prototype.headers=function(){return this.values.map(function(x){return x.name})},ListDimension.prototype.headerHTML=function(){return this.values.map(function(x){return hodf_utils.tlate(x.title,"span",this.lang)||x.name}.bind(this))},ListDimension.prototype.minCount=function(){return this.values.length},ListDimension.prototype.maxCount=function(){return this.values.length},ListDimension.prototype.dataProperties=function(){return this.values.map(to_hot_properties)},RangeDimension.prototype.parameterHtml=function(){return['<label>Min: <input type="number" name="min" min="'+this.overall_min+'" max="'+this.overall_max+'" step="1" value="'+this.min+'" /></label>','<label>Max: <input type="number" name="max" min="'+this.overall_min+'" max="'+this.overall_max+'" step="1" value="'+this.max+'" /></label>'].join("\n")},RangeDimension.prototype.headers=function(){return this.initial.map(function(x){return x.name}).concat(sequence(this.min,this.max).map(function(x){return this.prefix.name+x}.bind(this)))},RangeDimension.prototype.headerHTML=function(){return this.initial.map(function(x){return hodf_utils.tlate(x.title,"span",this.lang)||x.name}.bind(this)).concat(sequence(this.min,this.max).map(function(x){return(this.prefix.title||this.prefix.name)+x}.bind(this)))},RangeDimension.prototype.minCount=function(){return this.initial.length+this.max-this.min+1},RangeDimension.prototype.maxCount=function(){return this.initial.length+this.max-this.min+1},RangeDimension.prototype.dataProperties=function(){return this.initial.map(to_hot_properties).concat(sequence(this.min,this.max).map(function(x){return to_hot_properties(this.prefix)}.bind(this)))},RangeDimension.prototype.update=function(paramEl,hot,e){var i,oldHeaders,newHeaders,self=this,startEl=paramEl.querySelector("input[name=min]"),endEl=paramEl.querySelector("input[name=max]");function to_num(x,offset){return parseInt(x.substr((self.prefix.title||self.prefix.name).length),10)+(offset||0)}for(e.target.id===startEl.id?(endEl.min=startEl.value,endEl.value<endEl.min&&(endEl.value=endEl.min)):e.target.id===endEl.id&&(startEl.max=endEl.value,startEl.value>startEl.max&&(startEl.value=startEl.max)),this.min=parseInt(startEl.value,10),this.max=parseInt(endEl.value,10),newHeaders=this.headers(),oldHeaders=[].concat(hot.getColHeader()),hot.updateSettings({minCols:this.initial.length,maxCols:newHeaders.length}),i=0;i<2e3;i++){if(to_num(oldHeaders[this.initial.length])>to_num(newHeaders[this.initial.length]))oldHeaders.splice(this.prefix.title+this.initial.length,0,to_num(oldHeaders[this.initial.length],-1).toString()),hot.alter("insert_col",this.initial.length);else if(to_num(oldHeaders[this.initial.length])<to_num(newHeaders[this.initial.length]))oldHeaders.splice(this.initial.length,1),hot.alter("remove_col",this.initial.length);else if(to_num(oldHeaders[oldHeaders.length-1])<to_num(newHeaders[newHeaders.length-1]))oldHeaders.push(this.prefix.title+to_num(oldHeaders[oldHeaders.length-1],1).toString()),hot.alter("insert_col",oldHeaders.length);else{if(!(to_num(oldHeaders[oldHeaders.length-1])>to_num(newHeaders[newHeaders.length-1])))break;oldHeaders.pop(),hot.alter("remove_col",oldHeaders.length)}if(1e3<i)throw new Error("Adding too many rows")}hot.updateSettings({colHeaders:oldHeaders})},YearDimension.prototype=Object.create(RangeDimension.prototype),YearDimension.prototype.parameterHtml=function(){var titles_start={en:"Start year",es:"AÃ±o de inicio"},titles_end="End year";return["<label>"+hodf_utils.tlate(titles_start,"span",this.lang)+': <input type="number" name="min" min="'+this.overall_min+'" max="'+this.overall_max+'" step="1" value="'+this.min+'" /></label>',"<label>"+hodf_utils.tlate(titles_end,"span",this.lang)+': <input type="number" name="max" min="'+this.overall_min+'" max="'+this.overall_max+'" step="1" value="'+this.max+'" /></label>'].join("\n")},BinsDimension.prototype=Object.create(RangeDimension.prototype),BinsDimension.prototype.parameterHtml=function(){return['<input type="hidden" name="min" value="'+this.min+'" />',"<label>"+(this.prefix.title?this.prefix.title+"Max":"Bins")+': <input type="number" name="max" min="'+this.overall_min+'" max="'+this.overall_max+'" step="1" value="'+this.max+'" /></label>'].join("\n")},module.exports.get_dimension=function(t,init_headings,lang){return Array.isArray(t)?new ListDimension({values:t},init_headings,lang):new{list:ListDimension,year:YearDimension,bins:BinsDimension}[t.type](t,init_headings,lang)}},{"./hodf_utils.js":2}],2:[function(require,module,exports){"use strict";function rotate(ar){var rotated,i,j;function new_array(len,fn){var k,out=[];for(k=0;k<len;k++)out.push(fn());return out}for(rotated=new_array(ar[0].length,function(){return new_array(ar.length,function(){return[]})}),i=0;i<ar.length;i++)for(j=0;j<ar[0].length;j++)rotated[j][i]=ar[i][j];return rotated}module.exports.df_to_aofa=function(df,field_headings,value_headings,orientation){var out;return out=field_headings.map(function(field){return value_headings.map(function(value){var val=(df[field]||{})[df._headings.values.indexOf(value)];return void 0===val?null:val})}),"vertical"!==orientation&&(out=rotate(out)),out},module.exports.aofa_to_df=function(aoa,orientation){var i,out={_headings:{fields:[]}};for("vertical"!==orientation&&(aoa=rotate(aoa)),out._headings.values=aoa.shift(),out._headings.values.shift(),out._headings.fields=[],i=0;i<aoa.length;i++)out._headings.fields.push(aoa[i][0]),out[aoa[i][0]]=aoa[i].slice(1);return out},module.exports.tlate=function(obj,html_tag,sel_lang){return obj?"string"==typeof obj?"<"+html_tag+">"+obj+"</"+html_tag+">":"*"===sel_lang?Object.keys(obj).map(function(l){return"<"+html_tag+' lang="'+l+'">'+obj[l]+"</"+html_tag+">"}).join("\n"):obj[sel_lang]?"<"+html_tag+' lang="'+sel_lang+'">'+obj[sel_lang]+"</"+html_tag+">":"<"+html_tag+' lang="en">'+obj.en+"</"+html_tag+">":""}},{}],3:[function(require,module,exports){"use strict";var Handsontable=require("handsontable"),get_dimension=require("./hodf_dimensions.js").get_dimension,hodf_utils=require("./hodf_utils.js");function Hodataframe(tmpl,el,inital_data,initial_lang){var hot,hotParams,cols,rows,customData={};if(inital_data?Array.isArray(inital_data)&&(inital_data=hodf_utils.aofa_to_df(inital_data,tmpl.orientation)):inital_data={_headings:{}},initial_lang||(initial_lang="en"),tmpl.text)return el.innerHTML=tmpl.text,null;customData.fields=get_dimension(tmpl.fields,inital_data._headings.fields,initial_lang),customData.values=get_dimension(tmpl.values,inital_data._headings.values,initial_lang),cols="vertical"===tmpl.orientation?customData.values:customData.fields,rows="vertical"===tmpl.orientation?customData.fields:customData.values,el.innerHTML=[hodf_utils.tlate(tmpl.title,"h3",initial_lang),hodf_utils.tlate(tmpl.description,"p",initial_lang),'<div class="parameters">','<span class="cols">'+cols.parameterHtml()+"</span>",'<span class="rows">'+rows.parameterHtml()+"</span>","</div>",'<div class="hot"></div>'].join("\n"),(hotParams=JSON.parse(JSON.stringify(tmpl.params||{}))).stretchH="all",hotParams.autoWrapRow=!0,hotParams.rowHeaders=rows.headerHTML(),hotParams.minRows=rows.minCount(),hotParams.maxRows=rows.maxCount(),hotParams.colHeaders=cols.headerHTML(),hotParams.minCols=cols.minCount(),hotParams.maxCols=cols.maxCount(),hotParams.data=inital_data._headings.fields?hodf_utils.df_to_aofa(inital_data,customData.fields.headers(),customData.values.headers(),tmpl.orientation):void 0,hotParams.cells=function(row,column){return customData.fields.dataProperties()["vertical"===tmpl.orientation?row:column]},(hot=new Handsontable(el.querySelector(".hot"),hotParams)).customData=customData,el.querySelector(".parameters > .cols").addEventListener("change",function(e){cols.update(el.querySelector(".parameters > .cols"),hot,e)}),el.querySelector(".parameters > .rows").addEventListener("change",function(e){rows.update(el.querySelector(".parameters > .rows"),{updateSettings:function(settings){var newSettings={};return Object.keys(settings).map(function(k){newSettings[k.replace("Col","Row").replace("col","row")]=settings[k]}),hot.updateSettings(newSettings)},getColHeader:function(){return hot.getRowHeader()},alter:function(cmd,x,y){return hot.alter(cmd.replace("_col","_row"),x,y)}},e)}),this.el=el,this.hot=hot,this.tmpl=tmpl,this.name=tmpl.name}Hodataframe.prototype.getDataFrame=function(){var i,out={_headings:{}},data=this.hot.getData();function return_ith_value(row){return row[i]}for(out._headings.fields=this.hot.customData.fields.headers(),out._headings.values=this.hot.customData.values.headers(),i=0;i<out._headings.fields.length;i++)"vertical"===this.tmpl.orientation?out[out._headings.fields[i]]=data[i]:out[out._headings.fields[i]]=data.map(return_ith_value);return out},Hodataframe.prototype.getAofA=function(){var i,data,rowHeaders,colHeaders;for(data=this.hot.getData(),rowHeaders=this.hot.customData["vertical"===this.tmpl.orientation?"fields":"values"].headers(),colHeaders=this.hot.customData["vertical"===this.tmpl.orientation?"values":"fields"].headers(),data.unshift(colHeaders),i=0;i<data.length;i++)data[i].unshift(0<i?rowHeaders[i-1]:null);return data},Hodataframe.prototype.replace=function(data){return this.hot.destroy(),this.el.innerHTML="",new Hodataframe(this.tmpl,this.el,data)},module.exports=Hodataframe},{"./hodf_dimensions.js":1,"./hodf_utils.js":2,handsontable:4}],4:[function(require,module,exports){(function(process){var root,factory;root=this,factory=function(__WEBPACK_EXTERNAL_MODULE_50__,__WEBPACK_EXTERNAL_MODULE_80__,__WEBPACK_EXTERNAL_MODULE_213__){return(modules=[function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.HTML_CHARACTERS=void 0,exports.getParent=function(element){var level=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,iteration=-1,parent=null;for(;null!=element;){if(iteration===level){parent=element;break}element=element.host&&element.nodeType===Node.DOCUMENT_FRAGMENT_NODE?element.host:(iteration++,element.parentNode)}return parent},exports.closest=closest,exports.closestDown=function(element,nodes,until){var matched=[];for(;element&&(element=closest(element,nodes,until))&&(!until||until.contains(element));)matched.push(element),element=element.host&&element.nodeType===Node.DOCUMENT_FRAGMENT_NODE?element.host:element.parentNode;var length=matched.length;return length?matched[length-1]:null},exports.isChildOf=function(child,parent){var node=child.parentNode,queriedParents=[];"string"==typeof parent?queriedParents=Array.prototype.slice.call(document.querySelectorAll(parent),0):queriedParents.push(parent);for(;null!=node;){if(-1<queriedParents.indexOf(node))return!0;node=node.parentNode}return!1},exports.isChildOfWebComponentTable=function(element){var parentNode,hotTableName="hot-table",result=!1;function isHotTable(element){return element.nodeType===Node.ELEMENT_NODE&&element.nodeName===hotTableName.toUpperCase()}parentNode=polymerWrap(element);for(;null!=parentNode;){if(isHotTable(parentNode)){result=!0;break}if(parentNode.host&&parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(result=isHotTable(parentNode.host))break;parentNode=parentNode.host}parentNode=parentNode.parentNode}return result},exports.polymerWrap=polymerWrap,exports.polymerUnwrap=polymerUnwrap,exports.index=function(element){var i=0;if(element.previousSibling)for(;element=element.previousSibling;)++i;return i},exports.overlayContainsElement=function(overlayType,element){var overlayElement=document.querySelector(".ht_clone_"+overlayType);return overlayElement?overlayElement.contains(element):null},exports.hasClass=function(element,className){return _hasClass(element,className)},exports.addClass=function(element,className){return _addClass(element,className)},exports.removeClass=function(element,className){return _removeClass(element,className)},exports.removeTextNodes=function removeTextNodes(element,parent){if(3===element.nodeType)parent.removeChild(element);else if(-1<["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(element.nodeName))for(var childs=element.childNodes,i=childs.length-1;0<=i;i--)removeTextNodes(childs[i],element)},exports.empty=empty,exports.fastInnerHTML=function(element,content){HTML_CHARACTERS.test(content)?element.innerHTML=content:fastInnerText(element,content)},exports.fastInnerText=fastInnerText,exports.isVisible=function isVisible(elem){var next=elem;for(;polymerUnwrap(next)!==document.documentElement;){if(null===next)return!1;if(next.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(next.host){if(next.host.impl)return isVisible(next.host.impl);if(next.host)return isVisible(next.host);throw new Error("Lost in Web Components world")}return!1}if("none"===next.style.display)return!1;next=next.parentNode}return!0},exports.offset=function(elem){var offsetLeft,offsetTop,lastElem,docElem,box;if(docElem=document.documentElement,(0,_feature.hasCaptionProblem)()&&elem.firstChild&&"CAPTION"===elem.firstChild.nodeName)return{top:(box=elem.getBoundingClientRect()).top+(window.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(window.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)};offsetLeft=elem.offsetLeft,offsetTop=elem.offsetTop,lastElem=elem;for(;(elem=elem.offsetParent)&&elem!==document.body;)offsetLeft+=elem.offsetLeft,offsetTop+=elem.offsetTop,lastElem=elem;lastElem&&"fixed"===lastElem.style.position&&(offsetLeft+=window.pageXOffset||docElem.scrollLeft,offsetTop+=window.pageYOffset||docElem.scrollTop);return{left:offsetLeft,top:offsetTop}},exports.getWindowScrollTop=getWindowScrollTop,exports.getWindowScrollLeft=getWindowScrollLeft,exports.getScrollTop=function(element){return element!==window?element.scrollTop:getWindowScrollTop()},exports.getScrollLeft=function(element){return element!==window?element.scrollLeft:getWindowScrollLeft()},exports.getScrollableElement=function(element){var overflow,overflowX,overflowY,el=element.parentNode,props=["auto","scroll"],computedStyle="",computedOverflow="",computedOverflowY="",computedOverflowX="";for(;el&&el.style&&document.body!==el;){if(overflow=el.style.overflow,overflowX=el.style.overflowX,overflowY=el.style.overflowY,"scroll"==overflow||"scroll"==overflowX||"scroll"==overflowY)return el;if(window.getComputedStyle&&(computedStyle=window.getComputedStyle(el),computedOverflow=computedStyle.getPropertyValue("overflow"),computedOverflowY=computedStyle.getPropertyValue("overflow-y"),computedOverflowX=computedStyle.getPropertyValue("overflow-x"),"scroll"===computedOverflow||"scroll"===computedOverflowX||"scroll"===computedOverflowY))return el;if(el.clientHeight<=el.scrollHeight+1&&(-1!==props.indexOf(overflowY)||-1!==props.indexOf(overflow)||-1!==props.indexOf(computedOverflow)||-1!==props.indexOf(computedOverflowY)))return el;if(el.clientWidth<=el.scrollWidth+1&&(-1!==props.indexOf(overflowX)||-1!==props.indexOf(overflow)||-1!==props.indexOf(computedOverflow)||-1!==props.indexOf(computedOverflowX)))return el;el=el.parentNode}return window},exports.getTrimmingContainer=function(base){var el=base.parentNode;for(;el&&el.style&&document.body!==el;){if("visible"!==el.style.overflow&&""!==el.style.overflow)return el;if(window.getComputedStyle){var computedStyle=window.getComputedStyle(el);if("visible"!==computedStyle.getPropertyValue("overflow")&&""!==computedStyle.getPropertyValue("overflow"))return el}el=el.parentNode}return window},exports.getStyle=function(element,prop){{if(!element)return;if(element===window)return"width"===prop?window.innerWidth+"px":"height"===prop?window.innerHeight+"px":void 0}var computedStyle,styleProp=element.style[prop];{if(""!==styleProp&&void 0!==styleProp)return styleProp;if(""!==(computedStyle=getComputedStyle(element))[prop]&&void 0!==computedStyle[prop])return computedStyle[prop]}},exports.getComputedStyle=getComputedStyle,exports.outerWidth=function(element){return element.offsetWidth},exports.outerHeight=function(elem){if((0,_feature.hasCaptionProblem)()&&elem.firstChild&&"CAPTION"===elem.firstChild.nodeName)return elem.offsetHeight+elem.firstChild.offsetHeight;return elem.offsetHeight},exports.innerHeight=function(element){return element.clientHeight||element.innerHeight},exports.innerWidth=function(element){return element.clientWidth||element.innerWidth},exports.addEvent=function(element,event,callback){window.addEventListener?element.addEventListener(event,callback,!1):element.attachEvent("on"+event,callback)},exports.removeEvent=function(element,event,callback){window.removeEventListener?element.removeEventListener(event,callback,!1):element.detachEvent("on"+event,callback)},exports.getCaretPosition=function(el){{if(el.selectionStart)return el.selectionStart;if(document.selection){el.focus();var r=document.selection.createRange();if(null==r)return 0;var re=el.createTextRange(),rc=re.duplicate();return re.moveToBookmark(r.getBookmark()),rc.setEndPoint("EndToStart",re),rc.text.length}}return 0},exports.getSelectionEndPosition=function(el){{if(el.selectionEnd)return el.selectionEnd;if(document.selection){var r=document.selection.createRange();if(null==r)return 0;var re=el.createTextRange();return re.text.indexOf(r.text)+r.text.length}}return 0},exports.getSelectionText=function(){var text="";window.getSelection?text=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(text=document.selection.createRange().text);return text},exports.setCaretPosition=function(element,pos,endPos){void 0===endPos&&(endPos=pos);if(element.setSelectionRange){element.focus();try{element.setSelectionRange(pos,endPos)}catch(err){var elementParent=element.parentNode,parentDisplayValue=elementParent.style.display;elementParent.style.display="block",element.setSelectionRange(pos,endPos),elementParent.style.display=parentDisplayValue}}else if(element.createTextRange){var range=element.createTextRange();range.collapse(!0),range.moveEnd("character",endPos),range.moveStart("character",pos),range.select()}},exports.getScrollbarWidth=function(){void 0===cachedScrollbarWidth&&(cachedScrollbarWidth=function(){var inner=document.createElement("div");inner.style.height="200px",inner.style.width="100%";var outer=document.createElement("div");outer.style.boxSizing="content-box",outer.style.height="150px",outer.style.left="0px",outer.style.overflow="hidden",outer.style.position="absolute",outer.style.top="0px",outer.style.width="200px",outer.style.visibility="hidden",outer.appendChild(inner),(document.body||document.documentElement).appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;w1==w2&&(w2=outer.clientWidth);return(document.body||document.documentElement).removeChild(outer),w1-w2}());return cachedScrollbarWidth},exports.hasVerticalScrollbar=function(element){return element.offsetWidth!==element.clientWidth},exports.hasHorizontalScrollbar=function(element){return element.offsetHeight!==element.clientHeight},exports.setOverlayPosition=function(overlayElem,left,top){(0,_browser.isIE8)()||(0,_browser.isIE9)()?(overlayElem.style.top=top,overlayElem.style.left=left):(0,_browser.isSafari)()?overlayElem.style["-webkit-transform"]="translate3d("+left+","+top+",0)":overlayElem.style.transform="translate3d("+left+","+top+",0)"},exports.getCssTransform=function(element){var transform;{if(element.style.transform&&""!==(transform=element.style.transform))return["transform",transform];if(element.style["-webkit-transform"]&&""!==(transform=element.style["-webkit-transform"]))return["-webkit-transform",transform]}return-1},exports.resetCssTransform=function(element){element.style.transform&&""!==element.style.transform?element.style.transform="":element.style["-webkit-transform"]&&""!==element.style["-webkit-transform"]&&(element.style["-webkit-transform"]="")},exports.isInput=isInput,exports.isOutsideInput=function(element){return isInput(element)&&-1==element.className.indexOf("handsontableInput")&&-1==element.className.indexOf("copyPaste")};var _hasClass,_addClass,_removeClass,element,_browser=__webpack_require__(26),_feature=__webpack_require__(34);function closest(element,nodes,until){for(;null!=element&&element!==until;){if(element.nodeType===Node.ELEMENT_NODE&&(-1<nodes.indexOf(element.nodeName)||-1<nodes.indexOf(element)))return element;element=element.host&&element.nodeType===Node.DOCUMENT_FRAGMENT_NODE?element.host:element.parentNode}return null}function polymerWrap(element){return"undefined"!=typeof Polymer&&"function"==typeof wrap?wrap(element):element}function polymerUnwrap(element){return"undefined"!=typeof Polymer&&"function"==typeof unwrap?unwrap(element):element}function filterEmptyClassNames(classNames){var len=0,result=[];if(!classNames||!classNames.length)return result;for(;classNames[len];)result.push(classNames[len]),len++;return result}if(!!document.documentElement.classList){var isSupportMultipleClassesArg=((element=document.createElement("div")).classList.add("test","test2"),element.classList.contains("test2"));_hasClass=function(element,className){return void 0!==element.classList&&""!==className&&element.classList.contains(className)},_addClass=function(element,className){var len=0;if("string"==typeof className&&(className=className.split(" ")),className=filterEmptyClassNames(className),isSupportMultipleClassesArg)element.classList.add.apply(element.classList,className);else for(;className&&className[len];)element.classList.add(className[len]),len++},_removeClass=function(element,className){var len=0;if("string"==typeof className&&(className=className.split(" ")),className=filterEmptyClassNames(className),isSupportMultipleClassesArg)element.classList.remove.apply(element.classList,className);else for(;className&&className[len];)element.classList.remove(className[len]),len++}}else{var createClassNameRegExp=function(className){return new RegExp("(\\s|^)"+className+"(\\s|$)")};_hasClass=function(element,className){return void 0!==element.className&&createClassNameRegExp(className).test(element.className)},_addClass=function(element,className){var len=0,_className=element.className;if("string"==typeof className&&(className=className.split(" ")),""===_className)_className=className.join(" ");else for(;className&&className[len];)createClassNameRegExp(className[len]).test(_className)||(_className+=" "+className[len]),len++;element.className=_className},_removeClass=function(element,className){var len=0,_className=element.className;for("string"==typeof className&&(className=className.split(" "));className&&className[len];)_className=_className.replace(createClassNameRegExp(className[len])," ").trim(),len++;element.className!==_className&&(element.className=_className)}}function empty(element){for(var child;child=element.lastChild;)element.removeChild(child)}var HTML_CHARACTERS=exports.HTML_CHARACTERS=/(<(.*)>|&(.*);)/;var cachedScrollbarWidth,textContextSupport=!!document.createTextNode("test").textContent;function fastInnerText(element,content){var child=element.firstChild;child&&3===child.nodeType&&null===child.nextSibling?textContextSupport?child.textContent=content:child.data=content:(empty(element),element.appendChild(document.createTextNode(content)))}function getWindowScrollTop(){var res=window.scrollY;return void 0===res&&(res=document.documentElement.scrollTop),res}function getWindowScrollLeft(){var res=window.scrollX;return void 0===res&&(res=document.documentElement.scrollLeft),res}function getComputedStyle(element){return element.currentStyle||document.defaultView.getComputedStyle(element)}function isInput(element){return element&&(-1<["INPUT","SELECT","TEXTAREA"].indexOf(element.nodeName)||"true"===element.contentEditable)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.duckSchema=function duckSchema(object){var schema;Array.isArray(object)?schema=[]:(schema={},objectEach(object,function(value,key){"__children"!==key&&(value&&"object"===(void 0===value?"undefined":_typeof(value))&&!Array.isArray(value)?schema[key]=duckSchema(value):Array.isArray(value)?value.length&&"object"===_typeof(value[0])&&!Array.isArray(value[0])?schema[key]=[duckSchema(value[0])]:schema[key]=[]:schema[key]=null)}));return schema},exports.inherit=function(Child,Parent){return Parent.prototype.constructor=Parent,Child.prototype=new Parent,Child.prototype.constructor=Child},exports.extend=function(target,extension){return objectEach(extension,function(value,key){target[key]=value}),target},exports.deepExtend=function deepExtend(target,extension){objectEach(extension,function(value,key){extension[key]&&"object"===_typeof(extension[key])?(target[key]||(Array.isArray(extension[key])?target[key]=[]:"[object Date]"===Object.prototype.toString.call(extension[key])?target[key]=extension[key]:target[key]={}),deepExtend(target[key],extension[key])):target[key]=extension[key]})},exports.deepClone=deepClone,exports.clone=function(object){var result={};return objectEach(object,function(value,key){result[key]=value}),result},exports.mixin=function(Base){Base.MIXINS||(Base.MIXINS=[]);for(var _len=arguments.length,mixins=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)mixins[_key-1]=arguments[_key];return(0,_array.arrayEach)(mixins,function(mixin){Base.MIXINS.push(mixin.MIXIN_NAME),objectEach(mixin,function(value,key){if(void 0!==Base.prototype[key])throw new Error("Mixin conflict. Property '"+key+"' already exist and cannot be overwritten.");var propertyName;"function"==typeof value?Base.prototype[key]=value:Object.defineProperty(Base.prototype,key,{get:function(propertyName,initialValue){return propertyName="_"+propertyName,function(){return void 0===this[propertyName]&&(this[propertyName]=function(value){return(Array.isArray(value)||isObject(value))&&(value=deepClone(value)),value}(initialValue)),this[propertyName]}}(key,value),set:(propertyName=key,propertyName="_"+propertyName,function(value){this[propertyName]=value}),configurable:!0})})}),Base},exports.isObjectEquals=function(object1,object2){return JSON.stringify(object1)===JSON.stringify(object2)},exports.isObject=isObject,exports.defineGetter=function(object,property,value,options){options.value=value,options.writable=!1!==options.writable,options.enumerable=!1!==options.enumerable,options.configurable=!1!==options.configurable,Object.defineProperty(object,property,options)},exports.objectEach=objectEach,exports.getProperty=function(object,name){var names=name.split("."),result=object;return objectEach(names,function(name){if(void 0===(result=result[name]))return result=void 0,!1}),result},exports.deepObjectSize=function(object){return isObject(object)?function recursObjLen(obj){var result=0;return isObject(obj)?objectEach(obj,function(key){result+=recursObjLen(key)}):result++,result}(object):0},exports.createObjectPropListener=function(defaultValue){var _holder,propertyToListen=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"value",privateProperty="_"+propertyToListen,holder=(_defineProperty(_holder={_touched:!1},privateProperty,defaultValue),_defineProperty(_holder,"isTouched",function(){return this._touched}),_holder);return Object.defineProperty(holder,propertyToListen,{get:function(){return this[privateProperty]},set:function(value){this._touched=!0,this[privateProperty]=value},enumerable:!0,configurable:!0}),holder},exports.hasOwnProperty=function(object,key){return Object.prototype.hasOwnProperty.call(object,key)};var _array=__webpack_require__(2);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function deepClone(obj){return"object"===(void 0===obj?"undefined":_typeof(obj))?JSON.parse(JSON.stringify(obj)):obj}function isObject(obj){return"[object Object]"==Object.prototype.toString.call(obj)}function objectEach(object,iteratee){for(var key in object)if((!object.hasOwnProperty||object.hasOwnProperty&&Object.prototype.hasOwnProperty.call(object,key))&&!1===iteratee(object[key],key,object))break;return object}},function(module,exports,__webpack_require__){"use strict";function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;for(initFromArray&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arraySum(array){return arrayReduce(array,function(a,b){return a+b},0)}exports.__esModule=!0,exports.to2dArray=function(arr){var i=0,ilen=arr.length;for(;i<ilen;)arr[i]=[arr[i]],i++},exports.extendArray=function(arr,extension){var i=0,ilen=extension.length;for(;i<ilen;)arr.push(extension[i]),i++},exports.pivot=function(arr){var pivotedArr=[];if(!arr||0===arr.length||!arr[0]||0===arr[0].length)return pivotedArr;for(var rowCount=arr.length,colCount=arr[0].length,i=0;i<rowCount;i++)for(var j=0;j<colCount;j++)pivotedArr[j]||(pivotedArr[j]=[]),pivotedArr[j][i]=arr[i][j];return pivotedArr},exports.arrayReduce=arrayReduce,exports.arrayFilter=function(array,predicate){var index=-1,length=array.length,resIndex=-1,result=[];for(;++index<length;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result},exports.arrayMap=function(array,iteratee){var index=-1,length=array.length,resIndex=-1,result=[];for(;++index<length;){var value=array[index];result[++resIndex]=iteratee(value,index,array)}return result},exports.arrayEach=arrayEach,exports.arraySum=arraySum,exports.arrayMax=function(array){return arrayReduce(array,function(a,b){return b<a?a:b},Array.isArray(array)?array[0]:void 0)},exports.arrayMin=function(array){return arrayReduce(array,function(a,b){return a<b?a:b},Array.isArray(array)?array[0]:void 0)},exports.arrayAvg=function(array){return array.length?arraySum(array)/array.length:0},exports.arrayFlatten=function arrayFlatten(array){return arrayReduce(array,function(initial,value){return initial.concat(Array.isArray(value)?arrayFlatten(value):value)},[])},exports.arrayUnique=function(array){var unique=[];return arrayEach(array,function(value){-1===unique.indexOf(value)&&unique.push(value)}),unique}},function(module,exports,__webpack_require__){var global=__webpack_require__(11),core=__webpack_require__(44),hide=__webpack_require__(29),redefine=__webpack_require__(28),ctx=__webpack_require__(30),$export=function(type,name,source){var key,own,out,exp,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{}).prototype,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype||(exports.prototype={});for(key in IS_GLOBAL&&(source=name),source)out=((own=!IS_FORCED&&target&&void 0!==target[key])?target:source)[key],exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,target&&redefine(target,key,out,type&$export.U),exports[key]!=out&&hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}exports.getListenersCounter=function(){return listenersCounter};var _element=__webpack_require__(0),_object=__webpack_require__(1),_feature=__webpack_require__(34),_event=__webpack_require__(10);var listenersCounter=0,EventManager=function(){function EventManager(){var context=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventManager),this.context=context||this,this.context.eventListeners||(this.context.eventListeners=[])}return _createClass(EventManager,[{key:"addEventListener",value:function(element,eventName,callback){var _this=this,context=this.context;function callbackProxy(event){event=extendEvent(context,event),callback.call(this,event)}return this.context.eventListeners.push({element:element,event:eventName,callback:callback,callbackProxy:callbackProxy}),window.addEventListener?element.addEventListener(eventName,callbackProxy,!1):element.attachEvent("on"+eventName,callbackProxy),listenersCounter++,function(){_this.removeEventListener(element,eventName,callback)}}},{key:"removeEventListener",value:function(element,eventName,callback){for(var len=this.context.eventListeners.length,tmpEvent=void 0;len--;)if((tmpEvent=this.context.eventListeners[len]).event==eventName&&tmpEvent.element==element){if(callback&&callback!=tmpEvent.callback)continue;this.context.eventListeners.splice(len,1),tmpEvent.element.removeEventListener?tmpEvent.element.removeEventListener(tmpEvent.event,tmpEvent.callbackProxy,!1):tmpEvent.element.detachEvent("on"+tmpEvent.event,tmpEvent.callbackProxy),listenersCounter--}}},{key:"clearEvents",value:function(){if(this.context)for(var len=this.context.eventListeners.length;len--;){var event=this.context.eventListeners[len];event&&this.removeEventListener(event.element,event.event,event.callback)}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"fireEvent",value:function(element,eventName){var event,options={bubbles:!0,cancelable:"mousemove"!==eventName,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};document.createEvent?(event=document.createEvent("MouseEvents")).initMouseEvent(eventName,options.bubbles,options.cancelable,options.view,options.detail,options.screenX,options.screenY,options.clientX,options.clientY,options.ctrlKey,options.altKey,options.shiftKey,options.metaKey,options.button,options.relatedTarget||document.body.parentNode):event=document.createEventObject(),element.dispatchEvent?element.dispatchEvent(event):element.fireEvent("on"+eventName,event)}}]),EventManager}();function extendEvent(context,event){var isHotTableSpotted=void 0,fromElement=void 0,realTarget=void 0,target=void 0,len=void 0,nativeStopImmediatePropagation=void 0;if(event.isTargetWebComponent=!1,event.realTarget=event.target,nativeStopImmediatePropagation=event.stopImmediatePropagation,event.stopImmediatePropagation=function(){nativeStopImmediatePropagation.apply(this),(0,_event.stopImmediatePropagation)(this)},!EventManager.isHotTableEnv)return event;for(len=(event=(0,_element.polymerWrap)(event)).path?event.path.length:0;len--;){if("HOT-TABLE"===event.path[len].nodeName)isHotTableSpotted=!0;else if(isHotTableSpotted&&event.path[len].shadowRoot){target=event.path[len];break}0!==len||target||(target=event.path[len])}return target||(target=event.target),event.isTargetWebComponent=!0,(0,_feature.isWebComponentSupportedNatively)()?event.realTarget=event.srcElement||event.toElement:((0,_object.hasOwnProperty)(context,"hot")||context.isHotTableEnv||context.wtTable)&&((0,_object.hasOwnProperty)(context,"hot")?fromElement=context.hot?context.hot.view.wt.wtTable.TABLE:null:context.isHotTableEnv?fromElement=context.view.activeWt.wtTable.TABLE.parentNode.parentNode:context.wtTable&&(fromElement=context.wtTable.TABLE.parentNode.parentNode),realTarget=(0,_element.closest)(event.target,["HOT-TABLE"],fromElement),event.realTarget=realTarget&&fromElement.querySelector("HOT-TABLE")||event.target),Object.defineProperty(event,"target",{get:function(){return(0,_element.polymerWrap)(target)},enumerable:!0,configurable:!0}),event}exports.default=EventManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.getPluginName=exports.getRegistredPluginNames=exports.getPlugin=exports.registerPlugin=void 0;var obj,_pluginHooks=__webpack_require__(7),_pluginHooks2=(obj=_pluginHooks)&&obj.__esModule?obj:{default:obj},_object=__webpack_require__(1),_string=__webpack_require__(32);var registeredPlugins=new WeakMap;exports.registerPlugin=function(pluginName,PluginClass){pluginName=(0,_string.toUpperCaseFirst)(pluginName),_pluginHooks2.default.getSingleton().add("construct",function(){var holder=void 0;registeredPlugins.has(this)||registeredPlugins.set(this,{}),(holder=registeredPlugins.get(this))[pluginName]||(holder[pluginName]=new PluginClass(this))}),_pluginHooks2.default.getSingleton().add("afterDestroy",function(){if(registeredPlugins.has(this)){var pluginsHolder=registeredPlugins.get(this);(0,_object.objectEach)(pluginsHolder,function(plugin){return plugin.destroy()}),registeredPlugins.delete(this)}})},exports.getPlugin=function(instance,pluginName){if("string"!=typeof pluginName)throw Error('Only strings can be passed as "plugin" parameter');var _pluginName=(0,_string.toUpperCaseFirst)(pluginName);if(registeredPlugins.has(instance)&&registeredPlugins.get(instance)[_pluginName])return registeredPlugins.get(instance)[_pluginName]},exports.getRegistredPluginNames=function(hotInstance){return registeredPlugins.has(hotInstance)?Object.keys(registeredPlugins.get(hotInstance)):[]},exports.getPluginName=function(hotInstance,plugin){var pluginName=null;return registeredPlugins.has(hotInstance)&&(0,_object.objectEach)(registeredPlugins.get(hotInstance),function(pluginInstance,name){pluginInstance===plugin&&(pluginName=name)}),pluginName}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.isNumeric=function(n){var t=void 0===n?"undefined":_typeof(n);return"number"==t?!isNaN(n)&&isFinite(n):"string"==t?!!n.length&&(1==n.length?/\d/.test(n):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(n)):"object"==t&&!(!n||"number"!=typeof n.valueOf()||n instanceof Date)},exports.rangeEach=function(rangeFrom,rangeTo,iteratee){var index=-1;"function"==typeof rangeTo?(iteratee=rangeTo,rangeTo=rangeFrom):index=rangeFrom-1;for(;++index<=rangeTo&&!1!==iteratee(index););},exports.rangeEachReverse=function(rangeFrom,rangeTo,iteratee){var index=rangeFrom+1;"function"==typeof rangeTo&&(iteratee=rangeTo,rangeTo=0);for(;--index>=rangeTo&&!1!==iteratee(index););},exports.valueAccordingPercent=function(value,percent){return percent=parseInt(percent.toString().replace("%",""),10),percent=parseInt(value*percent/100,10)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _array=__webpack_require__(2),_object=__webpack_require__(1);var REGISTERED_HOOKS=["afterCellMetaReset","afterChange","afterChangesObserved","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","afterRender","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterUpdateSettings","afterValidate","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyCol","unmodifyCol","unmodifyRow","modifyColHeader","modifyColWidth","modifyRow","modifyRowHeader","modifyRowHeight","modifyData","modifyRowData","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnMove","afterColumnMove","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","modifyColumnHeaderHeight","beforeUndo","afterUndo","beforeRedo","afterRedo","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","manualRowHeights","skipLengthCache","afterTrimRow","afterUntrimRow","afterDropdownMenuShow","afterDropdownMenuHide","hiddenRow","hiddenColumn","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","afterListen","afterUnlisten"],Hooks=function(){function Hooks(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Hooks),this.globalBucket=this.createEmptyBucket()}return _createClass(Hooks,null,[{key:"getSingleton",value:function(){return globalSingleton}}]),_createClass(Hooks,[{key:"createEmptyBucket",value:function(){var bucket=Object.create(null);return(0,_array.arrayEach)(REGISTERED_HOOKS,function(hook){return bucket[hook]=[]}),bucket}},{key:"getBucket",value:function(){var context=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return context?(context.pluginHookBucket||(context.pluginHookBucket=this.createEmptyBucket()),context.pluginHookBucket):this.globalBucket}},{key:"add",value:function(key,callback){var _this=this,context=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(callback))(0,_array.arrayEach)(callback,function(c){return _this.add(key,c,context)});else{var bucket=this.getBucket(context);if(void 0===bucket[key]&&(this.register(key),bucket[key]=[]),callback.skip=!1,-1===bucket[key].indexOf(callback)){var foundInitialHook=!1;callback.initialHook&&(0,_array.arrayEach)(bucket[key],function(cb,i){if(cb.initialHook)return bucket[key][i]=callback,!(foundInitialHook=!0)}),foundInitialHook||bucket[key].push(callback)}}return this}},{key:"once",value:function(key,callback){var _this2=this,context=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(callback)?(0,_array.arrayEach)(callback,function(c){return _this2.once(key,c,context)}):(callback.runOnce=!0,this.add(key,callback,context))}},{key:"remove",value:function(key,callback){var context=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,bucket=this.getBucket(context);return void 0!==bucket[key]&&0<=bucket[key].indexOf(callback)&&(callback.skip=!0)}},{key:"has",value:function(key){var context=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,bucket=this.getBucket(context);return!(void 0===bucket[key]||!bucket[key].length)}},{key:"run",value:function(context,key,p1,p2,p3,p4,p5,p6){var globalHandlers=this.globalBucket[key],index=-1,length=globalHandlers?globalHandlers.length:0;if(length)for(;++index<length;)if(globalHandlers[index]&&!globalHandlers[index].skip){var res=globalHandlers[index].call(context,p1,p2,p3,p4,p5,p6);void 0!==res&&(p1=res),globalHandlers[index]&&globalHandlers[index].runOnce&&this.remove(key,globalHandlers[index])}var localHandlers=this.getBucket(context)[key],_index=-1,_length=localHandlers?localHandlers.length:0;if(_length)for(;++_index<_length;)if(localHandlers[_index]&&!localHandlers[_index].skip){var _res=localHandlers[_index].call(context,p1,p2,p3,p4,p5,p6);void 0!==_res&&(p1=_res),localHandlers[_index]&&localHandlers[_index].runOnce&&this.remove(key,localHandlers[_index],context)}return p1}},{key:"destroy",value:function(){var context=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;(0,_object.objectEach)(this.getBucket(context),function(value,key,bucket){return bucket[key].length=0})}},{key:"register",value:function(key){this.isRegistered(key)||REGISTERED_HOOKS.push(key)}},{key:"deregister",value:function(key){this.isRegistered(key)&&REGISTERED_HOOKS.splice(REGISTERED_HOOKS.indexOf(key),1)}},{key:"isRegistered",value:function(key){return 0<=REGISTERED_HOOKS.indexOf(key)}},{key:"getRegistered",value:function(){return REGISTERED_HOOKS}}]),Hooks}(),globalSingleton=new Hooks;exports.default=Hooks},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.getRegisteredRenderers=exports.getRegisteredRendererNames=exports.hasRenderer=exports.getRenderer=exports.registerRenderer=void 0;var _staticRegister3=_interopRequireDefault(__webpack_require__(63)),_cellDecorator2=_interopRequireDefault(__webpack_require__(220)),_autocompleteRenderer2=_interopRequireDefault(__webpack_require__(221)),_checkboxRenderer2=_interopRequireDefault(__webpack_require__(222)),_htmlRenderer2=_interopRequireDefault(__webpack_require__(223)),_numericRenderer2=_interopRequireDefault(__webpack_require__(224)),_passwordRenderer2=_interopRequireDefault(__webpack_require__(225)),_textRenderer2=_interopRequireDefault(__webpack_require__(226));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _staticRegister=(0,_staticRegister3.default)("renderers"),register=_staticRegister.register,getItem=_staticRegister.getItem,hasItem=_staticRegister.hasItem,getNames=_staticRegister.getNames,getValues=_staticRegister.getValues;register("base",_cellDecorator2.default),register("autocomplete",_autocompleteRenderer2.default),register("checkbox",_checkboxRenderer2.default),register("html",_htmlRenderer2.default),register("numeric",_numericRenderer2.default),register("password",_passwordRenderer2.default),register("text",_textRenderer2.default),exports.registerRenderer=register,exports.getRenderer=function(name){if("function"==typeof name)return name;if(!hasItem(name))throw Error('No registered renderer found under "'+name+'" name');return getItem(name)},exports.hasRenderer=hasItem,exports.getRegisteredRendererNames=getNames,exports.getRegisteredRenderers=getValues},function(module,exports,__webpack_require__){var store=__webpack_require__(69)("wks"),uid=__webpack_require__(42),Symbol=__webpack_require__(11).Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.stopImmediatePropagation=function(event){event.isImmediatePropagationEnabled=!1,event.cancelBubble=!0},exports.isImmediatePropagationStopped=function(event){return!1===event.isImmediatePropagationEnabled},exports.stopPropagation=function(event){"function"==typeof event.stopPropagation?event.stopPropagation():event.cancelBubble=!0},exports.pageX=function(event){if(event.pageX)return event.pageX;return event.clientX+(0,_element.getWindowScrollLeft)()},exports.pageY=function(event){if(event.pageY)return event.pageY;return event.clientY+(0,_element.getWindowScrollTop)()},exports.isRightClick=function(event){return 2===event.button},exports.isLeftClick=function(event){return 0===event.button};var _element=__webpack_require__(0)},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.Viewport=exports.TableRenderer=exports.Table=exports.Settings=exports.Selection=exports.Scroll=exports.Overlays=exports.Event=exports.Core=exports.default=exports.Border=exports.TopLeftCornerOverlay=exports.TopOverlay=exports.LeftOverlay=exports.DebugOverlay=exports.RowFilter=exports.ColumnFilter=exports.CellRange=exports.CellCoords=exports.ViewportRowsCalculator=exports.ViewportColumnsCalculator=void 0,__webpack_require__(89),__webpack_require__(103),__webpack_require__(104),__webpack_require__(108),__webpack_require__(109),__webpack_require__(111),__webpack_require__(113),__webpack_require__(114),__webpack_require__(115),__webpack_require__(116),__webpack_require__(117),__webpack_require__(118),__webpack_require__(119),__webpack_require__(120),__webpack_require__(122),__webpack_require__(124),__webpack_require__(125),__webpack_require__(126),__webpack_require__(127),__webpack_require__(128),__webpack_require__(129),__webpack_require__(130),__webpack_require__(131),__webpack_require__(132),__webpack_require__(133),__webpack_require__(134),__webpack_require__(135),__webpack_require__(136),__webpack_require__(78),__webpack_require__(137),__webpack_require__(138),__webpack_require__(140),__webpack_require__(141),__webpack_require__(142),__webpack_require__(143),__webpack_require__(144),__webpack_require__(145),__webpack_require__(146),__webpack_require__(148),__webpack_require__(149),__webpack_require__(150),__webpack_require__(152),__webpack_require__(153),__webpack_require__(154);var _viewportColumns2=_interopRequireDefault(__webpack_require__(155)),_viewportRows2=_interopRequireDefault(__webpack_require__(156)),_coords2=_interopRequireDefault(__webpack_require__(49)),_range2=_interopRequireDefault(__webpack_require__(79)),_column2=_interopRequireDefault(__webpack_require__(157)),_row2=_interopRequireDefault(__webpack_require__(158)),_debug2=_interopRequireDefault(__webpack_require__(204)),_left2=_interopRequireDefault(__webpack_require__(206)),_top2=_interopRequireDefault(__webpack_require__(207)),_topLeftCorner2=_interopRequireDefault(__webpack_require__(208)),_border2=_interopRequireDefault(__webpack_require__(167)),_core2=_interopRequireDefault(__webpack_require__(159)),_event2=_interopRequireDefault(__webpack_require__(160)),_overlays2=_interopRequireDefault(__webpack_require__(161)),_scroll2=_interopRequireDefault(__webpack_require__(162)),_selection2=_interopRequireDefault(__webpack_require__(209)),_settings2=_interopRequireDefault(__webpack_require__(163)),_table2=_interopRequireDefault(__webpack_require__(164)),_tableRenderer2=_interopRequireDefault(__webpack_require__(165)),_viewport2=_interopRequireDefault(__webpack_require__(166));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.ViewportColumnsCalculator=_viewportColumns2.default,exports.ViewportRowsCalculator=_viewportRows2.default,exports.CellCoords=_coords2.default,exports.CellRange=_range2.default,exports.ColumnFilter=_column2.default,exports.RowFilter=_row2.default,exports.DebugOverlay=_debug2.default,exports.LeftOverlay=_left2.default,exports.TopOverlay=_top2.default,exports.TopLeftCornerOverlay=_topLeftCorner2.default,exports.Border=_border2.default,exports.default=_core2.default,exports.Core=_core2.default,exports.Event=_event2.default,exports.Overlays=_overlays2.default,exports.Scroll=_scroll2.default,exports.Selection=_selection2.default,exports.Settings=_settings2.default,exports.Table=_table2.default,exports.TableRenderer=_tableRenderer2.default,exports.Viewport=_viewport2.default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _object=__webpack_require__(1),_array=__webpack_require__(2),_recordTranslator=__webpack_require__(172),_plugins=__webpack_require__(5);var privatePool=new WeakMap,initializedPlugins=null,BasePlugin=function(){function BasePlugin(hotInstance){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BasePlugin),(0,_object.defineGetter)(this,"hot",hotInstance,{writable:!1}),(0,_object.defineGetter)(this,"t",(0,_recordTranslator.getTranslator)(hotInstance),{writable:!1}),privatePool.set(this,{hooks:{}}),initializedPlugins=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return _this.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(){return _this.onUpdateSettings()}),this.hot.addHook("beforeInit",function(){return _this.init()})}return _createClass(BasePlugin,[{key:"init",value:function(){this.pluginName=(0,_plugins.getPluginName)(this.hot,this),this.isEnabled&&this.isEnabled()&&this.enablePlugin(),initializedPlugins||(initializedPlugins=(0,_plugins.getRegistredPluginNames)(this.hot)),0<=initializedPlugins.indexOf(this.pluginName)&&initializedPlugins.splice(initializedPlugins.indexOf(this.pluginName),1),initializedPlugins.length||this.hot.runHooks("afterPluginsInitialized"),this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(name,callback){privatePool.get(this).hooks[name]=privatePool.get(this).hooks[name]||[];var hooks=privatePool.get(this).hooks[name];this.hot.addHook(name,callback),hooks.push(callback),privatePool.get(this).hooks[name]=hooks}},{key:"removeHooks",value:function(name){var _this2=this;(0,_array.arrayEach)(privatePool.get(this).hooks[name]||[],function(callback){_this2.hot.removeHook(name,callback)})}},{key:"clearHooks",value:function(){var _this3=this,hooks=privatePool.get(this).hooks;(0,_object.objectEach)(hooks,function(callbacks,name){return _this3.removeHooks(name)}),hooks.length=0}},{key:"callOnPluginsReady",value:function(callback){this.isPluginsReady?callback():this.pluginsInitializedCallbacks.push(callback)}},{key:"onAfterPluginsInitialized",value:function(){(0,_array.arrayEach)(this.pluginsInitializedCallbacks,function(callback){return callback()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&this.updatePlugin())}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var _this4=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),(0,_object.objectEach)(this,function(value,property){"hot"!==property&&"t"!==property&&(_this4[property]=null)}),delete this.t,delete this.hot}}]),BasePlugin}();exports.default=BasePlugin},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.getRegisteredEditors=exports.getRegisteredEditorNames=exports.hasEditor=exports.getEditorInstance=exports.getEditor=exports.registerEditor=void 0,exports.RegisteredEditor=RegisteredEditor,exports._getEditorInstance=_getEditorInstance;var _staticRegister3=_interopRequireDefault(__webpack_require__(63)),_pluginHooks2=_interopRequireDefault(__webpack_require__(7)),_baseEditor2=_interopRequireDefault(__webpack_require__(41)),_autocompleteEditor2=_interopRequireDefault(__webpack_require__(168)),_checkboxEditor2=_interopRequireDefault(__webpack_require__(211)),_dateEditor2=_interopRequireDefault(__webpack_require__(212)),_dropdownEditor2=_interopRequireDefault(__webpack_require__(215)),_handsontableEditor2=_interopRequireDefault(__webpack_require__(169)),_mobileTextEditor2=_interopRequireDefault(__webpack_require__(216)),_numericEditor2=_interopRequireDefault(__webpack_require__(217)),_passwordEditor2=_interopRequireDefault(__webpack_require__(218)),_selectEditor2=_interopRequireDefault(__webpack_require__(219)),_textEditor2=_interopRequireDefault(__webpack_require__(51));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var registeredEditorClasses=new WeakMap,_staticRegister=(0,_staticRegister3.default)("editors"),register=_staticRegister.register,getItem=_staticRegister.getItem,hasItem=_staticRegister.hasItem,getNames=_staticRegister.getNames,getValues=_staticRegister.getValues;function RegisteredEditor(editorClass){var instances={},Clazz=editorClass;this.getConstructor=function(){return editorClass},this.getInstance=function(hotInstance){return hotInstance.guid in instances||(instances[hotInstance.guid]=new Clazz(hotInstance)),instances[hotInstance.guid]},_pluginHooks2.default.getSingleton().add("afterDestroy",function(){instances={}})}function _getEditorInstance(name,hotInstance){var editor=void 0;if("function"==typeof name)registeredEditorClasses.get(name)||_register(null,name),editor=registeredEditorClasses.get(name);else{if("string"!=typeof name)throw Error('Only strings and functions can be passed as "editor" parameter');editor=getItem(name)}if(!editor)throw Error('No editor registered under name "'+name+'"');return editor.getInstance(hotInstance)}function _register(name,editorClass){var editorWrapper=new RegisteredEditor(editorClass);"string"==typeof name&&register(name,editorWrapper),registeredEditorClasses.set(editorClass,editorWrapper)}_register("base",_baseEditor2.default),_register("autocomplete",_autocompleteEditor2.default),_register("checkbox",_checkboxEditor2.default),_register("date",_dateEditor2.default),_register("dropdown",_dropdownEditor2.default),_register("handsontable",_handsontableEditor2.default),_register("mobile",_mobileTextEditor2.default),_register("numeric",_numericEditor2.default),_register("password",_passwordEditor2.default),_register("select",_selectEditor2.default),_register("text",_textEditor2.default),exports.registerEditor=_register,exports.getEditor=function(name){if(!hasItem(name))throw Error('No registered editor found under "'+name+'" name');return getItem(name).getConstructor()},exports.getEditorInstance=_getEditorInstance,exports.hasEditor=hasItem,exports.getRegisteredEditorNames=getNames,exports.getRegisteredEditors=getValues},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(16),IE8_DOM_DEFINE=__webpack_require__(91),toPrimitive=__webpack_require__(65),dP=Object.defineProperty;exports.f=__webpack_require__(20)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.KEY_CODES=void 0,exports.isPrintableChar=function(keyCode){return 32==keyCode||48<=keyCode&&keyCode<=57||96<=keyCode&&keyCode<=111||186<=keyCode&&keyCode<=192||219<=keyCode&&keyCode<=222||226<=keyCode||65<=keyCode&&keyCode<=90},exports.isMetaKey=function(keyCode){return-1!==[KEY_CODES.ARROW_DOWN,KEY_CODES.ARROW_UP,KEY_CODES.ARROW_LEFT,KEY_CODES.ARROW_RIGHT,KEY_CODES.HOME,KEY_CODES.END,KEY_CODES.DELETE,KEY_CODES.BACKSPACE,KEY_CODES.F1,KEY_CODES.F2,KEY_CODES.F3,KEY_CODES.F4,KEY_CODES.F5,KEY_CODES.F6,KEY_CODES.F7,KEY_CODES.F8,KEY_CODES.F9,KEY_CODES.F10,KEY_CODES.F11,KEY_CODES.F12,KEY_CODES.TAB,KEY_CODES.PAGE_DOWN,KEY_CODES.PAGE_UP,KEY_CODES.ENTER,KEY_CODES.ESCAPE,KEY_CODES.SHIFT,KEY_CODES.CAPS_LOCK,KEY_CODES.ALT].indexOf(keyCode)},exports.isCtrlKey=function(keyCode){return-1!==[KEY_CODES.CONTROL_LEFT,224,KEY_CODES.COMMAND_LEFT,KEY_CODES.COMMAND_RIGHT].indexOf(keyCode)},exports.isKey=function(keyCode,baseCode){var keys=baseCode.split("|"),result=!1;return(0,_array.arrayEach)(keys,function(key){if(keyCode===KEY_CODES[key])return!(result=!0)}),result};var _array=__webpack_require__(2),KEY_CODES=exports.KEY_CODES={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.normalizeSelection=function(selRange){return{start:selRange.getTopLeftCorner(),end:selRange.getBottomRightCorner()}},exports.isSeparator=function(cell){return(0,_element.hasClass)(cell,"htSeparator")},exports.hasSubMenu=function(cell){return(0,_element.hasClass)(cell,"htSubmenu")},exports.isDisabled=function(cell){return(0,_element.hasClass)(cell,"htDisabled")},exports.isSelectionDisabled=function(cell){return(0,_element.hasClass)(cell,"htSelectionDisabled")},exports.getValidSelection=function(hot){var selected=hot.getSelected();if(!selected)return null;if(selected[0]<0)return null;return selected},exports.prepareVerticalAlignClass=prepareVerticalAlignClass,exports.prepareHorizontalAlignClass=prepareHorizontalAlignClass,exports.getAlignmentClasses=function(range,callback){for(var classes={},row=range.from.row;row<=range.to.row;row++)for(var col=range.from.col;col<=range.to.col;col++)classes[row]||(classes[row]=[]),classes[row][col]=callback(row,col);return classes},exports.align=function(range,type,alignment,cellDescriptor,propertySetter){if(range.from.row==range.to.row&&range.from.col==range.to.col)applyAlignClassName(range.from.row,range.from.col,type,alignment,cellDescriptor,propertySetter);else for(var row=range.from.row;row<=range.to.row;row++)for(var col=range.from.col;col<=range.to.col;col++)applyAlignClassName(row,col,type,alignment,cellDescriptor,propertySetter)},exports.checkSelectionConsistency=function(range,comparator){var result=!1;range&&range.forAll(function(row,col){if(comparator(row,col))return!(result=!0)});return result},exports.markLabelAsSelected=function(label){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+label},exports.isItemHidden=function(item,instance){return!item.hidden||!("function"==typeof item.hidden&&item.hidden.call(instance))},exports.filterSeparators=function(items){var separator=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_separator.KEY,result=items.slice(0);return result=function(items){var result=[];return(0,_array.arrayEach)(items,function(value,index){0<index?result[result.length-1].name!==value.name&&result.push(value):result.push(value)}),result}(result=function(items,separator){var result=items.slice(0);return result.reverse(),(result=shiftSeparators(result,separator)).reverse(),result}(result=shiftSeparators(result,separator),separator))};var _array=__webpack_require__(2),_element=__webpack_require__(0),_separator=__webpack_require__(86);function prepareVerticalAlignClass(className,alignment){return-1!=className.indexOf(alignment)?className:(className=className.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),className+=" "+alignment)}function prepareHorizontalAlignClass(className,alignment){return-1!=className.indexOf(alignment)?className:(className=className.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),className+=" "+alignment)}function applyAlignClassName(row,col,type,alignment,cellDescriptor,propertySetter){var cellMeta=cellDescriptor(row,col),className=alignment;cellMeta.className&&(className="vertical"===type?prepareVerticalAlignClass(cellMeta.className,alignment):prepareHorizontalAlignClass(cellMeta.className,alignment)),propertySetter(row,col,"className",className)}function shiftSeparators(items,separator){for(var result=items.slice(0);0<result.length&&result[0].name===separator;)result.shift();return result}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(52),min=Math.min;module.exports=function(it){return 0<it?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var strings,raw,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_templateObject=(strings=["\n          Your license key of Handsontable Pro has expired.ââââ \n          Renew your maintenance plan at https://handsontable.com or downgrade to the previous version of the software.\n          "],raw=["\n          Your license key of Handsontable Pro has expired.ââââ\\x20\n          Renew your maintenance plan at https://handsontable.com or downgrade to the previous version of the software.\n          "],Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}})));exports.stringify=function(value){var result=void 0;switch(void 0===value?"undefined":_typeof(value)){case"string":case"number":result=""+value;break;case"object":result=null===value?"":value.toString();break;case"undefined":result="";break;default:result=value.toString()}return result},exports.isDefined=function(variable){return void 0!==variable},exports.isUndefined=isUndefined,exports.isEmpty=isEmpty,exports.isRegExp=function(variable){return"[object RegExp]"===Object.prototype.toString.call(variable)},exports._injectProductInfo=function(key,element){key=_norm(key||"");var warningMessage="",showDomMessage=!0,schemaValidity=function(v){var z=[][_m],p=z;if(v[_m]!==_cp("Z"))return!1;for(var c="",i="B<H4P+".split(""),j=_cp(i.shift());j;j=_cp(i.shift()||"A"))--j<""[_m]?p|=(_pi(""+_pi(_hd(c)+(_hd(_ss(v,Math.abs(j),2))+[]).padStart(2,"0")))%_cp("Â¢")||2)>>1:c=_ss(v,j,j?1===i[_m]?9:8:6);return p===z}(key),ignored=_ignored(),trial=isEmpty(key)||"trial"===key;if(trial||schemaValidity)if(schemaValidity){var releaseTime=Math.floor((0,_moment2.default)("12/10/2017","DD/MM/YYYY").toDate().getTime()/864e5),keyGenTime=_extractTime(key);(45e3<keyGenTime||keyGenTime!==parseInt(keyGenTime,10))&&(warningMessage="The license key provided to Handsontable Pro is invalid. Make sure you pass it correctly."),warningMessage||(keyGenTime+1<releaseTime&&(warningMessage=(0,_templateLiteralTag.toSingleLine)(_templateObject)),showDomMessage=keyGenTime+15<releaseTime)}else warningMessage="Evaluation version of Handsontable Pro. Not licensed for use in a production environment.";else warningMessage="The license key provided to Handsontable Pro is invalid. Make sure you pass it correctly.";ignored&&(showDomMessage=warningMessage=!1);warningMessage&&!_notified&&(console[trial?"info":"warn"](warningMessage),_notified=!0);if(showDomMessage&&element.parentNode){var message=document.createElement("div");message.id="hot-display-license-info",message.appendChild(document.createTextNode("Evaluation version of Handsontable Pro.")),message.appendChild(document.createElement("br")),message.appendChild(document.createTextNode("Not licensed for production use.")),element.parentNode.insertBefore(message,element.nextSibling)}};var obj,_moment=__webpack_require__(50),_moment2=(obj=_moment)&&obj.__esModule?obj:{default:obj},_templateLiteralTag=__webpack_require__(205);function isUndefined(variable){return void 0===variable}function isEmpty(variable){return null===variable||""===variable||isUndefined(variable)}var _m="length",_hd=function(v){return parseInt(v,16)},_pi=function(v){return parseInt(v,10)},_ss=function(v,s,l){return v.substr(s,l)},_cp=function(v){return v.codePointAt(0)-65},_norm=function(v){return(""+v).replace(/\-/g,"")},_extractTime=function(v){return _hd(_ss(_norm(v),_hd("12"),_cp("F")))/(_hd(_ss(_norm(v),_cp("B"),~~![][_m]))||9)},_ignored=function(){return"undefined"!=typeof location&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host)},_notified=!1},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(67),defined=__webpack_require__(33);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.isIE8=function(){return _isIE8},exports.isIE9=function(){return _isIE9},exports.isSafari=function(){return _isSafari},exports.isChrome=function(){return _isChrome},exports.isMobileBrowser=function(userAgent){userAgent||(userAgent=navigator.userAgent);return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)};var _isIE8=!document.createTextNode("test").textContent;var _isIE9=!!document.documentMode;var _isSafari=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);var _isChrome=/Chrome/.test(navigator.userAgent)&&/Google/.test(navigator.vendor)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.getRegisteredValidators=exports.getRegisteredValidatorNames=exports.hasValidator=exports.getValidator=exports.registerValidator=void 0;var _staticRegister3=_interopRequireDefault(__webpack_require__(63)),_autocompleteValidator2=_interopRequireDefault(__webpack_require__(227)),_dateValidator2=_interopRequireDefault(__webpack_require__(228)),_numericValidator2=_interopRequireDefault(__webpack_require__(229)),_timeValidator2=_interopRequireDefault(__webpack_require__(230));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _staticRegister=(0,_staticRegister3.default)("validators"),register=_staticRegister.register,getItem=_staticRegister.getItem,hasItem=_staticRegister.hasItem,getNames=_staticRegister.getNames,getValues=_staticRegister.getValues;register("autocomplete",_autocompleteValidator2.default),register("date",_dateValidator2.default),register("numeric",_numericValidator2.default),register("time",_timeValidator2.default),exports.registerValidator=register,exports.getValidator=function(name){if("function"==typeof name)return name;if(!hasItem(name))throw Error('No registered validator found under "'+name+'" name');return getItem(name)},exports.hasValidator=hasItem,exports.getRegisteredValidatorNames=getNames,exports.getRegisteredValidators=getValues},function(module,exports,__webpack_require__){var global=__webpack_require__(11),hide=__webpack_require__(29),has=__webpack_require__(24),SRC=__webpack_require__(42)("src"),$toString=Function.toString,TPL=(""+$toString).split("toString");__webpack_require__(44).inspectSource=function(it){return $toString.call(it)},(module.exports=function(O,key,val,safe){var isFunction="function"==typeof val;isFunction&&(has(val,"name")||hide(val,"name",key)),O[key]!==val&&(isFunction&&(has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===global?O[key]=val:safe?O[key]?O[key]=val:hide(O,key,val):(delete O[key],hide(O,key,val)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[SRC]||$toString.call(this)})},function(module,exports,__webpack_require__){var dP=__webpack_require__(17),createDesc=__webpack_require__(43);module.exports=__webpack_require__(20)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(55);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0),_object=__webpack_require__(1),_array=__webpack_require__(2),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_core2=_interopRequireDefault(__webpack_require__(159));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var registeredOverlays={},Overlay=function(){function Overlay(wotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Overlay),(0,_object.defineGetter)(this,"wot",wotInstance,{writable:!1}),this.instance=this.wot,this.type="",this.mainTableScrollableElement=null,this.TABLE=this.wot.wtTable.TABLE,this.hider=this.wot.wtTable.hider,this.spreader=this.wot.wtTable.spreader,this.holder=this.wot.wtTable.holder,this.wtRootElement=this.wot.wtTable.wtRootElement,this.trimmingContainer=(0,_element.getTrimmingContainer)(this.hider.parentNode.parentNode),this.areElementSizesAdjusted=!1,this.updateStateOfRendering()}return _createClass(Overlay,null,[{key:"registerOverlay",value:function(type,overlayClass){if(-1===Overlay.CLONE_TYPES.indexOf(type))throw new Error("Unsupported overlay ("+type+").");registeredOverlays[type]=overlayClass}},{key:"createOverlay",value:function(type,wot){return new registeredOverlays[type](wot)}},{key:"hasOverlay",value:function(type){return void 0!==registeredOverlays[type]}},{key:"isOverlayTypeOf",value:function(overlay,type){return!(!overlay||!registeredOverlays[type])&&overlay instanceof registeredOverlays[type]}},{key:"CLONE_TOP",get:function(){return"top"}},{key:"CLONE_BOTTOM",get:function(){return"bottom"}},{key:"CLONE_LEFT",get:function(){return"left"}},{key:"CLONE_TOP_LEFT_CORNER",get:function(){return"top_left_corner"}},{key:"CLONE_BOTTOM_LEFT_CORNER",get:function(){return"bottom_left_corner"}},{key:"CLONE_DEBUG",get:function(){return"debug"}},{key:"CLONE_TYPES",get:function(){return[Overlay.CLONE_TOP,Overlay.CLONE_BOTTOM,Overlay.CLONE_LEFT,Overlay.CLONE_TOP_LEFT_CORNER,Overlay.CLONE_BOTTOM_LEFT_CORNER,Overlay.CLONE_DEBUG]}}]),_createClass(Overlay,[{key:"updateStateOfRendering",value:function(){var previousState=this.needFullRender;this.needFullRender=this.shouldBeRendered();var changed=previousState!==this.needFullRender;return changed&&!this.needFullRender&&this.reset(),changed}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=(0,_element.getTrimmingContainer)(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){this.mainTableScrollableElement=(0,_element.getScrollableElement)(this.wot.wtTable.TABLE)}},{key:"makeClone",value:function(direction){if(-1===Overlay.CLONE_TYPES.indexOf(direction))throw new Error('Clone type "'+direction+'" is not supported.');var clone=document.createElement("DIV"),clonedTable=document.createElement("TABLE");clone.className="ht_clone_"+direction+" handsontable",clone.style.position="absolute",clone.style.top=0,clone.style.left=0,clone.style.overflow="hidden",clonedTable.className=this.wot.wtTable.TABLE.className,clone.appendChild(clonedTable),this.type=direction,this.wot.wtTable.wtRootElement.parentNode.appendChild(clone);var preventOverflow=this.wot.getSetting("preventOverflow");return!0===preventOverflow||"horizontal"===preventOverflow&&this.type===Overlay.CLONE_TOP||"vertical"===preventOverflow&&this.type===Overlay.CLONE_LEFT?this.mainTableScrollableElement=window:this.mainTableScrollableElement=(0,_element.getScrollableElement)(this.wot.wtTable.TABLE),new _core2.default({cloneSource:this.wot,cloneOverlay:this,table:clonedTable})}},{key:"refresh",value:function(){var fastDraw=0<arguments.length&&void 0!==arguments[0]&&arguments[0],nextCycleRenderFlag=this.shouldBeRendered();this.clone&&(this.needFullRender||nextCycleRenderFlag)&&this.clone.draw(fastDraw),this.needFullRender=nextCycleRenderFlag}},{key:"reset",value:function(){if(this.clone){var holder=this.clone.wtTable.holder,hider=this.clone.wtTable.hider,holderStyle=holder.style,hidderStyle=hider.style,rootStyle=holder.parentNode.style;(0,_array.arrayEach)([holderStyle,hidderStyle,rootStyle],function(style){style.width="",style.height=""})}}},{key:"destroy",value:function(){new _eventManager2.default(this.clone).destroy()}}]),Overlay}();exports.default=Overlay},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.toUpperCaseFirst=function(string){return string[0].toUpperCase()+string.substr(1)},exports.equalsIgnoreCase=function(){for(var unique=[],_len=arguments.length,strings=Array(_len),_key=0;_key<_len;_key++)strings[_key]=arguments[_key];var length=strings.length;for(;length--;){var string=(0,_mixed.stringify)(strings[length]).toLowerCase();-1===unique.indexOf(string)&&unique.push(string)}return 1===unique.length},exports.randomString=function(){function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return s4()+s4()+s4()+s4()},exports.isPercentValue=function(value){return/^([0-9][0-9]?%$)|(^100%$)/.test(value)},exports.substitute=function(template){var variables=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(""+template).replace(/(?:\\)?\[([^[\]]+)]/g,function(match,name){return"\\"===match.charAt(0)?match.substr(1,match.length-1):void 0===variables[name]?"":variables[name]})},exports.stripTags=function(string){return(string+="").replace(STRIP_TAGS_REGEX,"")};var _mixed=__webpack_require__(22);__webpack_require__(6);var STRIP_TAGS_REGEX=/<\/?\w+\/?>|<\w+[\s|/][^>]*>/gi},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.requestAnimationFrame=function(callback){return _requestAnimationFrame.call(window,callback)},exports.cancelAnimationFrame=function(id){_cancelAnimationFrame.call(window,id)},exports.isTouchSupported=function(){return"ontouchstart"in window},exports.isWebComponentSupportedNatively=function(){var test=document.createElement("div");return!(!test.createShadowRoot||!test.createShadowRoot.toString().match(/\[native code\]/))},exports.hasCaptionProblem=function(){void 0===_hasCaptionProblem&&function(){var TABLE=document.createElement("TABLE");TABLE.style.borderSpacing=0,TABLE.style.borderWidth=0,TABLE.style.padding=0;var TBODY=document.createElement("TBODY");TABLE.appendChild(TBODY),TBODY.appendChild(document.createElement("TR")),TBODY.firstChild.appendChild(document.createElement("TD")),TBODY.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var CAPTION=document.createElement("CAPTION");CAPTION.innerHTML="c<br>c<br>c<br>c",CAPTION.style.padding=0,CAPTION.style.margin=0,TABLE.insertBefore(CAPTION,TBODY),document.body.appendChild(TABLE),_hasCaptionProblem=TABLE.offsetHeight<2*TABLE.lastChild.offsetHeight,document.body.removeChild(TABLE)}();return _hasCaptionProblem},exports.getComparisonFunction=function(language){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(comparisonFunction)return comparisonFunction;comparisonFunction="object"===("undefined"==typeof Intl?"undefined":_typeof(Intl))?new Intl.Collator(language,options).compare:"function"==typeof String.prototype.localeCompare?function(a,b){return(""+a).localeCompare(b)}:function(a,b){return a===b?0:b<a?-1:1};return comparisonFunction};for(var _hasCaptionProblem,lastTime=0,vendors=["ms","moz","webkit","o"],_requestAnimationFrame=window.requestAnimationFrame,_cancelAnimationFrame=window.cancelAnimationFrame,x=0;x<vendors.length&&!_requestAnimationFrame;++x)_requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],_cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];_requestAnimationFrame||(_requestAnimationFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),_cancelAnimationFrame||(_cancelAnimationFrame=function(id){clearTimeout(id)});var comparisonFunction=void 0},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.isFunction=function(func){return"function"==typeof func},exports.throttle=throttle,exports.throttleAfterHits=function(func){var wait=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200,hits=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10,funcThrottle=throttle(func,wait),remainHits=hits;function _throttleAfterHits(){return remainHits?(remainHits--,func.apply(this,arguments)):funcThrottle.apply(this,arguments)}return _throttleAfterHits.clearHits=function(){remainHits=hits},_throttleAfterHits},exports.debounce=function(func){var wait=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200,lastTimer=null,result=void 0;return function(){var _this2=this,args=arguments;lastTimer&&clearTimeout(lastTimer);return lastTimer=setTimeout(function(){result=func.apply(_this2,args)},wait),result}},exports.pipe=function(){for(var _len=arguments.length,functions=Array(_len),_key=0;_key<_len;_key++)functions[_key]=arguments[_key];var firstFunc=functions[0],restFunc=functions.slice(1);return function(){return(0,_array.arrayReduce)(restFunc,function(acc,fn){return fn(acc)},firstFunc.apply(this,arguments))}},exports.partial=function(func){for(var _len2=arguments.length,params=Array(1<_len2?_len2-1:0),_key2=1;_key2<_len2;_key2++)params[_key2-1]=arguments[_key2];return function(){for(var _len3=arguments.length,restParams=Array(_len3),_key3=0;_key3<_len3;_key3++)restParams[_key3]=arguments[_key3];return func.apply(this,params.concat(restParams))}},exports.curry=function(func){var argsLength=func.length;return function given(argsSoFar){return function(){for(var _len4=arguments.length,params=Array(_len4),_key4=0;_key4<_len4;_key4++)params[_key4]=arguments[_key4];var passedArgsSoFar=argsSoFar.concat(params);return passedArgsSoFar.length>=argsLength?func.apply(this,passedArgsSoFar):given(passedArgsSoFar)}}([])},exports.curryRight=function(func){var argsLength=func.length;return function given(argsSoFar){return function(){for(var _len5=arguments.length,params=Array(_len5),_key5=0;_key5<_len5;_key5++)params[_key5]=arguments[_key5];var passedArgsSoFar=argsSoFar.concat(params.reverse());return passedArgsSoFar.length>=argsLength?func.apply(this,passedArgsSoFar):given(passedArgsSoFar)}}([])};var _array=__webpack_require__(2);function throttle(func){var wait=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200,lastCalled=0,result={lastCallThrottled:!0},lastTimer=null;return function(){var _this=this,args=arguments,stamp=Date.now(),needCall=!1;result.lastCallThrottled=!0,lastCalled||(lastCalled=stamp,needCall=!0);var remaining=wait-(stamp-lastCalled);return needCall?(result.lastCallThrottled=!1,func.apply(this,args)):(lastTimer&&clearTimeout(lastTimer),lastTimer=setTimeout(function(){result.lastCallThrottled=!1,func.apply(_this,args),lastTimer=void(lastCalled=0)},remaining)),result}}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(92),enumBugKeys=__webpack_require__(70);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var defined=__webpack_require__(33);module.exports=function(it){return Object(defined(it))}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14);module.exports=function(it,TYPE){if(!isObject(it)||it._t!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required!");return it}},function(module,exports,__webpack_require__){var UNSCOPABLES=__webpack_require__(9)("unscopables"),ArrayProto=Array.prototype;null==ArrayProto[UNSCOPABLES]&&__webpack_require__(29)(ArrayProto,UNSCOPABLES,{}),module.exports=function(key){ArrayProto[UNSCOPABLES][key]=!0}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.EditorState=void 0;var _src=__webpack_require__(12),_mixed=__webpack_require__(22),EditorState=exports.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"};function BaseEditor(instance){this.instance=instance,this.state=EditorState.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.init()}BaseEditor.prototype._fireCallbacks=function(result){this._closeCallback&&(this._closeCallback(result),this._closeCallback=null)},BaseEditor.prototype.init=function(){},BaseEditor.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},BaseEditor.prototype.setValue=function(newValue){throw Error("Editor setValue() method unimplemented")},BaseEditor.prototype.open=function(){throw Error("Editor open() method unimplemented")},BaseEditor.prototype.close=function(){throw Error("Editor close() method unimplemented")},BaseEditor.prototype.prepare=function(row,col,prop,td,originalValue,cellProperties){this.TD=td,this.row=row,this.col=col,this.prop=prop,this.originalValue=originalValue,this.cellProperties=cellProperties,this.state=EditorState.VIRGIN},BaseEditor.prototype.extend=function(){var Child,baseClass=this.constructor;return Child=function(){baseClass.apply(this,arguments)},Bridge.prototype=baseClass.prototype,Child.prototype=new Bridge,Child.prototype.constructor=Child;function Bridge(){}},BaseEditor.prototype.saveValue=function(value,ctrlDown){var selection=void 0,tmp=void 0;ctrlDown?((selection=this.instance.getSelected())[0]>selection[2]&&(tmp=selection[0],selection[0]=selection[2],selection[2]=tmp),selection[1]>selection[3]&&(tmp=selection[1],selection[1]=selection[3],selection[3]=tmp)):selection=[this.row,this.col,null,null],this.instance.populateFromArray(selection[0],selection[1],value,selection[2],selection[3],"edit")},BaseEditor.prototype.beginEditing=function(initialValue,event){this.state==EditorState.VIRGIN&&(this.instance.view.scrollViewport(new _src.CellCoords(this.row,this.col)),this.instance.view.render(),this.state=EditorState.EDITING,initialValue="string"==typeof initialValue?initialValue:this.originalValue,this.setValue((0,_mixed.stringify)(initialValue)),this.open(event),this._opened=!0,this.focus(),this.instance.view.render(),this.instance.runHooks("afterBeginEditing",this.row,this.col))},BaseEditor.prototype.finishEditing=function(restoreOriginalValue,ctrlDown,callback){var val,_this=this;if(callback){var previousCloseCallback=this._closeCallback;this._closeCallback=function(result){previousCloseCallback&&previousCloseCallback(result),callback(result),_this.instance.view.render()}}if(!this.isWaiting())if(this.state!=EditorState.VIRGIN){if(this.state==EditorState.EDITING){if(restoreOriginalValue)return this.cancelChanges(),void this.instance.view.render();var value=this.getValue();val=this.instance.getSettings().trimWhitespace?[["string"==typeof value?String.prototype.trim.call(value||""):value]]:[[value]],this.state=EditorState.WAITING,this.saveValue(val,ctrlDown),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(result){_this.state=EditorState.FINISHED,_this.discardEditor(result)}):(this.state=EditorState.FINISHED,this.discardEditor(!0))}}else this.instance._registerTimeout(setTimeout(function(){_this._fireCallbacks(!0)},0))},BaseEditor.prototype.cancelChanges=function(){this.state=EditorState.FINISHED,this.discardEditor()},BaseEditor.prototype.discardEditor=function(result){this.state===EditorState.FINISHED&&(!1===result&&!0!==this.cellProperties.allowInvalid?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=EditorState.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=EditorState.VIRGIN,this._fireCallbacks(!0)))},BaseEditor.prototype.enableFullEditMode=function(){this._fullEditMode=!0},BaseEditor.prototype.isInFullEditMode=function(){return this._fullEditMode},BaseEditor.prototype.isOpened=function(){return this._opened},BaseEditor.prototype.isWaiting=function(){return this.state===EditorState.WAITING},BaseEditor.prototype.checkEditorSection=function(){var totalRows=this.instance.countRows(),section="";return this.row<this.instance.getSettings().fixedRowsTop?section=this.col<this.instance.getSettings().fixedColumnsLeft?"top-left-corner":"top":this.instance.getSettings().fixedRowsBottom&&this.row>=totalRows-this.instance.getSettings().fixedRowsBottom?section=this.col<this.instance.getSettings().fixedColumnsLeft?"bottom-left-corner":"bottom":this.col<this.instance.getSettings().fixedColumnsLeft&&(section="left"),section},exports.default=BaseEditor},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){var core=module.exports={version:"2.5.1"};"number"==typeof __e&&(__e=core)},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var def=__webpack_require__(17).f,has=__webpack_require__(24),TAG=__webpack_require__(9)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__webpack_require__){function setMeta(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})}var META=__webpack_require__(42)("meta"),isObject=__webpack_require__(14),has=__webpack_require__(24),setDesc=__webpack_require__(17).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(23)(function(){return isExtensible(Object.preventExtensions({}))}),meta=module.exports={KEY:META,NEED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak:function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze:function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it}}},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var CellCoords=function(){function CellCoords(row,col){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CellCoords),void 0!==row&&void 0!==col?(this.row=row,this.col=col):(this.row=null,this.col=null)}return _createClass(CellCoords,[{key:"isValid",value:function(wotInstance){return!(this.row<0||this.col<0)&&!(this.row>=wotInstance.getSetting("totalRows")||this.col>=wotInstance.getSetting("totalColumns"))}},{key:"isEqual",value:function(cellCoords){return cellCoords===this||this.row===cellCoords.row&&this.col===cellCoords.col}},{key:"isSouthEastOf",value:function(testedCoords){return this.row>=testedCoords.row&&this.col>=testedCoords.col}},{key:"isNorthWestOf",value:function(testedCoords){return this.row<=testedCoords.row&&this.col<=testedCoords.col}},{key:"isSouthWestOf",value:function(testedCoords){return this.row>=testedCoords.row&&this.col<=testedCoords.col}},{key:"isNorthEastOf",value:function(testedCoords){return this.row<=testedCoords.row&&this.col>=testedCoords.col}}]),CellCoords}();exports.default=CellCoords},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_50__},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _element=__webpack_require__(0),_autoResize2=_interopRequireDefault(__webpack_require__(210)),_baseEditor=__webpack_require__(41),_baseEditor2=_interopRequireDefault(_baseEditor),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_unicode=__webpack_require__(18),_event=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TextEditor=_baseEditor2.default.prototype.extend();TextEditor.prototype.init=function(){var that=this;this.createElements(),this.eventManager=new _eventManager2.default(this),this.bindEvents(),this.autoResize=(0,_autoResize2.default)(),this.instance.addHook("afterDestroy",function(){that.destroy()})},TextEditor.prototype.getValue=function(){return this.TEXTAREA.value},TextEditor.prototype.setValue=function(newValue){this.TEXTAREA.value=newValue};var onBeforeKeyDown=function(event){var ctrlDown,that=this.getActiveEditor();if(ctrlDown=(event.ctrlKey||event.metaKey)&&!event.altKey,event.target===that.TEXTAREA&&!(0,_event.isImmediatePropagationStopped)(event))if(17!==event.keyCode&&224!==event.keyCode&&91!==event.keyCode&&93!==event.keyCode){switch(event.keyCode){case _unicode.KEY_CODES.ARROW_RIGHT:case _unicode.KEY_CODES.ARROW_LEFT:that.isInFullEditMode()&&((that.isWaiting()||that.allowKeyEventPropagation)&&(that.isWaiting()||!that.allowKeyEventPropagation||that.allowKeyEventPropagation(event.keyCode))||(0,_event.stopImmediatePropagation)(event));break;case _unicode.KEY_CODES.ARROW_UP:case _unicode.KEY_CODES.ARROW_DOWN:that.isInFullEditMode()&&((that.isWaiting()||that.allowKeyEventPropagation)&&(that.isWaiting()||!that.allowKeyEventPropagation||that.allowKeyEventPropagation(event.keyCode))||(0,_event.stopImmediatePropagation)(event));break;case _unicode.KEY_CODES.ENTER:var selected=that.instance.getSelected(),isMultipleSelection=!(selected[0]===selected[2]&&selected[1]===selected[3]);if(ctrlDown&&!isMultipleSelection||event.altKey){if(that.isOpened()){var caretPosition=(0,_element.getCaretPosition)(that.TEXTAREA),value=that.getValue(),newValue=value.slice(0,caretPosition)+"\n"+value.slice(caretPosition);that.setValue(newValue),(0,_element.setCaretPosition)(that.TEXTAREA,caretPosition+1)}else that.beginEditing(that.originalValue+"\n");(0,_event.stopImmediatePropagation)(event)}event.preventDefault();break;case _unicode.KEY_CODES.A:case _unicode.KEY_CODES.X:case _unicode.KEY_CODES.C:case _unicode.KEY_CODES.V:ctrlDown&&(0,_event.stopImmediatePropagation)(event);break;case _unicode.KEY_CODES.BACKSPACE:case _unicode.KEY_CODES.DELETE:case _unicode.KEY_CODES.HOME:case _unicode.KEY_CODES.END:(0,_event.stopImmediatePropagation)(event)}-1===[_unicode.KEY_CODES.ARROW_UP,_unicode.KEY_CODES.ARROW_RIGHT,_unicode.KEY_CODES.ARROW_DOWN,_unicode.KEY_CODES.ARROW_LEFT].indexOf(event.keyCode)&&that.autoResize.resize(String.fromCharCode(event.keyCode))}else(0,_event.stopImmediatePropagation)(event)};TextEditor.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",onBeforeKeyDown)},TextEditor.prototype.close=function(tdOutside){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",onBeforeKeyDown)},TextEditor.prototype.focus=function(){this.TEXTAREA.focus(),(0,_element.setCaretPosition)(this.TEXTAREA,this.TEXTAREA.value.length)},TextEditor.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),(0,_element.addClass)(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),(0,_element.addClass)(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var that=this;this.instance._registerTimeout(setTimeout(function(){that.refreshDimensions()},0))},TextEditor.prototype.getEditedCell=function(){var editedCell;switch(this.checkEditorSection()){case"top":editedCell=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"top-left-corner":editedCell=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"bottom-left-corner":editedCell=this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":editedCell=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;case"bottom":editedCell=this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:editedCell=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=editedCell&&-2!=editedCell?editedCell:void 0},TextEditor.prototype.refreshValue=function(){var sourceData=this.instance.getSourceDataAtCell(this.row,this.prop);this.originalValue=sourceData,this.setValue(sourceData),this.refreshDimensions()},TextEditor.prototype.refreshDimensions=function(){if(this.state===_baseEditor.EditorState.EDITING)if(this.TD=this.getEditedCell(),this.TD){var cssTransformOffset,currentOffset=(0,_element.offset)(this.TD),containerOffset=(0,_element.offset)(this.instance.rootElement),scrollableContainer=(0,_element.getScrollableElement)(this.TD),totalRowsCount=this.instance.countRows(),editTopModifier=currentOffset.top===containerOffset.top?0:1,editTop=currentOffset.top-containerOffset.top-editTopModifier-(scrollableContainer.scrollTop||0),editLeft=currentOffset.left-containerOffset.left-1-(scrollableContainer.scrollLeft||0),settings=this.instance.getSettings(),colHeadersCount=(this.instance.hasRowHeaders(),this.instance.hasColHeaders()),editorSection=this.checkEditorSection(),backgroundColor=this.TD.style.backgroundColor;switch(editorSection){case"top":cssTransformOffset=(0,_element.getCssTransform)(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":cssTransformOffset=(0,_element.getCssTransform)(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":cssTransformOffset=(0,_element.getCssTransform)(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":cssTransformOffset=(0,_element.getCssTransform)(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":cssTransformOffset=(0,_element.getCssTransform)(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}(colHeadersCount&&0===this.instance.getSelected()[0]||settings.fixedRowsBottom&&this.instance.getSelected()[0]===totalRowsCount-settings.fixedRowsBottom)&&(editTop+=1),0===this.instance.getSelected()[1]&&(editLeft+=1),cssTransformOffset&&-1!=cssTransformOffset?this.textareaParentStyle[cssTransformOffset[0]]=cssTransformOffset[1]:(0,_element.resetCssTransform)(this.TEXTAREA_PARENT),this.textareaParentStyle.top=editTop+"px",this.textareaParentStyle.left=editLeft+"px";var firstRowOffset=this.instance.view.wt.wtViewport.rowsRenderCalculator.startPosition,firstColumnOffset=this.instance.view.wt.wtViewport.columnsRenderCalculator.startPosition,horizontalScrollPosition=this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(),verticalScrollPosition=this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(),scrollbarWidth=(0,_element.getScrollbarWidth)(),cellTopOffset=this.TD.offsetTop+firstRowOffset-verticalScrollPosition,cellLeftOffset=this.TD.offsetLeft+firstColumnOffset-horizontalScrollPosition,width=(0,_element.innerWidth)(this.TD)-8,actualVerticalScrollbarWidth=(0,_element.hasVerticalScrollbar)(scrollableContainer)?scrollbarWidth:0,actualHorizontalScrollbarWidth=(0,_element.hasHorizontalScrollbar)(scrollableContainer)?scrollbarWidth:0,maxWidth=this.instance.view.maximumVisibleElementWidth(cellLeftOffset)-9-actualVerticalScrollbarWidth,height=this.TD.scrollHeight+1,maxHeight=Math.max(this.instance.view.maximumVisibleElementHeight(cellTopOffset)-actualHorizontalScrollbarWidth,23),cellComputedStyle=(0,_element.getComputedStyle)(this.TD);this.TEXTAREA.style.fontSize=cellComputedStyle.fontSize,this.TEXTAREA.style.fontFamily=cellComputedStyle.fontFamily,this.TEXTAREA.style.backgroundColor="",this.TEXTAREA.style.backgroundColor=backgroundColor||(0,_element.getComputedStyle)(this.TEXTAREA).backgroundColor,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(height,maxHeight),maxHeight:maxHeight,minWidth:Math.min(width,maxWidth),maxWidth:maxWidth},!0),this.textareaParentStyle.display="block"}else this.close(!0)},TextEditor.prototype.bindEvents=function(){var editor=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(event){(0,_event.stopPropagation)(event)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(event){(0,_event.stopPropagation)(event)}),this.instance.addHook("afterScrollHorizontally",function(){editor.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){editor.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){editor.refreshDimensions(),editor.focus()}),this.instance.addHook("afterRowResize",function(){editor.refreshDimensions(),editor.focus()}),this.instance.addHook("afterDestroy",function(){editor.eventManager.destroy()})},TextEditor.prototype.destroy=function(){this.eventManager.destroy()},exports.default=TextEditor},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(0<it?floor:ceil)(it)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(52),max=Math.max,min=Math.min;module.exports=function(index,length){return(index=toInteger(index))<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){var redefine=__webpack_require__(28);module.exports=function(target,src,safe){for(var key in src)redefine(target,key,src[key],safe);return target}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(30),call=__webpack_require__(95),isArrayIter=__webpack_require__(96),anObject=__webpack_require__(16),toLength=__webpack_require__(21),getIterFn=__webpack_require__(97),BREAK={},RETURN={};(exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);index<length;index++)if((result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=call(iterator,f,step.value,entries))===BREAK||result===RETURN)return result}).BREAK=BREAK,exports.RETURN=RETURN},function(module,exports){module.exports=!1},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(11),$export=__webpack_require__(3),redefine=__webpack_require__(28),redefineAll=__webpack_require__(54),meta=__webpack_require__(47),forOf=__webpack_require__(57),anInstance=__webpack_require__(56),isObject=__webpack_require__(14),fails=__webpack_require__(23),$iterDetect=__webpack_require__(71),setToStringTag=__webpack_require__(46),inheritIfRequired=__webpack_require__(184);module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){function fixMethod(KEY){var fn=proto[KEY];redefine(proto,KEY,"delete"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"has"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"get"==KEY?function(a){return IS_WEAK&&!isObject(a)?void 0:fn.call(this,0===a?0:a)}:"add"==KEY?function(a){return fn.call(this,0===a?0:a),this}:function(a,b){return fn.call(this,0===a?0:a,b),this})}var Base=global[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={};if("function"==typeof C&&(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))){var instance=new C,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)}),ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter)}),BUGGY_ZERO=!IS_WEAK&&fails(function(){for(var $instance=new C,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)});ACCEPT_ITERABLES||(((C=wrapper(function(target,iterable){anInstance(target,C,NAME);var that=inheritIfRequired(new Base,target,C);return null!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that),that})).prototype=proto).constructor=C),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&proto.clear&&delete proto.clear}else C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),redefineAll(C.prototype,methods),meta.NEED=!0;return setToStringTag(C,NAME),O[NAME]=C,$export($export.G+$export.W+$export.F*(C!=Base),O),IS_WEAK||common.setStrong(C,NAME,IS_MAP),C}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(30),IObject=__webpack_require__(67),toObject=__webpack_require__(38),toLength=__webpack_require__(21),asc=__webpack_require__(185);module.exports=function(TYPE,$create){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=$create||asc;return function($this,callbackfn,that){for(var val,res,O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;index<length;index++)if((NO_HOLES||index in self)&&(res=f(val=self[index],index,O),TYPE))if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){"use strict";var hide=__webpack_require__(29),redefine=__webpack_require__(28),fails=__webpack_require__(23),defined=__webpack_require__(33),wks=__webpack_require__(9);module.exports=function(KEY,length,exec){var SYMBOL=wks(KEY),fns=exec(defined,SYMBOL,""[KEY]),strfn=fns[0],rxfn=fns[1];fails(function(){var O={};return O[SYMBOL]=function(){return 7},7!=""[KEY](O)})&&(redefine(String.prototype,KEY,strfn),hide(RegExp.prototype,SYMBOL,2==length?function(string,arg){return rxfn.call(string,this,arg)}:function(string){return rxfn.call(string,this)}))}},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}exports.__esModule=!0,exports.default=function(){var namespace=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"common";collection.has(namespace)||collection.set(namespace,new Map);var subCollection=collection.get(namespace);return{register:function(name,item){subCollection.set(name,item)},getItem:function(name){return subCollection.get(name)},hasItem:function(name){return subCollection.has(name)},getNames:function(){return[].concat(_toConsumableArray(subCollection.keys()))},getValues:function(){return[].concat(_toConsumableArray(subCollection.values()))}}};var collection=exports.collection=new Map},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14),document=__webpack_require__(11).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){function Empty(){}var anObject=__webpack_require__(16),dPs=__webpack_require__(181),enumBugKeys=__webpack_require__(70),IE_PROTO=__webpack_require__(68)("IE_PROTO"),createDict=function(){var iframeDocument,iframe=__webpack_require__(64)("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",__webpack_require__(94).appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var cof=__webpack_require__(37);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(69)("keys"),uid=__webpack_require__(42);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var global=__webpack_require__(11),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});module.exports=function(key){return store[key]||(store[key]={})}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(9)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports,__webpack_require__){var pIE=__webpack_require__(48),createDesc=__webpack_require__(43),toIObject=__webpack_require__(25),toPrimitive=__webpack_require__(65),has=__webpack_require__(24),IE8_DOM_DEFINE=__webpack_require__(91),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(20)?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports,__webpack_require__){function run(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}}function listener(event){run.call(event.data)}var defer,channel,port,ctx=__webpack_require__(30),invoke=__webpack_require__(188),html=__webpack_require__(94),cel=__webpack_require__(64),global=__webpack_require__(11),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==__webpack_require__(37)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(ctx(run,id,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer="onreadystatechange"in cel("script")?function(id){html.appendChild(cel("script")).onreadystatechange=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(92),hiddenKeys=__webpack_require__(70).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var isRegExp=__webpack_require__(123),defined=__webpack_require__(33);module.exports=function(that,searchString,NAME){if(isRegExp(searchString))throw TypeError("String#"+NAME+" doesn't accept regex!");return String(defined(that))}},function(module,exports,__webpack_require__){var MATCH=__webpack_require__(9)("match");module.exports=function(KEY){var re=/./;try{"/./"[KEY](re)}catch(e){try{return re[MATCH]=!1,!"/./"[KEY](re)}catch(f){}}return!0}},function(module,exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__(17),createDesc=__webpack_require__(43);module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(40),step=__webpack_require__(100),Iterators=__webpack_require__(45),toIObject=__webpack_require__(25);module.exports=__webpack_require__(99)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):step(0,"keys"==kind?index:"values"==kind?O[index]:[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_coords=__webpack_require__(49),_coords2=(obj=_coords)&&obj.__esModule?obj:{default:obj};var CellRange=function(){function CellRange(highlight,from,to){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CellRange),this.highlight=highlight,this.from=from,this.to=to}return _createClass(CellRange,[{key:"isValid",value:function(wotInstance){return this.from.isValid(wotInstance)&&this.to.isValid(wotInstance)}},{key:"isSingle",value:function(){return this.from.row===this.to.row&&this.from.col===this.to.col}},{key:"getHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"includes",value:function(cellCoords){var row=cellCoords.row,col=cellCoords.col,topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner();return topLeft.row<=row&&bottomRight.row>=row&&topLeft.col<=col&&bottomRight.col>=col}},{key:"includesRange",value:function(testedRange){return this.includes(testedRange.getTopLeftCorner())&&this.includes(testedRange.getBottomRightCorner())}},{key:"isEqual",value:function(testedRange){return Math.min(this.from.row,this.to.row)==Math.min(testedRange.from.row,testedRange.to.row)&&Math.max(this.from.row,this.to.row)==Math.max(testedRange.from.row,testedRange.to.row)&&Math.min(this.from.col,this.to.col)==Math.min(testedRange.from.col,testedRange.to.col)&&Math.max(this.from.col,this.to.col)==Math.max(testedRange.from.col,testedRange.to.col)}},{key:"overlaps",value:function(testedRange){return testedRange.isSouthEastOf(this.getTopLeftCorner())&&testedRange.isNorthWestOf(this.getBottomRightCorner())}},{key:"isSouthEastOf",value:function(testedCoords){return this.getTopLeftCorner().isSouthEastOf(testedCoords)||this.getBottomRightCorner().isSouthEastOf(testedCoords)}},{key:"isNorthWestOf",value:function(testedCoords){return this.getTopLeftCorner().isNorthWestOf(testedCoords)||this.getBottomRightCorner().isNorthWestOf(testedCoords)}},{key:"expand",value:function(cellCoords){var topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner();return(cellCoords.row<topLeft.row||cellCoords.col<topLeft.col||cellCoords.row>bottomRight.row||cellCoords.col>bottomRight.col)&&(this.from=new _coords2.default(Math.min(topLeft.row,cellCoords.row),Math.min(topLeft.col,cellCoords.col)),this.to=new _coords2.default(Math.max(bottomRight.row,cellCoords.row),Math.max(bottomRight.col,cellCoords.col)),!0)}},{key:"expandByRange",value:function(expandingRange){if(this.includesRange(expandingRange)||!this.overlaps(expandingRange))return!1;var topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner(),expandingTopLeft=(this.getTopRightCorner(),this.getBottomLeftCorner(),expandingRange.getTopLeftCorner()),expandingBottomRight=expandingRange.getBottomRightCorner(),resultTopRow=Math.min(topLeft.row,expandingTopLeft.row),resultTopCol=Math.min(topLeft.col,expandingTopLeft.col),resultBottomRow=Math.max(bottomRight.row,expandingBottomRight.row),resultBottomCol=Math.max(bottomRight.col,expandingBottomRight.col),finalFrom=new _coords2.default(resultTopRow,resultTopCol),finalTo=new _coords2.default(resultBottomRow,resultBottomCol),isCorner=new CellRange(finalFrom,finalFrom,finalTo).isCorner(this.from,expandingRange),onlyMerge=expandingRange.isEqual(new CellRange(finalFrom,finalFrom,finalTo));return isCorner&&!onlyMerge&&(this.from.col>finalFrom.col&&(finalFrom.col=resultBottomCol,finalTo.col=resultTopCol),this.from.row>finalFrom.row&&(finalFrom.row=resultBottomRow,finalTo.row=resultTopRow)),this.from=finalFrom,this.to=finalTo,!0}},{key:"getDirection",value:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}},{key:"setDirection",value:function(direction){switch(direction){case"NW-SE":var _ref=[this.getTopLeftCorner(),this.getBottomRightCorner()];this.from=_ref[0],this.to=_ref[1];break;case"NE-SW":var _ref2=[this.getTopRightCorner(),this.getBottomLeftCorner()];this.from=_ref2[0],this.to=_ref2[1];break;case"SE-NW":var _ref3=[this.getBottomRightCorner(),this.getTopLeftCorner()];this.from=_ref3[0],this.to=_ref3[1];break;case"SW-NE":var _ref4=[this.getBottomLeftCorner(),this.getTopRightCorner()];this.from=_ref4[0],this.to=_ref4[1]}}},{key:"getTopLeftCorner",value:function(){return new _coords2.default(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getBottomRightCorner",value:function(){return new _coords2.default(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getTopRightCorner",value:function(){return new _coords2.default(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getBottomLeftCorner",value:function(){return new _coords2.default(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"isCorner",value:function(coords,expandedRange){return!!(expandedRange&&expandedRange.includes(coords)&&(this.getTopLeftCorner().isEqual(new _coords2.default(expandedRange.from.row,expandedRange.from.col))||this.getTopRightCorner().isEqual(new _coords2.default(expandedRange.from.row,expandedRange.to.col))||this.getBottomLeftCorner().isEqual(new _coords2.default(expandedRange.to.row,expandedRange.from.col))||this.getBottomRightCorner().isEqual(new _coords2.default(expandedRange.to.row,expandedRange.to.col))))||(coords.isEqual(this.getTopLeftCorner())||coords.isEqual(this.getTopRightCorner())||coords.isEqual(this.getBottomLeftCorner())||coords.isEqual(this.getBottomRightCorner()))}},{key:"getOppositeCorner",value:function(coords,expandedRange){if(!(coords instanceof _coords2.default))return!1;if(expandedRange&&expandedRange.includes(coords)){if(this.getTopLeftCorner().isEqual(new _coords2.default(expandedRange.from.row,expandedRange.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new _coords2.default(expandedRange.from.row,expandedRange.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new _coords2.default(expandedRange.to.row,expandedRange.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new _coords2.default(expandedRange.to.row,expandedRange.to.col)))return this.getTopLeftCorner()}return coords.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():coords.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():coords.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():coords.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0}},{key:"getBordersSharedWith",value:function(range){if(!this.includesRange(range))return[];var thisBorders_top=Math.min(this.from.row,this.to.row),thisBorders_bottom=Math.max(this.from.row,this.to.row),thisBorders_left=Math.min(this.from.col,this.to.col),thisBorders_right=Math.max(this.from.col,this.to.col),rangeBorders_top=Math.min(range.from.row,range.to.row),rangeBorders_bottom=Math.max(range.from.row,range.to.row),rangeBorders_left=Math.min(range.from.col,range.to.col),rangeBorders_right=Math.max(range.from.col,range.to.col),result=[];return thisBorders_top==rangeBorders_top&&result.push("top"),thisBorders_right==rangeBorders_right&&result.push("right"),thisBorders_bottom==rangeBorders_bottom&&result.push("bottom"),thisBorders_left==rangeBorders_left&&result.push("left"),result}},{key:"getInner",value:function(){for(var topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner(),out=[],r=topLeft.row;r<=bottomRight.row;r++)for(var c=topLeft.col;c<=bottomRight.col;c++)this.from.row===r&&this.from.col===c||this.to.row===r&&this.to.col===c||out.push(new _coords2.default(r,c));return out}},{key:"getAll",value:function(){for(var topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner(),out=[],r=topLeft.row;r<=bottomRight.row;r++)for(var c=topLeft.col;c<=bottomRight.col;c++)topLeft.row===r&&topLeft.col===c?out.push(topLeft):bottomRight.row===r&&bottomRight.col===c?out.push(bottomRight):out.push(new _coords2.default(r,c));return out}},{key:"forAll",value:function(callback){for(var topLeft=this.getTopLeftCorner(),bottomRight=this.getBottomRightCorner(),r=topLeft.row;r<=bottomRight.row;r++)for(var c=topLeft.col;c<=bottomRight.col;c++){if(!1===callback(r,c))return}}}]),CellRange}();exports.default=CellRange},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_80__},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.getRegisteredCellTypes=exports.getRegisteredCellTypeNames=exports.hasCellType=exports.getCellType=exports.registerCellType=void 0;var _staticRegister3=_interopRequireDefault(__webpack_require__(63)),_editors=__webpack_require__(15),_renderers=__webpack_require__(8),_validators=__webpack_require__(27),_autocompleteType2=_interopRequireDefault(__webpack_require__(231)),_checkboxType2=_interopRequireDefault(__webpack_require__(232)),_dateType2=_interopRequireDefault(__webpack_require__(233)),_dropdownType2=_interopRequireDefault(__webpack_require__(234)),_handsontableType2=_interopRequireDefault(__webpack_require__(235)),_numericType2=_interopRequireDefault(__webpack_require__(236)),_passwordType2=_interopRequireDefault(__webpack_require__(237)),_textType2=_interopRequireDefault(__webpack_require__(238)),_timeType2=_interopRequireDefault(__webpack_require__(239));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _staticRegister=(0,_staticRegister3.default)("cellTypes"),register=_staticRegister.register,getItem=_staticRegister.getItem,hasItem=_staticRegister.hasItem,getNames=_staticRegister.getNames,getValues=_staticRegister.getValues;function _register(name,type){var editor=type.editor,renderer=type.renderer,validator=type.validator;editor&&(0,_editors.registerEditor)(name,editor),renderer&&(0,_renderers.registerRenderer)(name,renderer),validator&&(0,_validators.registerValidator)(name,validator),register(name,type)}_register("autocomplete",_autocompleteType2.default),_register("checkbox",_checkboxType2.default),_register("date",_dateType2.default),_register("dropdown",_dropdownType2.default),_register("handsontable",_handsontableType2.default),_register("numeric",_numericType2.default),_register("password",_passwordType2.default),_register("text",_textType2.default),_register("time",_timeType2.default),exports.registerCellType=_register,exports.getCellType=function(name){if(!hasItem(name))throw Error('You declared cell type "'+name+'" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by "Handsontable.cellTypes.registerCellType" method');return getItem(name)},exports.hasCellType=hasItem,exports.getRegisteredCellTypeNames=getNames,exports.getRegisteredCellTypes=getValues},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=function(rootElement,userSettings){var priv,datamap,dataSource,grid,selection,editorManager,rootInstanceSymbol=2<arguments.length&&void 0!==arguments[2]&&arguments[2],instance=this,GridSettings=function(){},eventManager=new _eventManager2.default(instance);(0,_object.extend)(GridSettings.prototype,_defaultSettings2.default.prototype),(0,_object.extend)(GridSettings.prototype,userSettings),(0,_object.extend)(GridSettings.prototype,expandType(userSettings)),(0,_rootInstance.hasValidParameter)(rootInstanceSymbol)&&(0,_rootInstance.registerAsRootInstance)(this);this.rootElement=rootElement,this.isHotTableEnv=(0,_element.isChildOfWebComponentTable)(this.rootElement),_eventManager2.default.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("div"),this.renderCall=!1,rootElement.insertBefore(this.container,rootElement.firstChild),0;this.guid="ht_"+(0,_string.randomString)();var recordTranslator=(0,_recordTranslator.getTranslator)(instance);dataSource=new _dataSource2.default(instance),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid);function ValidatorsQueue(){var resolved=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue++,resolved=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(valid){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==resolved&&(resolved=!0,this.onQueueEmpty(this.valid))}}}function validateChanges(changes,source,callback){var waitingForValidator=new ValidatorsQueue;waitingForValidator.onQueueEmpty=function(){var beforeChangeResult;changes.length&&(beforeChangeResult=instance.runHooks("beforeChange",changes,source),(0,_function.isFunction)(beforeChangeResult)?console.warn("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):!1===beforeChangeResult&&changes.splice(0,changes.length));callback()};for(var i=changes.length-1;0<=i;i--)if(null===changes[i])changes.splice(i,1);else{var row=changes[i][0],col=datamap.propToCol(changes[i][1]),cellProperties=instance.getCellMeta(row,col);if("numeric"===cellProperties.type&&"string"==typeof changes[i][3]&&0<changes[i][3].length&&(/^-?[\d\s]*(\.|,)?\d*$/.test(changes[i][3])||cellProperties.format)){var len=changes[i][3].length;(0,_mixed.isUndefined)(cellProperties.language)?_numbro2.default.culture("en-US"):changes[i][3].indexOf(".")===len-3&&-1===changes[i][3].indexOf(",")?_numbro2.default.culture("en-US"):_numbro2.default.culture(cellProperties.language);var _numbro$cultureData=_numbro2.default.cultureData(_numbro2.default.culture());_numbro$cultureData.delimiters;_numbro2.default.validate(changes[i][3])&&!isNaN(changes[i][3])?changes[i][3]=parseFloat(changes[i][3]):changes[i][3]=(0,_numbro2.default)().unformat(changes[i][3])||changes[i][3]}instance.getCellValidator(cellProperties)&&(waitingForValidator.addValidatorToQueue(),instance.validateCell(changes[i][3],cellProperties,function(i,cellProperties){return function(result){if("boolean"!=typeof result)throw new Error("Validation error: result is not boolean");if(!1===result&&!1===cellProperties.allowInvalid){changes.splice(i,1),cellProperties.valid=!0;var cell=instance.getCell(cellProperties.visualRow,cellProperties.visualCol);(0,_element.removeClass)(cell,instance.getSettings().invalidCellClassName),--i}waitingForValidator.removeValidatorFormQueue()}}(i,cellProperties),source))}waitingForValidator.checkIfQueueIsEmpty()}function applyChanges(changes,source){var i=changes.length-1;if(!(i<0)){for(;0<=i;i--){var skipThisChange=!1;if(null!==changes[i]){if(null!=changes[i][2]||null!=changes[i][3]){if(priv.settings.allowInsertRow)for(;changes[i][0]>instance.countRows()-1;){var numberOfCreatedRows=datamap.createRow(void 0,void 0,source);if(0===numberOfCreatedRows){skipThisChange=!0;break}}if(!skipThisChange){if("array"===instance.dataType&&(!priv.settings.columns||0===priv.settings.columns.length)&&priv.settings.allowInsertColumn)for(;datamap.propToCol(changes[i][1])>instance.countCols()-1;)datamap.createCol(void 0,void 0,source);datamap.set(changes[i][0],changes[i][1],changes[i][3])}}}else changes.splice(i,1)}instance.forceFullRender=!0,grid.adjustRowsAndCols(),instance.runHooks("beforeChangeRender",changes,source),selection.refreshBorders(null,!0),instance.view.wt.wtOverlays.adjustElementsSize(),instance.runHooks("afterChange",changes,source||"edit");var activeEditor=instance.getActiveEditor();activeEditor&&(0,_mixed.isDefined)(activeEditor.refreshValue)&&activeEditor.refreshValue()}}function setDataInputToArray(row,propOrCol,value){return"object"===(void 0===row?"undefined":_typeof(row))?row:[[row,propOrCol,value]]}function expandType(obj){if((0,_object.hasOwnProperty)(obj,"type")){var type,expandedType={};for(var i in"object"===_typeof(obj.type)?type=obj.type:"string"==typeof obj.type&&(type=(0,_cellTypes.getCellType)(obj.type)),type)(0,_object.hasOwnProperty)(type,i)&&!(0,_object.hasOwnProperty)(obj,i)&&(expandedType[i]=type[i]);return expandedType}}priv={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new GridSettings,selRange:null,isPopulated:null,scrollable:null,firstRun:!0},grid={alter:function(action,index,amount,source,keepEmptyRows){var delta;function spliceWith(data,index,count,toInject){var spliceArgs=(0,_array.arrayMap)(new Array(count),function(){return function(){var result=void 0;"array"===toInject?result=[]:"object"===toInject&&(result={});return result}()});spliceArgs.unshift(index,0),data.splice.apply(data,_toConsumableArray(spliceArgs))}switch(amount=amount||1,action){case"insert_row":var numberOfSourceRows=instance.countSourceRows();if(instance.getSettings().maxRows===numberOfSourceRows)return;index=(0,_mixed.isDefined)(index)?index:numberOfSourceRows,delta=datamap.createRow(index,amount,source),spliceWith(priv.cellSettings,index,amount,"array"),delta&&(selection.isSelected()&&priv.selRange.from.row>=index?(priv.selRange.from.row+=delta,selection.transformEnd(delta,0)):selection.refreshBorders());break;case"insert_col":delta=datamap.createCol(index,amount,source);for(var row=0,len=instance.countSourceRows();row<len;row++)priv.cellSettings[row]&&spliceWith(priv.cellSettings[row],index,amount);if(delta){if(Array.isArray(instance.getSettings().colHeaders)){var spliceArray=[index,0];spliceArray.length+=delta,Array.prototype.splice.apply(instance.getSettings().colHeaders,spliceArray)}selection.isSelected()&&priv.selRange.from.col>=index?(priv.selRange.from.col+=delta,selection.transformEnd(0,delta)):selection.refreshBorders()}break;case"remove_row":datamap.removeRow(index,amount,source),priv.cellSettings.splice(index,amount);var totalRows=instance.countRows(),fixedRowsTop=instance.getSettings().fixedRowsTop;index+1<=fixedRowsTop&&(instance.getSettings().fixedRowsTop-=Math.min(amount,fixedRowsTop-index));var fixedRowsBottom=instance.getSettings().fixedRowsBottom;fixedRowsBottom&&totalRows-fixedRowsBottom<=index&&(instance.getSettings().fixedRowsBottom-=Math.min(amount,fixedRowsBottom)),grid.adjustRowsAndCols(),selection.refreshBorders();break;case"remove_col":var visualColumnIndex=recordTranslator.toPhysicalColumn(index);datamap.removeCol(index,amount,source);for(var _row=0,_len=instance.countSourceRows();_row<_len;_row++)priv.cellSettings[_row]&&priv.cellSettings[_row].splice(visualColumnIndex,amount);var fixedColumnsLeft=instance.getSettings().fixedColumnsLeft;index+1<=fixedColumnsLeft&&(instance.getSettings().fixedColumnsLeft-=Math.min(amount,fixedColumnsLeft-index)),Array.isArray(instance.getSettings().colHeaders)&&(void 0===visualColumnIndex&&(visualColumnIndex=-1),instance.getSettings().colHeaders.splice(visualColumnIndex,amount)),grid.adjustRowsAndCols(),selection.refreshBorders();break;default:throw new Error('There is no such action "'+action+'"')}keepEmptyRows||grid.adjustRowsAndCols()},adjustRowsAndCols:function(){if(priv.settings.minRows){var rows=instance.countRows();if(rows<priv.settings.minRows)for(var r=0,minRows=priv.settings.minRows;r<minRows-rows;r++)datamap.createRow(instance.countRows(),1,"auto")}if(priv.settings.minSpareRows){var emptyRows=instance.countEmptyRows(!0);if(emptyRows<priv.settings.minSpareRows)for(;emptyRows<priv.settings.minSpareRows&&instance.countSourceRows()<priv.settings.maxRows;emptyRows++)datamap.createRow(instance.countRows(),1,"auto")}var emptyCols=void 0;if((priv.settings.minCols||priv.settings.minSpareCols)&&(emptyCols=instance.countEmptyCols(!0)),priv.settings.minCols&&!priv.settings.columns&&instance.countCols()<priv.settings.minCols)for(;instance.countCols()<priv.settings.minCols;emptyCols++)datamap.createCol(instance.countCols(),1,"auto");if(priv.settings.minSpareCols&&!priv.settings.columns&&"array"===instance.dataType&&emptyCols<priv.settings.minSpareCols)for(;emptyCols<priv.settings.minSpareCols&&instance.countCols()<priv.settings.maxCols;emptyCols++)datamap.createCol(instance.countCols(),1,"auto");var rowCount=instance.countRows(),colCount=instance.countCols();if(0!==rowCount&&0!==colCount||selection.deselect(),selection.isSelected()){var selectionChanged=!1,fromRow=priv.selRange.from.row,fromCol=priv.selRange.from.col,toRow=priv.selRange.to.row,toCol=priv.selRange.to.col;rowCount-1<fromRow?(selectionChanged=!0,(fromRow=rowCount-1)<toRow&&(toRow=fromRow)):rowCount-1<toRow&&(selectionChanged=!0,(toRow=rowCount-1)<fromRow&&(fromRow=toRow)),colCount-1<fromCol?(selectionChanged=!0,(fromCol=colCount-1)<toCol&&(toCol=fromCol)):colCount-1<toCol&&(selectionChanged=!0,(toCol=colCount-1)<fromCol&&(fromCol=toCol)),selectionChanged&&instance.selectCell(fromRow,fromCol,toRow,toCol)}instance.view&&instance.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(start,input,end,source,method,direction,deltas){var r,rlen,c,clen,setData=[],current={};if(0===(rlen=input.length))return!1;var repeatCol,repeatRow,cmax,rmax;null===end||end.row,null===end||end.col;switch(method){case"shift_down":for(repeatCol=end?end.col-start.col+1:0,repeatRow=end?end.row-start.row+1:0,input=(0,_data.translateRowsToColumns)(input),c=0,clen=input.length,cmax=Math.max(clen,repeatCol);c<cmax;c++)if(c<clen){var _instance;for(r=0,rlen=input[c].length;r<repeatRow-rlen;r++)input[c].push(input[c][r%rlen]);input[c].unshift(start.col+c,start.row,0),(_instance=instance).spliceCol.apply(_instance,_toConsumableArray(input[c]))}else{var _instance2;input[c%clen][0]=start.col+c,(_instance2=instance).spliceCol.apply(_instance2,_toConsumableArray(input[c%clen]))}break;case"shift_right":for(repeatCol=end?end.col-start.col+1:0,repeatRow=end?end.row-start.row+1:0,r=0,rlen=input.length,rmax=Math.max(rlen,repeatRow);r<rmax;r++)if(r<rlen){var _instance3;for(c=0,clen=input[r].length;c<repeatCol-clen;c++)input[r].push(input[r][c%clen]);input[r].unshift(start.row+r,start.col,0),(_instance3=instance).spliceRow.apply(_instance3,_toConsumableArray(input[r]))}else{var _instance4;input[r%rlen][0]=start.row+r,(_instance4=instance).spliceRow.apply(_instance4,_toConsumableArray(input[r%rlen]))}break;case"overwrite":default:current.row=start.row,current.col=start.col;var selected={row:end&&start?end.row-start.row+1:1,col:end&&start?end.col-start.col+1:1},skippedRow=0,skippedColumn=0,pushData=!0,cellMeta=void 0,getInputValue=function(row){var col=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,rowValue=input[row%input.length];return null!==col?rowValue[col%rowValue.length]:rowValue},rowInputLength=input.length,rowSelectionLength=end?end.row-start.row+1:0;for(rlen=end?rowSelectionLength:Math.max(rowInputLength,rowSelectionLength),r=0;r<rlen&&!(end&&current.row>end.row&&rowInputLength<rowSelectionLength||!priv.settings.allowInsertRow&&current.row>instance.countRows()-1||current.row>=priv.settings.maxRows);r++){var visualRow=r-skippedRow,colInputLength=getInputValue(visualRow).length,colSelectionLength=end?end.col-start.col+1:0;if(clen=end?colSelectionLength:Math.max(colInputLength,colSelectionLength),current.col=start.col,cellMeta=instance.getCellMeta(current.row,current.col),"CopyPaste.paste"!==source&&"Autofill.autofill"!==source||!cellMeta.skipRowOnPaste){for(c=skippedColumn=0;c<clen&&!(end&&current.col>end.col&&colInputLength<colSelectionLength||!priv.settings.allowInsertColumn&&current.col>instance.countCols()-1||current.col>=priv.settings.maxCols);c++)if(cellMeta=instance.getCellMeta(current.row,current.col),"CopyPaste.paste"!==source&&"Autofill.fill"!==source||!cellMeta.skipColumnOnPaste)if(cellMeta.readOnly)current.col++;else{var visualColumn=c-skippedColumn,value=getInputValue(visualRow,visualColumn),orgValue=instance.getDataAtCell(current.row,current.col),index={row:visualRow,col:visualColumn};if("Autofill.fill"===source){var result=instance.runHooks("beforeAutofillInsidePopulate",index,direction,input,deltas,{},selected);result&&(value=(0,_mixed.isUndefined)(result.value)?value:result.value)}if(null!==value&&"object"===(void 0===value?"undefined":_typeof(value)))if(null===orgValue||"object"!==(void 0===orgValue?"undefined":_typeof(orgValue)))pushData=!1;else{var orgValueSchema=(0,_object.duckSchema)(orgValue[0]||orgValue),valueSchema=(0,_object.duckSchema)(value[0]||value);(0,_object.isObjectEquals)(orgValueSchema,valueSchema)?value=(0,_object.deepClone)(value):pushData=!1}else null!==orgValue&&"object"===(void 0===orgValue?"undefined":_typeof(orgValue))&&(pushData=!1);pushData&&setData.push([current.row,current.col,value]),pushData=!0,current.col++}else skippedColumn++,current.col++,clen++;current.row++}else skippedRow++,current.row++,rlen++}instance.setDataAtCell(setData,null,null,source||"populateFromArray")}}},this.selection=selection={inProgress:!1,selectedHeader:{cols:!1,rows:!1},setSelectedHeaders:function(){var rows=0<arguments.length&&void 0!==arguments[0]&&arguments[0],cols=1<arguments.length&&void 0!==arguments[1]&&arguments[1],corner=2<arguments.length&&void 0!==arguments[2]&&arguments[2];instance.selection.selectedHeader.rows=rows,instance.selection.selectedHeader.cols=cols,instance.selection.selectedHeader.corner=corner},begin:function(){instance.selection.inProgress=!0},finish:function(){var sel=instance.getSelected();instance.runHooks("afterSelectionEnd",sel[0],sel[1],sel[2],sel[3]),instance.runHooks("afterSelectionEndByProp",sel[0],instance.colToProp(sel[1]),sel[2],instance.colToProp(sel[3])),instance.selection.inProgress=!1},isInProgress:function(){return instance.selection.inProgress},setRangeStart:function(coords,keepEditorOpened){instance.runHooks("beforeSetRangeStart",coords),priv.selRange=new _src.CellRange(coords,coords,coords),selection.setRangeEnd(coords,null,keepEditorOpened)},setRangeStartOnly:function(coords){instance.runHooks("beforeSetRangeStartOnly",coords),priv.selRange=new _src.CellRange(coords,coords,coords)},setRangeEnd:function(coords,scrollToCell,keepEditorOpened){if(null!==priv.selRange){var disableVisualSelection,isHeaderSelected=!1,areCoordsPositive=!0,firstVisibleRow=instance.view.wt.wtTable.getFirstVisibleRow(),firstVisibleColumn=instance.view.wt.wtTable.getFirstVisibleColumn(),newRangeCoords={row:null,col:null};instance.runHooks("beforeSetRangeEnd",coords),instance.selection.begin(),newRangeCoords.row=coords.row<0?firstVisibleRow:coords.row,newRangeCoords.col=coords.col<0?firstVisibleColumn:coords.col,priv.selRange.to=new _src.CellCoords(newRangeCoords.row,newRangeCoords.col),priv.settings.multiSelect||(priv.selRange.from=coords),instance.view.wt.selections.current.clear(),"string"==typeof(disableVisualSelection=instance.getCellMeta(priv.selRange.highlight.row,priv.selRange.highlight.col).disableVisualSelection)&&(disableVisualSelection=[disableVisualSelection]),(!1===disableVisualSelection||Array.isArray(disableVisualSelection)&&-1===disableVisualSelection.indexOf("current"))&&instance.view.wt.selections.current.add(priv.selRange.highlight),instance.view.wt.selections.area.clear(),(!1===disableVisualSelection||Array.isArray(disableVisualSelection)&&-1===disableVisualSelection.indexOf("area"))&&selection.isMultiple()&&(instance.view.wt.selections.area.add(priv.selRange.from),instance.view.wt.selections.area.add(priv.selRange.to)),(priv.settings.currentHeaderClassName||priv.settings.currentRowClassName||priv.settings.currentColClassName)&&(instance.view.wt.selections.highlight.clear(),instance.view.wt.selections.highlight.add(priv.selRange.from),instance.view.wt.selections.highlight.add(priv.selRange.to));var preventScrolling=(0,_object.createObjectPropListener)("value");instance.runHooks("afterSelection",priv.selRange.from.row,priv.selRange.from.col,priv.selRange.to.row,priv.selRange.to.col,preventScrolling),instance.runHooks("afterSelectionByProp",priv.selRange.from.row,datamap.colToProp(priv.selRange.from.col),priv.selRange.to.row,datamap.colToProp(priv.selRange.to.col),preventScrolling),(0===priv.selRange.from.row&&priv.selRange.to.row===instance.countRows()-1&&1<instance.countRows()||0===priv.selRange.from.col&&priv.selRange.to.col===instance.countCols()-1&&1<instance.countCols())&&(isHeaderSelected=!0),(coords.row<0||coords.col<0)&&(areCoordsPositive=!1),preventScrolling.isTouched()&&(scrollToCell=!preventScrolling.value),!1!==scrollToCell&&!isHeaderSelected&&areCoordsPositive&&(priv.selRange.from&&!selection.isMultiple()?instance.view.scrollViewport(priv.selRange.from):instance.view.scrollViewport(coords)),selection.selectedHeader.rows&&selection.selectedHeader.cols?(0,_element.addClass)(instance.rootElement,["ht__selection--rows","ht__selection--columns"]):selection.selectedHeader.rows?((0,_element.removeClass)(instance.rootElement,"ht__selection--columns"),(0,_element.addClass)(instance.rootElement,"ht__selection--rows")):selection.selectedHeader.cols?((0,_element.removeClass)(instance.rootElement,"ht__selection--rows"),(0,_element.addClass)(instance.rootElement,"ht__selection--columns")):(0,_element.removeClass)(instance.rootElement,["ht__selection--rows","ht__selection--columns"]),selection.refreshBorders(null,keepEditorOpened)}},refreshBorders:function(revertOriginal,keepEditor){keepEditor||editorManager.destroyEditor(revertOriginal),instance.view.render(),selection.isSelected()&&!keepEditor&&editorManager.prepareEditor()},isMultiple:function(){var isMultiple=!(priv.selRange.to.col===priv.selRange.from.col&&priv.selRange.to.row===priv.selRange.from.row),modifier=instance.runHooks("afterIsMultipleSelection",isMultiple);if(isMultiple)return modifier},transformStart:function(rowDelta,colDelta,force,keepEditorOpened){var totalRows,totalCols,coords,fixedRowsBottom,delta=new _src.CellCoords(rowDelta,colDelta),rowTransformDir=0,colTransformDir=0;instance.runHooks("modifyTransformStart",delta),totalRows=instance.countRows(),totalCols=instance.countCols(),fixedRowsBottom=instance.getSettings().fixedRowsBottom,priv.selRange.highlight.row+rowDelta>totalRows-1?force&&0<priv.settings.minSpareRows&&!(fixedRowsBottom&&priv.selRange.highlight.row>=totalRows-fixedRowsBottom-1)?(instance.alter("insert_row",totalRows),totalRows=instance.countRows()):priv.settings.autoWrapCol&&(delta.row=1-totalRows,delta.col=priv.selRange.highlight.col+delta.col==totalCols-1?1-totalCols:1):priv.settings.autoWrapCol&&priv.selRange.highlight.row+delta.row<0&&0<=priv.selRange.highlight.col+delta.col&&(delta.row=totalRows-1,delta.col=priv.selRange.highlight.col+delta.col==0?totalCols-1:-1),priv.selRange.highlight.col+delta.col>totalCols-1?force&&0<priv.settings.minSpareCols?(instance.alter("insert_col",totalCols),totalCols=instance.countCols()):priv.settings.autoWrapRow&&(delta.row=priv.selRange.highlight.row+delta.row==totalRows-1?1-totalRows:1,delta.col=1-totalCols):priv.settings.autoWrapRow&&priv.selRange.highlight.col+delta.col<0&&0<=priv.selRange.highlight.row+delta.row&&(delta.row=priv.selRange.highlight.row+delta.row==0?totalRows-1:-1,delta.col=totalCols-1),(coords=new _src.CellCoords(priv.selRange.highlight.row+delta.row,priv.selRange.highlight.col+delta.col)).row<0?(rowTransformDir=-1,coords.row=0):0<coords.row&&coords.row>=totalRows&&(rowTransformDir=1,coords.row=totalRows-1),coords.col<0?(colTransformDir=-1,coords.col=0):0<coords.col&&coords.col>=totalCols&&(colTransformDir=1,coords.col=totalCols-1),instance.runHooks("afterModifyTransformStart",coords,rowTransformDir,colTransformDir),selection.setRangeStart(coords,keepEditorOpened)},transformEnd:function(rowDelta,colDelta){var totalRows,totalCols,coords,delta=new _src.CellCoords(rowDelta,colDelta),rowTransformDir=0,colTransformDir=0;instance.runHooks("modifyTransformEnd",delta),totalRows=instance.countRows(),totalCols=instance.countCols(),(coords=new _src.CellCoords(priv.selRange.to.row+delta.row,priv.selRange.to.col+delta.col)).row<0?(rowTransformDir=-1,coords.row=0):0<coords.row&&coords.row>=totalRows&&(rowTransformDir=1,coords.row=totalRows-1),coords.col<0?(colTransformDir=-1,coords.col=0):0<coords.col&&coords.col>=totalCols&&(colTransformDir=1,coords.col=totalCols-1),instance.runHooks("afterModifyTransformEnd",coords,rowTransformDir,colTransformDir),selection.setRangeEnd(coords,!0)},isSelected:function(){return null!==priv.selRange},inInSelection:function(coords){return!!selection.isSelected()&&priv.selRange.includes(coords)},deselect:function(){selection.isSelected()&&(instance.selection.inProgress=!1,priv.selRange=null,instance.view.wt.selections.current.clear(),instance.view.wt.selections.area.clear(),(priv.settings.currentHeaderClassName||priv.settings.currentRowClassName||priv.settings.currentColClassName)&&instance.view.wt.selections.highlight.clear(),editorManager.destroyEditor(),selection.refreshBorders(),(0,_element.removeClass)(instance.rootElement,["ht__selection--rows","ht__selection--columns"]),instance.runHooks("afterDeselect"))},selectAll:function(){priv.settings.multiSelect&&(selection.setSelectedHeaders(!0,!0,!0),selection.setRangeStart(new _src.CellCoords(0,0)),selection.setRangeEnd(new _src.CellCoords(instance.countRows()-1,instance.countCols()-1),!1))},empty:function(){if(selection.isSelected()){var r,c,topLeft=priv.selRange.getTopLeftCorner(),bottomRight=priv.selRange.getBottomRightCorner(),changes=[];for(r=topLeft.row;r<=bottomRight.row;r++)for(c=topLeft.col;c<=bottomRight.col;c++)instance.getCellMeta(r,c).readOnly||changes.push([r,c,""]);instance.setDataAtCell(changes)}}},this.init=function(){dataSource.setData(priv.settings.data),instance.runHooks("beforeInit"),(0,_browser.isMobileBrowser)()&&(0,_element.addClass)(instance.rootElement,"mobile"),this.updateSettings(priv.settings,!0),this.view=new _tableView2.default(this),editorManager=new _editorManager2.default(instance,priv,selection,datamap),this.forceFullRender=!0,instance.runHooks("init"),this.view.render(),"object"===_typeof(priv.firstRun)&&(instance.runHooks("afterChange",priv.firstRun[0],priv.firstRun[1]),priv.firstRun=!1),instance.runHooks("afterInit")},this.validateCell=function(value,cellProperties,callback,source){var validator=instance.getCellValidator(cellProperties);function done(valid){var col=cellProperties.visualCol,row=cellProperties.visualRow,td=instance.getCell(row,col,!0);td&&"TH"!=td.nodeName&&instance.view.wt.wtSettings.settings.cellRenderer(row,col,td),callback(valid)}(0,_mixed.isRegExp)(validator)&&(validator=function(validator){return function(value,callback){callback(validator.test(value))}}(validator)),(0,_function.isFunction)(validator)?(value=instance.runHooks("beforeValidate",value,cellProperties.visualRow,cellProperties.prop,source),instance._registerTimeout(setTimeout(function(){validator.call(cellProperties,value,function(valid){valid=instance.runHooks("afterValidate",valid,value,cellProperties.visualRow,cellProperties.prop,source),done(cellProperties.valid=valid),instance.runHooks("postAfterValidate",valid,value,cellProperties.visualRow,cellProperties.prop,source)})},0))):instance._registerTimeout(setTimeout(function(){cellProperties.valid=!0,done(cellProperties.valid)},0))},this.setDataAtCell=function(row,col,value,source){var i,ilen,prop,input=setDataInputToArray(row,col,value),changes=[];for(i=0,ilen=input.length;i<ilen;i++){if("object"!==_typeof(input[i]))throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof input[i][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");prop=datamap.colToProp(input[i][1]),changes.push([input[i][0],prop,dataSource.getAtCell(recordTranslator.toPhysicalRow(input[i][0]),input[i][1]),input[i][2]])}source||"object"!==(void 0===row?"undefined":_typeof(row))||(source=col),instance.runHooks("afterSetDataAtCell",changes,source),validateChanges(changes,source,function(){applyChanges(changes,source)})},this.setDataAtRowProp=function(row,prop,value,source){var i,ilen,input=setDataInputToArray(row,prop,value),changes=[];for(i=0,ilen=input.length;i<ilen;i++)changes.push([input[i][0],input[i][1],dataSource.getAtCell(recordTranslator.toPhysicalRow(input[i][0]),input[i][1]),input[i][2]]);source||"object"!==(void 0===row?"undefined":_typeof(row))||(source=prop),instance.runHooks("afterSetDataAtRowProp",changes,source),validateChanges(changes,source,function(){applyChanges(changes,source)})},this.listen=function(){var invalidActiveElement=!document.activeElement||document.activeElement&&void 0===document.activeElement.nodeName;document.activeElement&&document.activeElement!==document.body&&!invalidActiveElement?document.activeElement.blur():invalidActiveElement&&document.body.focus(),instance&&!instance.isListening()&&(activeGuid=instance.guid,instance.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(activeGuid=null,instance.runHooks("afterUnlisten"))},this.isListening=function(){return activeGuid===instance.guid},this.destroyEditor=function(revertOriginal){selection.refreshBorders(revertOriginal)},this.populateFromArray=function(row,col,input,endRow,endCol,source,method,direction,deltas){var c;if("object"!==(void 0===input?"undefined":_typeof(input))||"object"!==_typeof(input[0]))throw new Error("populateFromArray parameter `input` must be an array of arrays");return c="number"==typeof endRow?new _src.CellCoords(endRow,endCol):null,grid.populateFromArray(new _src.CellCoords(row,col),input,c,source,method,direction,deltas)},this.spliceCol=function(col,index,amount){var _datamap;return(_datamap=datamap).spliceCol.apply(_datamap,arguments)},this.spliceRow=function(row,index,amount){var _datamap2;return(_datamap2=datamap).spliceRow.apply(_datamap2,arguments)},this.getSelected=function(){if(selection.isSelected())return[priv.selRange.from.row,priv.selRange.from.col,priv.selRange.to.row,priv.selRange.to.col]},this.getSelectedRange=function(){if(selection.isSelected())return priv.selRange},this.render=function(){instance.view&&(instance.renderCall=!0,instance.forceFullRender=!0,selection.refreshBorders(null,!0))},this.loadData=function(data){if(Array.isArray(priv.settings.dataSchema)?instance.dataType="array":(0,_function.isFunction)(priv.settings.dataSchema)?instance.dataType="function":instance.dataType="object",datamap&&datamap.destroy(),datamap=new _dataMap2.default(instance,priv,GridSettings),"object"===(void 0===data?"undefined":_typeof(data))&&null!==data)data.push&&data.splice||(data=[data]);else{if(null!==data)throw new Error("loadData only accepts array of objects or array of arrays ("+(void 0===data?"undefined":_typeof(data))+" given)");var row;data=[];var r=0,rlen=0,dataSchema=datamap.getSchema();for(r=0,rlen=priv.settings.startRows;r<rlen;r++)if("object"!==instance.dataType&&"function"!==instance.dataType||!priv.settings.dataSchema)if("array"===instance.dataType)row=(0,_object.deepClone)(dataSchema[0]),data.push(row);else{row=[];for(var c=0,clen=priv.settings.startCols;c<clen;c++)row.push(null);data.push(row)}else row=(0,_object.deepClone)(dataSchema),data.push(row)}priv.isPopulated=!1,GridSettings.prototype.data=data,Array.isArray(data[0])&&(instance.dataType="array"),datamap.dataSource=data,dataSource.data=data,dataSource.dataType=instance.dataType,dataSource.colToProp=datamap.colToProp.bind(datamap),dataSource.propToCol=datamap.propToCol.bind(datamap),priv.cellSettings.length=0,grid.adjustRowsAndCols(),instance.runHooks("afterLoadData",priv.firstRun),priv.firstRun?priv.firstRun=[null,"loadData"]:(instance.runHooks("afterChange",null,"loadData"),instance.render()),priv.isPopulated=!0},this.getData=function(r,c,r2,c2){return(0,_mixed.isUndefined)(r)?datamap.getAll():datamap.getRange(new _src.CellCoords(r,c),new _src.CellCoords(r2,c2),datamap.DESTINATION_RENDERER)},this.getCopyableText=function(startRow,startCol,endRow,endCol){return datamap.getCopyableText(new _src.CellCoords(startRow,startCol),new _src.CellCoords(endRow,endCol))},this.getCopyableData=function(row,column){return datamap.getCopyable(row,datamap.colToProp(column))},this.getSchema=function(){return datamap.getSchema()},this.updateSettings=function(settings,init){var columnsAsFunc=!1,i=void 0,j=void 0,clen=void 0;if((0,_mixed.isDefined)(settings.rows))throw new Error('"rows" setting is no longer supported. do you mean startRows, minRows or maxRows?');if((0,_mixed.isDefined)(settings.cols))throw new Error('"cols" setting is no longer supported. do you mean startCols, minCols or maxCols?');for(i in settings)"data"!==i&&(-1<_pluginHooks2.default.getSingleton().getRegistered().indexOf(i)?((0,_function.isFunction)(settings[i])||Array.isArray(settings[i]))&&(settings[i].initialHook=!0,instance.addHook(i,settings[i])):!init&&(0,_object.hasOwnProperty)(settings,i)&&(GridSettings.prototype[i]=settings[i]));void 0===settings.data&&void 0===priv.settings.data?instance.loadData(null):void 0!==settings.data?instance.loadData(settings.data):void 0!==settings.columns&&datamap.createMap(),clen=instance.countCols();var columnSetting=settings.columns||GridSettings.prototype.columns;if(columnSetting&&(0,_function.isFunction)(columnSetting)&&(clen=instance.countSourceCols(),columnsAsFunc=!0),void 0===settings.cell&&void 0===settings.cells&&void 0===settings.columns||(priv.cellSettings.length=0),0<clen){var proto=void 0,column=void 0;for(j=i=0;i<clen;i++)columnsAsFunc&&!columnSetting(i)||(priv.columnSettings[j]=(0,_setting.columnFactory)(GridSettings,priv.columnsSettingConflicts),proto=priv.columnSettings[j].prototype,columnSetting&&(column=columnsAsFunc?columnSetting(i):columnSetting[j])&&((0,_object.extend)(proto,column),(0,_object.extend)(proto,expandType(column))),j++)}if((0,_mixed.isDefined)(settings.cell))for(var key in settings.cell)if((0,_object.hasOwnProperty)(settings.cell,key)){var cell=settings.cell[key];instance.setCellMetaObject(cell.row,cell.col,cell)}instance.runHooks("afterCellMetaReset"),(0,_mixed.isDefined)(settings.className)&&(GridSettings.prototype.className&&(0,_element.removeClass)(instance.rootElement,GridSettings.prototype.className),settings.className&&(0,_element.addClass)(instance.rootElement,settings.className));var currentHeight=instance.rootElement.style.height;""!==currentHeight&&(currentHeight=parseInt(instance.rootElement.style.height,10));var height=settings.height;if((0,_function.isFunction)(height)&&(height=height()),init){var initialStyle=instance.rootElement.getAttribute("style");initialStyle&&instance.rootElement.setAttribute("data-initialstyle",instance.rootElement.getAttribute("style"))}if(null===height){var _initialStyle=instance.rootElement.getAttribute("data-initialstyle");_initialStyle&&(-1<_initialStyle.indexOf("height")||-1<_initialStyle.indexOf("overflow"))?instance.rootElement.setAttribute("style",_initialStyle):(instance.rootElement.style.height="",instance.rootElement.style.overflow="")}else void 0!==height&&(instance.rootElement.style.height=height+"px",instance.rootElement.style.overflow="hidden");if(void 0!==settings.width){var width=settings.width;(0,_function.isFunction)(width)&&(width=width()),instance.rootElement.style.width=width+"px"}init||(datamap.clearLengthCache(),instance.view&&instance.view.wt.wtViewport.resetHasOversizedColumnHeadersMarked(),instance.runHooks("afterUpdateSettings",settings)),grid.adjustRowsAndCols(),instance.view&&!priv.firstRun&&(instance.forceFullRender=!0,selection.refreshBorders(null,!0)),init||!instance.view||""!==currentHeight&&""!==height&&void 0!==height||currentHeight===height||instance.view.wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var sel=instance.getSelected();if(GridSettings.prototype.getValue){if((0,_function.isFunction)(GridSettings.prototype.getValue))return GridSettings.prototype.getValue.call(instance);if(sel)return instance.getData()[sel[0]][GridSettings.prototype.getValue]}else if(sel)return instance.getDataAtCell(sel[0],sel[1])},this.getSettings=function(){return priv.settings},this.clear=function(){selection.selectAll(),selection.empty()},this.alter=function(action,index,amount,source,keepEmptyRows){grid.alter(action,index,amount,source,keepEmptyRows)},this.getCell=function(row,col,topmost){return instance.view.getCellAtCoords(new _src.CellCoords(row,col),topmost)},this.getCoords=function(elem){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,elem)},this.colToProp=function(col){return datamap.colToProp(col)},this.propToCol=function(prop){return datamap.propToCol(prop)},this.toVisualRow=function(row){return recordTranslator.toVisualRow(row)},this.toVisualColumn=function(column){return recordTranslator.toVisualColumn(column)},this.toPhysicalRow=function(row){return recordTranslator.toPhysicalRow(row)},this.toPhysicalColumn=function(column){return recordTranslator.toPhysicalColumn(column)},this.getDataAtCell=function(row,col){return datamap.get(row,datamap.colToProp(col))},this.getDataAtRowProp=function(row,prop){return datamap.get(row,prop)},this.getDataAtCol=function(col){var out=[];return out.concat.apply(out,_toConsumableArray(datamap.getRange(new _src.CellCoords(0,col),new _src.CellCoords(priv.settings.data.length-1,col),datamap.DESTINATION_RENDERER)))},this.getDataAtProp=function(prop){var range,out=[];return range=datamap.getRange(new _src.CellCoords(0,datamap.propToCol(prop)),new _src.CellCoords(priv.settings.data.length-1,datamap.propToCol(prop)),datamap.DESTINATION_RENDERER),out.concat.apply(out,_toConsumableArray(range))},this.getSourceData=function(r,c,r2,c2){return void 0===r?dataSource.getData():dataSource.getByRange(new _src.CellCoords(r,c),new _src.CellCoords(r2,c2))},this.getSourceDataArray=function(r,c,r2,c2){return void 0===r?dataSource.getData(!0):dataSource.getByRange(new _src.CellCoords(r,c),new _src.CellCoords(r2,c2),!0)},this.getSourceDataAtCol=function(column){return dataSource.getAtColumn(column)},this.getSourceDataAtRow=function(row){return dataSource.getAtRow(row)},this.getSourceDataAtCell=function(row,column){return dataSource.getAtCell(row,column)},this.getDataAtRow=function(row){var data=datamap.getRange(new _src.CellCoords(row,0),new _src.CellCoords(row,this.countCols()-1),datamap.DESTINATION_RENDERER);return data[0]||[]},this.getDataType=function(rowFrom,columnFrom,rowTo,columnTo){var _this=this,previousType=null,currentType=null;void 0===rowFrom&&(rowFrom=0,rowTo=this.countRows(),columnFrom=0,columnTo=this.countCols()),void 0===rowTo&&(rowTo=rowFrom),void 0===columnTo&&(columnTo=columnFrom);var type="mixed";return(0,_number.rangeEach)(Math.min(rowFrom,rowTo),Math.max(rowFrom,rowTo),function(row){var isTypeEqual=!0;return(0,_number.rangeEach)(Math.min(columnFrom,columnTo),Math.max(columnFrom,columnTo),function(column){var cellType=_this.getCellMeta(row,column);return currentType=cellType.type,previousType?isTypeEqual=previousType===currentType:previousType=currentType,isTypeEqual}),type=isTypeEqual?currentType:"mixed",isTypeEqual}),type},this.removeCellMeta=function(row,col,key){var _recordTranslator$toP=recordTranslator.toPhysical(row,col),_recordTranslator$toP2=_slicedToArray(_recordTranslator$toP,2),physicalRow=_recordTranslator$toP2[0],physicalColumn=_recordTranslator$toP2[1],cachedValue=priv.cellSettings[physicalRow][physicalColumn][key],hookResult=instance.runHooks("beforeRemoveCellMeta",row,col,key,cachedValue);!1!==hookResult&&(delete priv.cellSettings[physicalRow][physicalColumn][key],instance.runHooks("afterRemoveCellMeta",row,col,key,cachedValue)),cachedValue=null},this.spliceCellsMeta=function(index,deleteAmount){for(var _priv$cellSettings,_len2=arguments.length,items=Array(2<_len2?_len2-2:0),_key=2;_key<_len2;_key++)items[_key-2]=arguments[_key];(_priv$cellSettings=priv.cellSettings).splice.apply(_priv$cellSettings,[index,deleteAmount].concat(items))},this.setCellMetaObject=function(row,col,prop){if("object"===(void 0===prop?"undefined":_typeof(prop)))for(var key in prop)if((0,_object.hasOwnProperty)(prop,key)){var value=prop[key];this.setCellMeta(row,col,key,value)}},this.setCellMeta=function(row,col,key,val){var _recordTranslator$toP3=recordTranslator.toPhysical(row,col),_recordTranslator$toP4=_slicedToArray(_recordTranslator$toP3,2),physicalRow=_recordTranslator$toP4[0],physicalColumn=_recordTranslator$toP4[1];priv.columnSettings[physicalColumn]||(priv.columnSettings[physicalColumn]=(0,_setting.columnFactory)(GridSettings,priv.columnsSettingConflicts)),priv.cellSettings[physicalRow]||(priv.cellSettings[physicalRow]=[]),priv.cellSettings[physicalRow][physicalColumn]||(priv.cellSettings[physicalRow][physicalColumn]=new priv.columnSettings[physicalColumn]),priv.cellSettings[physicalRow][physicalColumn][key]=val,instance.runHooks("afterSetCellMeta",row,col,key,val)},this.getCellsMeta=function(){return(0,_array.arrayFlatten)(priv.cellSettings)},this.getCellMeta=function(row,col){var prop=datamap.colToProp(col),cellProperties=void 0,_recordTranslator$toP5=recordTranslator.toPhysical(row,col),_recordTranslator$toP6=_slicedToArray(_recordTranslator$toP5,2),physicalRow=_recordTranslator$toP6[0],physicalColumn=_recordTranslator$toP6[1];if(priv.columnSettings[physicalColumn]||(priv.columnSettings[physicalColumn]=(0,_setting.columnFactory)(GridSettings,priv.columnsSettingConflicts)),priv.cellSettings[physicalRow]||(priv.cellSettings[physicalRow]=[]),priv.cellSettings[physicalRow][physicalColumn]||(priv.cellSettings[physicalRow][physicalColumn]=new priv.columnSettings[physicalColumn]),(cellProperties=priv.cellSettings[physicalRow][physicalColumn]).row=physicalRow,cellProperties.col=physicalColumn,cellProperties.visualRow=row,cellProperties.visualCol=col,cellProperties.prop=prop,(cellProperties.instance=instance).runHooks("beforeGetCellMeta",row,col,cellProperties),(0,_object.extend)(cellProperties,expandType(cellProperties)),cellProperties.cells){var settings=cellProperties.cells.call(cellProperties,physicalRow,physicalColumn,prop);settings&&((0,_object.extend)(cellProperties,settings),(0,_object.extend)(cellProperties,expandType(settings)))}return instance.runHooks("afterGetCellMeta",row,col,cellProperties),cellProperties},this.getCellMetaAtRow=function(row){return priv.cellSettings[row]},this.isColumnModificationAllowed=function(){return!("object"===instance.dataType||instance.getSettings().columns)};var rendererLookup=(0,_data.cellMethodLookupFactory)("renderer");this.getCellRenderer=function(row,col){return(0,_renderers.getRenderer)(rendererLookup.call(this,row,col))},this.getCellEditor=(0,_data.cellMethodLookupFactory)("editor");var validatorLookup=(0,_data.cellMethodLookupFactory)("validator");function postMortem(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}this.getCellValidator=function(row,col){var validator=validatorLookup.call(this,row,col);return"string"==typeof validator&&(validator=(0,_validators.getValidator)(validator)),validator},this.validateCells=function(callback){var waitingForValidator=new ValidatorsQueue;callback&&(waitingForValidator.onQueueEmpty=callback);for(var i=instance.countRows()-1;0<=i;){for(var j=instance.countCols()-1;0<=j;)waitingForValidator.addValidatorToQueue(),instance.validateCell(instance.getDataAtCell(i,j),instance.getCellMeta(i,j),function(result){if("boolean"!=typeof result)throw new Error("Validation error: result is not boolean");!1===result&&(waitingForValidator.valid=!1),waitingForValidator.removeValidatorFormQueue()},"validateCells"),j--;i--}waitingForValidator.checkIfQueueIsEmpty()},this.getRowHeader=function(row){var rowHeader=priv.settings.rowHeaders;return void 0!==row&&(row=instance.runHooks("modifyRowHeader",row)),void 0===row?(rowHeader=[],(0,_number.rangeEach)(instance.countRows()-1,function(i){rowHeader.push(instance.getRowHeader(i))})):Array.isArray(rowHeader)&&void 0!==rowHeader[row]?rowHeader=rowHeader[row]:(0,_function.isFunction)(rowHeader)?rowHeader=rowHeader(row):rowHeader&&"string"!=typeof rowHeader&&"number"!=typeof rowHeader&&(rowHeader=row+1),rowHeader},this.hasRowHeaders=function(){return!!priv.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==priv.settings.colHeaders&&null!==priv.settings.colHeaders)return!!priv.settings.colHeaders;for(var i=0,ilen=instance.countCols();i<ilen;i++)if(instance.getColHeader(i))return!0;return!1},this.getColHeader=function(col){var columnsAsFunc=priv.settings.columns&&(0,_function.isFunction)(priv.settings.columns),result=priv.settings.colHeaders;if(void 0===(col=instance.runHooks("modifyColHeader",col))){for(var out=[],ilen=columnsAsFunc?instance.countSourceCols():instance.countCols(),i=0;i<ilen;i++)out.push(instance.getColHeader(i));result=out}else{var baseCol=col,prop=function(col){for(var arr=[],columnsLen=instance.countSourceCols(),index=0;index<columnsLen;index++)(0,_function.isFunction)(instance.getSettings().columns)&&instance.getSettings().columns(index)&&arr.push(index);return arr[col]}(col=instance.runHooks("modifyCol",col));priv.settings.columns&&(0,_function.isFunction)(priv.settings.columns)&&priv.settings.columns(prop)&&priv.settings.columns(prop).title?result=priv.settings.columns(prop).title:priv.settings.columns&&priv.settings.columns[col]&&priv.settings.columns[col].title?result=priv.settings.columns[col].title:Array.isArray(priv.settings.colHeaders)&&void 0!==priv.settings.colHeaders[col]?result=priv.settings.colHeaders[col]:(0,_function.isFunction)(priv.settings.colHeaders)?result=priv.settings.colHeaders(col):priv.settings.colHeaders&&"string"!=typeof priv.settings.colHeaders&&"number"!=typeof priv.settings.colHeaders&&(result=(0,_data.spreadsheetColumnLabel)(baseCol))}return result},this._getColWidthFromSettings=function(col){var cellProperties=instance.getCellMeta(0,col),width=cellProperties.width;if(void 0!==width&&width!==priv.settings.width||(width=cellProperties.colWidths),null!=width){switch(void 0===width?"undefined":_typeof(width)){case"object":width=width[col];break;case"function":width=width(col)}"string"==typeof width&&(width=parseInt(width,10))}return width},this.getColWidth=function(col){var width=instance._getColWidthFromSettings(col);return void 0===(width=instance.runHooks("modifyColWidth",width,col))&&(width=_src.ViewportColumnsCalculator.DEFAULT_WIDTH),width},this._getRowHeightFromSettings=function(row){var height=priv.settings.rowHeights;if(null!=height){switch(void 0===height?"undefined":_typeof(height)){case"object":height=height[row];break;case"function":height=height(row)}"string"==typeof height&&(height=parseInt(height,10))}return height},this.getRowHeight=function(row){var height=instance._getRowHeightFromSettings(row);return height=instance.runHooks("modifyRowHeight",height,row)},this.countSourceRows=function(){var sourceLength=instance.runHooks("modifySourceLength");return sourceLength||(instance.getSourceData()?instance.getSourceData().length:0)},this.countSourceCols=function(){var obj=instance.getSourceData()&&instance.getSourceData()[0]?instance.getSourceData()[0]:[];return(0,_object.isObject)(obj)?(0,_object.deepObjectSize)(obj):obj.length||0},this.countRows=function(){return datamap.getLength()},this.countCols=function(){var maxCols=this.getSettings().maxCols,dataHasLength=!1,dataLen=0;if("array"===instance.dataType&&(dataHasLength=priv.settings.data&&priv.settings.data[0]&&priv.settings.data[0].length),dataHasLength&&(dataLen=priv.settings.data[0].length),priv.settings.columns){var columnsIsFunction=(0,_function.isFunction)(priv.settings.columns);if(columnsIsFunction)if("array"===instance.dataType){for(var columnLen=0,i=0;i<dataLen;i++)priv.settings.columns(i)&&columnLen++;dataLen=columnLen}else"object"!==instance.dataType&&"function"!==instance.dataType||(dataLen=datamap.colToPropCache.length);else dataLen=priv.settings.columns.length}else"object"!==instance.dataType&&"function"!==instance.dataType||(dataLen=datamap.colToPropCache.length);return Math.min(maxCols,dataLen)},this.rowOffset=function(){return instance.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return instance.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return instance.view.wt.drawn?instance.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return instance.view.wt.drawn?instance.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return instance.view.wt.drawn?instance.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return instance.view.wt.drawn?instance.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(ending){for(var row,i=instance.countRows()-1,empty=0;0<=i;){if(row=instance.runHooks("modifyRow",i),instance.isEmptyRow(row))empty++;else if(ending)break;i--}return empty},this.countEmptyCols=function(ending){if(instance.countRows()<1)return 0;for(var i=instance.countCols()-1,empty=0;0<=i;){if(instance.isEmptyCol(i))empty++;else if(ending)break;i--}return empty},this.isEmptyRow=function(row){return priv.settings.isEmptyRow.call(instance,row)},this.isEmptyCol=function(col){return priv.settings.isEmptyCol.call(instance,col)},this.selectCell=function(row,col,endRow,endCol,scrollToCell,changeListener){var coords;if(changeListener=(0,_mixed.isUndefined)(changeListener)||!0===changeListener,"number"!=typeof row||row<0||row>=instance.countRows())return!1;if("number"!=typeof col||col<0||col>=instance.countCols())return!1;if((0,_mixed.isDefined)(endRow)){if("number"!=typeof endRow||endRow<0||endRow>=instance.countRows())return!1;if("number"!=typeof endCol||endCol<0||endCol>=instance.countCols())return!1}return coords=new _src.CellCoords(row,col),priv.selRange=new _src.CellRange(coords,coords,coords),changeListener&&instance.listen(),(0,_mixed.isUndefined)(endRow)?selection.setRangeEnd(priv.selRange.from,scrollToCell):selection.setRangeEnd(new _src.CellCoords(endRow,endCol),scrollToCell),instance.selection.finish(),!0},this.selectCellByProp=function(row,prop,endRow,endProp,scrollToCell){var _instance5;return arguments[1]=datamap.propToCol(arguments[1]),(0,_mixed.isDefined)(arguments[3])&&(arguments[3]=datamap.propToCol(arguments[3])),(_instance5=instance).selectCell.apply(_instance5,arguments)},this.deselectCell=function(){selection.deselect()},this.scrollViewportTo=function(row,column){var snapToBottom=2<arguments.length&&void 0!==arguments[2]&&arguments[2],snapToRight=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(void 0!==row&&(row<0||row>=instance.countRows()))return!1;if(void 0!==column&&(column<0||column>=instance.countCols()))return!1;var result=!1;return void 0!==row&&void 0!==column&&(instance.view.wt.wtOverlays.topOverlay.scrollTo(row,snapToBottom),instance.view.wt.wtOverlays.leftOverlay.scrollTo(column,snapToRight),result=!0),"number"==typeof row&&"number"!=typeof column&&(instance.view.wt.wtOverlays.topOverlay.scrollTo(row,snapToBottom),result=!0),"number"==typeof column&&"number"!=typeof row&&(instance.view.wt.wtOverlays.leftOverlay.scrollTo(column,snapToRight),result=!0),result},this.destroy=function(){for(var i in instance._clearTimeouts(),instance.view&&instance.view.destroy(),dataSource&&dataSource.destroy(),dataSource=null,(0,_element.empty)(instance.rootElement),eventManager.destroy(),instance.runHooks("afterDestroy"),_pluginHooks2.default.getSingleton().destroy(instance),instance)(0,_object.hasOwnProperty)(instance,i)&&((0,_function.isFunction)(instance[i])?instance[i]=postMortem:"guid"!==i&&(instance[i]=null));datamap&&datamap.destroy(),GridSettings=instance=editorManager=selection=grid=priv=datamap=null},this.getActiveEditor=function(){return editorManager.getActiveEditor()},this.getPlugin=function(pluginName){return(0,_plugins.getPlugin)(this,pluginName)},this.getInstance=function(){return instance},this.addHook=function(key,callback){_pluginHooks2.default.getSingleton().add(key,callback,instance)},this.hasHook=function(key){return _pluginHooks2.default.getSingleton().has(key,instance)},this.addHookOnce=function(key,callback){_pluginHooks2.default.getSingleton().once(key,callback,instance)},this.removeHook=function(key,callback){_pluginHooks2.default.getSingleton().remove(key,callback,instance)},this.runHooks=function(key,p1,p2,p3,p4,p5,p6){return _pluginHooks2.default.getSingleton().run(instance,key,p1,p2,p3,p4,p5,p6)},this.timeouts=[],this._registerTimeout=function(handle){this.timeouts.push(handle)},this._clearTimeouts=function(){for(var i=0,ilen=this.timeouts.length;i<ilen;i++)clearTimeout(this.timeouts[i])},_pluginHooks2.default.getSingleton().run(instance,"construct")};var _numbro2=_interopRequireDefault(__webpack_require__(80)),_element=__webpack_require__(0),_setting=__webpack_require__(83),_function=__webpack_require__(35),_mixed=__webpack_require__(22),_browser=__webpack_require__(26),_dataMap2=_interopRequireDefault(__webpack_require__(240)),_editorManager2=_interopRequireDefault(__webpack_require__(243)),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_object=__webpack_require__(1),_array=__webpack_require__(2),_plugins=__webpack_require__(5),_renderers=__webpack_require__(8),_validators=__webpack_require__(27),_string=__webpack_require__(32),_number=__webpack_require__(6),_tableView2=_interopRequireDefault(__webpack_require__(244)),_dataSource2=_interopRequireDefault(__webpack_require__(245)),_data=__webpack_require__(84),_recordTranslator=__webpack_require__(172),_rootInstance=__webpack_require__(173),_src=__webpack_require__(12),_pluginHooks2=_interopRequireDefault(__webpack_require__(7)),_defaultSettings2=_interopRequireDefault(__webpack_require__(174)),_cellTypes=__webpack_require__(81);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var activeGuid=null},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.columnFactory=function(GridSettings,conflictList){function ColumnSettings(){}(0,_object.inherit)(ColumnSettings,GridSettings);for(var i=0,len=conflictList.length;i<len;i++)ColumnSettings.prototype[conflictList[i]]=void 0;return ColumnSettings};var _object=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.spreadsheetColumnLabel=spreadsheetColumnLabel,exports.spreadsheetColumnIndex=function(label){var result=0;if(label)for(var i=0,j=label.length-1;i<label.length;i+=1,j-=1)result+=Math.pow(COLUMN_LABEL_BASE_LENGTH,j)*(COLUMN_LABEL_BASE.indexOf(label[i])+1);return--result},exports.createSpreadsheetData=function(){var i,j,rows=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,columns=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,_rows=[];for(i=0;i<rows;i++){var row=[];for(j=0;j<columns;j++)row.push(spreadsheetColumnLabel(j)+(i+1));_rows.push(row)}return _rows},exports.createSpreadsheetObjectData=function(){var i,j,rows=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,colCount=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,_rows=[];for(i=0;i<rows;i++){var row={};for(j=0;j<colCount;j++)row["prop"+j]=spreadsheetColumnLabel(j)+(i+1);_rows.push(row)}return _rows},exports.createEmptySpreadsheetData=function(rows,columns){for(var data=[],row=void 0,i=0;i<rows;i++){row=[];for(var j=0;j<columns;j++)row.push("");data.push(row)}return data},exports.translateRowsToColumns=function(input){var i,ilen,j,jlen,output=[],olen=0;for(i=0,ilen=input.length;i<ilen;i++)for(j=0,jlen=input[i].length;j<jlen;j++)j==olen&&(output.push([]),olen++),output[j].push(input[i][j]);return output},exports.cellMethodLookupFactory=function(methodName,allowUndefined){return allowUndefined=void 0===allowUndefined||allowUndefined,function(row,col){return function getMethodFromProperties(properties){if(properties){if((0,_object.hasOwnProperty)(properties,methodName)&&void 0!==properties[methodName])return properties[methodName];if((0,_object.hasOwnProperty)(properties,"type")&&properties.type){var type;if("string"!=typeof properties.type)throw new Error("Cell type must be a string ");if(type=(0,_cellTypes.getCellType)(properties.type),(0,_object.hasOwnProperty)(type,methodName))return type[methodName];if(allowUndefined)return}return getMethodFromProperties(Object.getPrototypeOf(properties))}}("number"==typeof row?this.getCellMeta(row,col):row)}};var _cellTypes=__webpack_require__(81),_object=__webpack_require__(1),COLUMN_LABEL_BASE="ABCDEFGHIJKLMNOPQRSTUVWXYZ",COLUMN_LABEL_BASE_LENGTH=COLUMN_LABEL_BASE.length;function spreadsheetColumnLabel(index){for(var dividend=index+1,columnLabel="",modulo=void 0;0<dividend;)modulo=(dividend-1)%COLUMN_LABEL_BASE_LENGTH,columnLabel=String.fromCharCode(65+modulo)+columnLabel,dividend=parseInt((dividend-modulo)/COLUMN_LABEL_BASE_LENGTH,10);return columnLabel}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0),_array=__webpack_require__(2);var GhostTable=function(){function GhostTable(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GhostTable),this.hot=hotInstance,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}return _createClass(GhostTable,[{key:"addRow",value:function(row,samples){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var rowObject={row:row};this.rows.push(rowObject),this.samples=samples,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(row)),this.container.container.appendChild(this.table.fragment),rowObject.table=this.table.table}},{key:"addColumnHeadersRow",value:function(samples){if(null!=this.hot.getColHeader(0)){var rowObject={row:-1};this.rows.push(rowObject),this.container=this.createContainer(this.hot.rootElement.className),this.samples=samples,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tHead.appendChild(this.createColumnHeadersRow()),this.container.container.appendChild(this.table.fragment),rowObject.table=this.table.table}}},{key:"addColumn",value:function(column,samples){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var columnObject={col:column};this.columns.push(columnObject),this.samples=samples,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(column)&&this.hot.view.appendColHeader(column,this.table.th),this.table.tBody.appendChild(this.createCol(column)),this.container.container.appendChild(this.table.fragment),columnObject.table=this.table.table}},{key:"getHeights",value:function(callback){this.injected||this.injectTable(),(0,_array.arrayEach)(this.rows,function(row){callback(row.row,(0,_element.outerHeight)(row.table)-1)})}},{key:"getWidths",value:function(callback){this.injected||this.injectTable(),(0,_array.arrayEach)(this.columns,function(column){callback(column.col,(0,_element.outerWidth)(column.table))})}},{key:"setSettings",value:function(settings){this.settings=settings}},{key:"setSetting",value:function(name,value){this.settings||(this.settings={}),this.settings[name]=value}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(name){return this.settings?this.settings[name]:null}},{key:"createColGroupsCol",value:function(){var _this=this,fragment=document.createDocumentFragment();return this.hot.hasRowHeaders()&&fragment.appendChild(this.createColElement(-1)),this.samples.forEach(function(sample){(0,_array.arrayEach)(sample.strings,function(string){fragment.appendChild(_this.createColElement(string.col))})}),fragment}},{key:"createRow",value:function(row){var _this2=this,d=document,fragment=d.createDocumentFragment(),th=d.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(row,th),fragment.appendChild(th)),this.samples.forEach(function(sample){(0,_array.arrayEach)(sample.strings,function(string){var column=string.col,cellProperties=_this2.hot.getCellMeta(row,column);cellProperties.col=column,cellProperties.row=row;var renderer=_this2.hot.getCellRenderer(cellProperties),td=d.createElement("td");renderer(_this2.hot,td,row,column,_this2.hot.colToProp(column),string.value,cellProperties),fragment.appendChild(td)})}),fragment}},{key:"createColumnHeadersRow",value:function(){var _this3=this,d=document,fragment=d.createDocumentFragment();if(this.hot.hasRowHeaders()){var th=d.createElement("th");this.hot.view.appendColHeader(-1,th),fragment.appendChild(th)}return this.samples.forEach(function(sample){(0,_array.arrayEach)(sample.strings,function(string){var column=string.col,th=d.createElement("th");_this3.hot.view.appendColHeader(column,th),fragment.appendChild(th)})}),fragment}},{key:"createCol",value:function(column){var _this4=this,d=document,fragment=d.createDocumentFragment();return this.samples.forEach(function(sample){(0,_array.arrayEach)(sample.strings,function(string){var row=string.row,cellProperties=_this4.hot.getCellMeta(row,column);cellProperties.col=column,cellProperties.row=row;var renderer=_this4.hot.getCellRenderer(cellProperties),td=d.createElement("td"),tr=d.createElement("tr");renderer(_this4.hot,td,row,column,_this4.hot.colToProp(column),string.value,cellProperties),tr.appendChild(td),fragment.appendChild(tr)})}),fragment}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var parent=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.injected||((parent||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(column){var col=document.createElement("col");return col.style.width=this.hot.view.wt.wtTable.getStretchedColumnWidth(column)+"px",col}},{key:"createTable",value:function(){var className=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",d=document,fragment=d.createDocumentFragment(),table=d.createElement("table"),tHead=d.createElement("thead"),tBody=d.createElement("tbody"),colGroup=d.createElement("colgroup"),tr=d.createElement("tr"),th=d.createElement("th");return this.isVertical()&&table.appendChild(colGroup),this.isHorizontal()&&(tr.appendChild(th),tHead.appendChild(tr),table.style.tableLayout="auto",table.style.width="auto"),table.appendChild(tHead),this.isVertical()&&tBody.appendChild(tr),table.appendChild(tBody),(0,_element.addClass)(table,className),fragment.appendChild(table),{fragment:fragment,table:table,tHead:tHead,tBody:tBody,colGroup:colGroup,tr:tr,th:th}}},{key:"createContainer",value:function(){var className=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",d=document,fragment=d.createDocumentFragment(),container=d.createElement("div");return className="htGhostTable htAutoSize "+className.trim(),(0,_element.addClass)(container,className),fragment.appendChild(container),{fragment:fragment,container:container}}},{key:"isVertical",value:function(){return!(!this.rows.length||this.columns.length)}},{key:"isHorizontal",value:function(){return!(!this.columns.length||this.rows.length)}}]),GhostTable}();exports.default=GhostTable},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(){return{name:KEY}};var KEY=exports.KEY="---------"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _array=__webpack_require__(2),_object=__webpack_require__(1),localHooks={_localHooks:Object.create(null),addLocalHook:function(key,callback){this._localHooks[key]||(this._localHooks[key]=[]),this._localHooks[key].push(callback)},runLocalHooks:function(key){for(var _this=this,_len=arguments.length,params=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];this._localHooks[key]&&(0,_array.arrayEach)(this._localHooks[key],function(callback){return callback.apply(_this,params)})},clearLocalHooks:function(){this._localHooks={}}};(0,_object.defineGetter)(localHooks,"MIXIN_NAME","localHooks",{writable:!1,enumerable:!1}),exports.default=localHooks},function(module,exports,__webpack_require__){"use strict";var _predefinedItems2;exports.__esModule=!0,exports.ITEMS=exports.UNDO=exports.SEPARATOR=exports.ROW_BELOW=exports.ROW_ABOVE=exports.REMOVE_ROW=exports.REMOVE_COLUMN=exports.REDO=exports.READ_ONLY=exports.COLUMN_RIGHT=exports.COLUMN_LEFT=exports.CLEAR_COLUMN=exports.ALIGNMENT=void 0;var _alignment=__webpack_require__(262);Object.defineProperty(exports,"ALIGNMENT",{enumerable:!0,get:function(){return _alignment.KEY}});var _clearColumn=__webpack_require__(263);Object.defineProperty(exports,"CLEAR_COLUMN",{enumerable:!0,get:function(){return _clearColumn.KEY}});var _columnLeft=__webpack_require__(264);Object.defineProperty(exports,"COLUMN_LEFT",{enumerable:!0,get:function(){return _columnLeft.KEY}});var _columnRight=__webpack_require__(265);Object.defineProperty(exports,"COLUMN_RIGHT",{enumerable:!0,get:function(){return _columnRight.KEY}});var _readOnly=__webpack_require__(266);Object.defineProperty(exports,"READ_ONLY",{enumerable:!0,get:function(){return _readOnly.KEY}});var _redo=__webpack_require__(267);Object.defineProperty(exports,"REDO",{enumerable:!0,get:function(){return _redo.KEY}});var _removeColumn=__webpack_require__(268);Object.defineProperty(exports,"REMOVE_COLUMN",{enumerable:!0,get:function(){return _removeColumn.KEY}});var _removeRow=__webpack_require__(269);Object.defineProperty(exports,"REMOVE_ROW",{enumerable:!0,get:function(){return _removeRow.KEY}});var _rowAbove=__webpack_require__(270);Object.defineProperty(exports,"ROW_ABOVE",{enumerable:!0,get:function(){return _rowAbove.KEY}});var _rowBelow=__webpack_require__(271);Object.defineProperty(exports,"ROW_BELOW",{enumerable:!0,get:function(){return _rowBelow.KEY}});var _separator=__webpack_require__(86);Object.defineProperty(exports,"SEPARATOR",{enumerable:!0,get:function(){return _separator.KEY}});var _undo=__webpack_require__(272);Object.defineProperty(exports,"UNDO",{enumerable:!0,get:function(){return _undo.KEY}}),exports.predefinedItems=function(){var items={};return(0,_object.objectEach)(_predefinedItems,function(itemFactory,key){items[key]=itemFactory()}),items},exports.addItem=function(key,item){-1===ITEMS.indexOf(key)&&(_predefinedItems[key]=item)};var _object=__webpack_require__(1),_alignment2=_interopRequireDefault(_alignment),_clearColumn2=_interopRequireDefault(_clearColumn),_columnLeft2=_interopRequireDefault(_columnLeft),_columnRight2=_interopRequireDefault(_columnRight),_readOnly2=_interopRequireDefault(_readOnly),_redo2=_interopRequireDefault(_redo),_removeColumn2=_interopRequireDefault(_removeColumn),_removeRow2=_interopRequireDefault(_removeRow),_rowAbove2=_interopRequireDefault(_rowAbove),_rowBelow2=_interopRequireDefault(_rowBelow),_separator2=_interopRequireDefault(_separator),_undo2=_interopRequireDefault(_undo);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ITEMS=exports.ITEMS=[_rowAbove.KEY,_rowBelow.KEY,_columnLeft.KEY,_columnRight.KEY,_clearColumn.KEY,_removeRow.KEY,_removeColumn.KEY,_undo.KEY,_redo.KEY,_readOnly.KEY,_alignment.KEY,_separator.KEY],_predefinedItems=(_defineProperty(_predefinedItems2={},_separator.KEY,_separator2.default),_defineProperty(_predefinedItems2,_rowAbove.KEY,_rowAbove2.default),_defineProperty(_predefinedItems2,_rowBelow.KEY,_rowBelow2.default),_defineProperty(_predefinedItems2,_columnLeft.KEY,_columnLeft2.default),_defineProperty(_predefinedItems2,_columnRight.KEY,_columnRight2.default),_defineProperty(_predefinedItems2,_clearColumn.KEY,_clearColumn2.default),_defineProperty(_predefinedItems2,_removeRow.KEY,_removeRow2.default),_defineProperty(_predefinedItems2,_removeColumn.KEY,_removeColumn2.default),_defineProperty(_predefinedItems2,_undo.KEY,_undo2.default),_defineProperty(_predefinedItems2,_redo.KEY,_redo2.default),_defineProperty(_predefinedItems2,_readOnly.KEY,_readOnly2.default),_defineProperty(_predefinedItems2,_alignment.KEY,_alignment2.default),_predefinedItems2)},function(module,exports,__webpack_require__){"use strict";var strong=__webpack_require__(90),validate=__webpack_require__(39);module.exports=__webpack_require__(59)("Map",function(get){return function(){return get(this,0<arguments.length?arguments[0]:void 0)}},{get:function(key){var entry=strong.getEntry(validate(this,"Map"),key);return entry&&entry.v},set:function(key,value){return strong.def(validate(this,"Map"),0===key?0:key,value)}},strong,!0)},function(module,exports,__webpack_require__){"use strict";function getEntry(that,key){var entry,index=fastKey(key);if("F"!==index)return that._i[index];for(entry=that._f;entry;entry=entry.n)if(entry.k==key)return entry}var dP=__webpack_require__(17).f,create=__webpack_require__(66),redefineAll=__webpack_require__(54),ctx=__webpack_require__(30),anInstance=__webpack_require__(56),forOf=__webpack_require__(57),$iterDefine=__webpack_require__(99),step=__webpack_require__(100),setSpecies=__webpack_require__(101),DESCRIPTORS=__webpack_require__(20),fastKey=__webpack_require__(47).fastKey,validate=__webpack_require__(39),SIZE=DESCRIPTORS?"_s":"size";module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._t=NAME,that._i=create(null),that._f=void 0,that._l=void 0,that[SIZE]=0,null!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{clear:function(){for(var that=validate(this,NAME),data=that._i,entry=that._f;entry;entry=entry.n)entry.r=!0,entry.p&&(entry.p=entry.p.n=void 0),delete data[entry.i];that._f=that._l=void 0,that[SIZE]=0},delete:function(key){var that=validate(this,NAME),entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that._i[entry.i],entry.r=!0,prev&&(prev.n=next),next&&(next.p=prev),that._f==entry&&(that._f=next),that._l==entry&&(that._l=prev),that[SIZE]--}return!!entry},forEach:function(callbackfn){validate(this,NAME);for(var entry,f=ctx(callbackfn,1<arguments.length?arguments[1]:void 0,3);entry=entry?entry.n:this._f;)for(f(entry.v,entry.k,this);entry&&entry.r;)entry=entry.p},has:function(key){return!!getEntry(validate(this,NAME),key)}}),DESCRIPTORS&&dP(C.prototype,"size",{get:function(){return validate(this,NAME)[SIZE]}}),C},def:function(that,key,value){var prev,index,entry=getEntry(that,key);return entry?entry.v=value:(that._l=entry={i:index=fastKey(key,!0),k:key,v:value,p:prev=that._l,n:void 0,r:!1},that._f||(that._f=entry),prev&&(prev.n=entry),that[SIZE]++,"F"!==index&&(that._i[index]=entry)),that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=validate(iterated,NAME),this._k=kind,this._l=void 0},function(){for(var kind=this._k,entry=this._l;entry&&entry.r;)entry=entry.p;return this._t&&(this._l=entry=entry?entry.n:this._t._f)?step(0,"keys"==kind?entry.k:"values"==kind?entry.v:[entry.k,entry.v]):(this._t=void 0,step(1))},IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(NAME)}}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(20)&&!__webpack_require__(23)(function(){return 7!=Object.defineProperty(__webpack_require__(64)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var has=__webpack_require__(24),toIObject=__webpack_require__(25),arrayIndexOf=__webpack_require__(93)(!1),IE_PROTO=__webpack_require__(68)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(25),toLength=__webpack_require__(21),toAbsoluteIndex=__webpack_require__(53);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;index<length;)if((value=O[index++])!=value)return!0}else for(;index<length;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var document=__webpack_require__(11).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){var anObject=__webpack_require__(16);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(45),ITERATOR=__webpack_require__(9)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){var classof=__webpack_require__(98),ITERATOR=__webpack_require__(9)("iterator"),Iterators=__webpack_require__(45);module.exports=__webpack_require__(44).getIteratorMethod=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__webpack_require__){var cof=__webpack_require__(37),TAG=__webpack_require__(9)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=function(it,key){try{return it[key]}catch(e){}}(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports,__webpack_require__){"use strict";function returnThis(){return this}var LIBRARY=__webpack_require__(58),$export=__webpack_require__(3),redefine=__webpack_require__(28),hide=__webpack_require__(29),has=__webpack_require__(24),Iterators=__webpack_require__(45),$iterCreate=__webpack_require__(182),setToStringTag=__webpack_require__(46),getPrototypeOf=__webpack_require__(183),ITERATOR=__webpack_require__(9)("iterator"),BUGGY=!([].keys&&"next"in[].keys());module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);function getMethod(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":case"values":return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}}var methods,key,IteratorPrototype,TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME&&proto.entries||$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||has(IteratorPrototype,ITERATOR)||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(11),dP=__webpack_require__(17),DESCRIPTORS=__webpack_require__(20),SPECIES=__webpack_require__(9)("species");module.exports=function(KEY){var C=global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){function check(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")}var isObject=__webpack_require__(14),anObject=__webpack_require__(16);module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{(set=__webpack_require__(30)(Function.call,__webpack_require__(72).f(Object.prototype,"__proto__").set,2))(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},function(module,exports,__webpack_require__){"use strict";var strong=__webpack_require__(90),validate=__webpack_require__(39);module.exports=__webpack_require__(59)("Set",function(get){return function(){return get(this,0<arguments.length?arguments[0]:void 0)}},{add:function(value){return strong.def(validate(this,"Set"),value=0===value?0:value,value)}},strong)},function(module,exports,__webpack_require__){"use strict";function wrapper(get){return function(){return get(this,0<arguments.length?arguments[0]:void 0)}}var InternalMap,each=__webpack_require__(60)(0),redefine=__webpack_require__(28),meta=__webpack_require__(47),assign=__webpack_require__(106),weak=__webpack_require__(107),isObject=__webpack_require__(14),fails=__webpack_require__(23),validate=__webpack_require__(39),getWeak=meta.getWeak,isExtensible=Object.isExtensible,uncaughtFrozenStore=weak.ufstore,tmp={},methods={get:function(key){if(isObject(key)){var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,"WeakMap")).get(key):data?data[this._i]:void 0}},set:function(key,value){return weak.def(validate(this,"WeakMap"),key,value)}},$WeakMap=module.exports=__webpack_require__(59)("WeakMap",wrapper,methods,weak,!0,!0);fails(function(){return 7!=(new $WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)})&&(assign((InternalMap=weak.getConstructor(wrapper,"WeakMap")).prototype,methods),meta.NEED=!0,each(["delete","has","get","set"],function(key){var proto=$WeakMap.prototype,method=proto[key];redefine(proto,key,function(a,b){if(!isObject(a)||isExtensible(a))return method.call(this,a,b);this._f||(this._f=new InternalMap);var result=this._f[key](a,b);return"set"==key?this:result})}))},function(module,exports,__webpack_require__){var cof=__webpack_require__(37);module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){"use strict";var getKeys=__webpack_require__(36),gOPS=__webpack_require__(61),pIE=__webpack_require__(48),toObject=__webpack_require__(38),IObject=__webpack_require__(67),$assign=Object.assign;module.exports=!$assign||__webpack_require__(23)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;index<aLen;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;j<length;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},function(module,exports,__webpack_require__){"use strict";function uncaughtFrozenStore(that){return that._l||(that._l=new UncaughtFrozenStore)}function findUncaughtFrozen(store,key){return arrayFind(store.a,function(it){return it[0]===key})}var redefineAll=__webpack_require__(54),getWeak=__webpack_require__(47).getWeak,anObject=__webpack_require__(16),isObject=__webpack_require__(14),anInstance=__webpack_require__(56),forOf=__webpack_require__(57),createArrayMethod=__webpack_require__(60),$has=__webpack_require__(24),validate=__webpack_require__(39),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),id=0,UncaughtFrozenStore=function(){this.a=[]};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.a.push([key,value])},delete:function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key});return~index&&this.a.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._t=NAME,that._i=id++,that._l=void 0,null!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{delete:function(key){if(!isObject(key))return!1;var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,NAME)).delete(key):data&&$has(data,this._i)&&delete data[this._i]},has:function(key){if(!isObject(key))return!1;var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,NAME)).has(key):data&&$has(data,this._i)}}),C},def:function(that,key,value){var data=getWeak(anObject(key),!0);return!0===data?uncaughtFrozenStore(that).set(key,value):data[that._i]=value,that},ufstore:uncaughtFrozenStore}},function(module,exports,__webpack_require__){"use strict";var weak=__webpack_require__(107),validate=__webpack_require__(39);__webpack_require__(59)("WeakSet",function(get){return function(){return get(this,0<arguments.length?arguments[0]:void 0)}},{add:function(value){return weak.def(validate(this,"WeakSet"),value,!0)}},weak,!1,!0)},function(module,exports,__webpack_require__){"use strict";function empty(){}function isThenable(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then}function notify(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function(reaction){var result,then,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&domain.exit()),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}}function $reject(value){var promise=this;promise._d||(promise._d=!0,(promise=promise._w||promise)._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))}var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,LIBRARY=__webpack_require__(58),global=__webpack_require__(11),ctx=__webpack_require__(30),classof=__webpack_require__(98),$export=__webpack_require__(3),isObject=__webpack_require__(14),aFunction=__webpack_require__(55),anInstance=__webpack_require__(56),forOf=__webpack_require__(57),speciesConstructor=__webpack_require__(187),task=__webpack_require__(73).set,microtask=__webpack_require__(189)(),newPromiseCapabilityModule=__webpack_require__(110),perform=__webpack_require__(190),promiseResolve=__webpack_require__(191),TypeError=global.TypeError,process=global.process,$Promise=global.Promise,isNode="process"==classof(process),newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[__webpack_require__(9)("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise}catch(e){}}(),onUnhandled=function(promise){task.call(global,function(){var result,handler,console,value=promise._v,unhandled=isUnhandled(promise);if(unhandled&&(result=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,unhandled&&result.e)throw result.v})},isUnhandled=function(promise){if(1==promise._h)return!1;for(var reaction,chain=promise._a||promise._c,i=0;chain.length>i;)if((reaction=chain[i++]).fail||!isUnhandled(reaction.promise))return!1;return!0},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,"Promise","_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},(Internal=function(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=__webpack_require__(54)($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),__webpack_require__(46)($Promise,"Promise"),__webpack_require__(101)("Promise"),Wrapper=__webpack_require__(44).Promise,$export($export.S+$export.F*!USE_NATIVE,"Promise",{reject:function(r){var capability=newPromiseCapability(this);return(0,capability.reject)(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),"Promise",{resolve:function(x){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,x)}}),$export($export.S+$export.F*!(USE_NATIVE&&__webpack_require__(71)(function(iter){$Promise.all(iter).catch(empty)})),"Promise",{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.e&&reject(result.v),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return result.e&&reject(result.v),capability.promise}})},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(55);function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)}module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports,__webpack_require__){"use strict";function wrap(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym}function $defineProperties(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;i<l;)$defineProperty(it,key=keys[i++],P[key]);return it}function $propertyIsEnumerable(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)}function $getOwnPropertyDescriptor(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}}function $getOwnPropertyNames(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result}function $getOwnPropertySymbols(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result}var global=__webpack_require__(11),has=__webpack_require__(24),DESCRIPTORS=__webpack_require__(20),$export=__webpack_require__(3),redefine=__webpack_require__(28),META=__webpack_require__(47).KEY,$fails=__webpack_require__(23),shared=__webpack_require__(69),setToStringTag=__webpack_require__(46),uid=__webpack_require__(42),wks=__webpack_require__(9),wksExt=__webpack_require__(112),wksDefine=__webpack_require__(192),enumKeys=__webpack_require__(193),isArray=__webpack_require__(105),anObject=__webpack_require__(16),toIObject=__webpack_require__(25),toPrimitive=__webpack_require__(65),createDesc=__webpack_require__(43),_create=__webpack_require__(66),gOPNExt=__webpack_require__(194),$GOPD=__webpack_require__(72),$DP=__webpack_require__(17),$keys=__webpack_require__(36),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)};USE_NATIVE||(redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(0<arguments.length?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(74).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(48).f=$propertyIsEnumerable,__webpack_require__(61).f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(58)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:function(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){if(void 0!==it&&!isSymbol(it)){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);return"function"==typeof(replacer=args[1])&&($replacer=replacer),!$replacer&&isArray(replacer)||(replacer=function(key,value){if($replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}}),$Symbol.prototype[TO_PRIMITIVE]||__webpack_require__(29)($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports,__webpack_require__){exports.f=__webpack_require__(9)},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S+$export.F,"Object",{assign:__webpack_require__(106)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S,"Object",{is:__webpack_require__(195)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S,"Object",{setPrototypeOf:__webpack_require__(102).set})},function(module,exports,__webpack_require__){var dP=__webpack_require__(17).f,FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/;"name"in FProto||__webpack_require__(20)&&dP(FProto,"name",{configurable:!0,get:function(){try{return(""+this).match(nameRE)[1]}catch(e){return""}}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3),toIObject=__webpack_require__(25),toLength=__webpack_require__(21);$export($export.S,"String",{raw:function(callSite){for(var tpl=toIObject(callSite.raw),len=toLength(tpl.length),aLen=arguments.length,res=[],i=0;i<len;)res.push(String(tpl[i++])),i<aLen&&res.push(String(arguments[i]));return res.join("")}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3),toAbsoluteIndex=__webpack_require__(53),fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$export($export.S+$export.F*(!!$fromCodePoint&&1!=$fromCodePoint.length),"String",{fromCodePoint:function(x){for(var code,res=[],aLen=arguments.length,i=0;i<aLen;){if(code=+arguments[i++],toAbsoluteIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");res.push(code<65536?fromCharCode(code):fromCharCode(55296+((code-=65536)>>10),code%1024+56320))}return res.join("")}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),$at=__webpack_require__(196)(!1);$export($export.P,"String",{codePointAt:function(pos){return $at(this,pos)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.P,"String",{repeat:__webpack_require__(121)})},function(module,exports,__webpack_require__){"use strict";var toInteger=__webpack_require__(52),defined=__webpack_require__(33);module.exports=function(count){var str=String(defined(this)),res="",n=toInteger(count);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;0<n;(n>>>=1)&&(str+=str))1&n&&(res+=str);return res}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),toLength=__webpack_require__(21),context=__webpack_require__(75),$startsWith="".startsWith;$export($export.P+$export.F*__webpack_require__(76)("startsWith"),"String",{startsWith:function(searchString){var that=context(this,searchString,"startsWith"),index=toLength(Math.min(1<arguments.length?arguments[1]:void 0,that.length)),search=String(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search}})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14),cof=__webpack_require__(37),MATCH=__webpack_require__(9)("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==cof(it))}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),toLength=__webpack_require__(21),context=__webpack_require__(75),$endsWith="".endsWith;$export($export.P+$export.F*__webpack_require__(76)("endsWith"),"String",{endsWith:function(searchString){var that=context(this,searchString,"endsWith"),endPosition=1<arguments.length?arguments[1]:void 0,len=toLength(that.length),end=void 0===endPosition?len:Math.min(toLength(endPosition),len),search=String(searchString);return $endsWith?$endsWith.call(that,search,end):that.slice(end-search.length,end)===search}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),context=__webpack_require__(75);$export($export.P+$export.F*__webpack_require__(76)("includes"),"String",{includes:function(searchString){return!!~context(this,searchString,"includes").indexOf(searchString,1<arguments.length?arguments[1]:void 0)}})},function(module,exports,__webpack_require__){__webpack_require__(20)&&"g"!=/./g.flags&&__webpack_require__(17).f(RegExp.prototype,"flags",{configurable:!0,get:__webpack_require__(197)})},function(module,exports,__webpack_require__){__webpack_require__(62)("match",1,function(defined,MATCH,$match){return[function(regexp){"use strict";var O=defined(this),fn=null==regexp?void 0:regexp[MATCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},$match]})},function(module,exports,__webpack_require__){__webpack_require__(62)("replace",2,function(defined,REPLACE,$replace){return[function(searchValue,replaceValue){"use strict";var O=defined(this),fn=null==searchValue?void 0:searchValue[REPLACE];return void 0!==fn?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue)},$replace]})},function(module,exports,__webpack_require__){__webpack_require__(62)("split",2,function(defined,SPLIT,$split){"use strict";var isRegExp=__webpack_require__(123),_split=$split,$push=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length){var NPCG=void 0===/()??/.exec("")[1];$split=function(separator,limit){var string=String(this);if(void 0===separator&&0===limit)return[];if(!isRegExp(separator))return _split.call(string,separator,limit);var separator2,match,lastIndex,lastLength,i,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,splitLimit=void 0===limit?4294967295:limit>>>0,separatorCopy=new RegExp(separator.source,flags+"g");for(NPCG||(separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags));(match=separatorCopy.exec(string))&&!(lastLastIndex<(lastIndex=match.index+match[0].length)&&(output.push(string.slice(lastLastIndex,match.index)),!NPCG&&1<match.length&&match[0].replace(separator2,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),1<match.length&&match.index<string.length&&$push.apply(output,match.slice(1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=splitLimit));)separatorCopy.lastIndex===match.index&&separatorCopy.lastIndex++;return lastLastIndex===string.length?!lastLength&&separatorCopy.test("")||output.push(""):output.push(string.slice(lastLastIndex)),output.length>splitLimit?output.slice(0,splitLimit):output}}else"0".split(void 0,0).length&&($split=function(separator,limit){return void 0===separator&&0===limit?[]:_split.call(this,separator,limit)});return[function(separator,limit){var O=defined(this),fn=null==separator?void 0:separator[SPLIT];return void 0!==fn?fn.call(separator,O,limit):$split.call(String(O),separator,limit)},$split]})},function(module,exports,__webpack_require__){__webpack_require__(62)("search",1,function(defined,SEARCH,$search){return[function(regexp){"use strict";var O=defined(this),fn=null==regexp?void 0:regexp[SEARCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},$search]})},function(module,exports,__webpack_require__){"use strict";var ctx=__webpack_require__(30),$export=__webpack_require__(3),toObject=__webpack_require__(38),call=__webpack_require__(95),isArrayIter=__webpack_require__(96),toLength=__webpack_require__(21),createProperty=__webpack_require__(77),getIterFn=__webpack_require__(97);$export($export.S+$export.F*!__webpack_require__(71)(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=1<aLen?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iterFn=getIterFn(O);if(mapping&&(mapfn=ctx(mapfn,2<aLen?arguments[2]:void 0,2)),null==iterFn||C==Array&&isArrayIter(iterFn))for(result=new C(length=toLength(O.length));index<length;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),createProperty=__webpack_require__(77);$export($export.S+$export.F*__webpack_require__(23)(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function(){for(var index=0,aLen=arguments.length,result=new("function"==typeof this?this:Array)(aLen);index<aLen;)createProperty(result,index,arguments[index++]);return result.length=aLen,result}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.P,"Array",{copyWithin:__webpack_require__(198)}),__webpack_require__(40)("copyWithin")},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),$find=__webpack_require__(60)(5),forced=!0;"find"in[]&&Array(1).find(function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{find:function(callbackfn){return $find(this,callbackfn,1<arguments.length?arguments[1]:void 0)}}),__webpack_require__(40)("find")},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),$find=__webpack_require__(60)(6),KEY="findIndex",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{findIndex:function(callbackfn){return $find(this,callbackfn,1<arguments.length?arguments[1]:void 0)}}),__webpack_require__(40)(KEY)},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.P,"Array",{fill:__webpack_require__(199)}),__webpack_require__(40)("fill")},function(module,exports,__webpack_require__){var $export=__webpack_require__(3),_isFinite=__webpack_require__(11).isFinite;$export($export.S,"Number",{isFinite:function(it){return"number"==typeof it&&_isFinite(it)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S,"Number",{isInteger:__webpack_require__(139)})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14),floor=Math.floor;module.exports=function(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},function(module,exports,__webpack_require__){var $export=__webpack_require__(3),isInteger=__webpack_require__(139),abs=Math.abs;$export($export.S,"Number",{isSafeInteger:function(number){return isInteger(number)&&abs(number)<=9007199254740991}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S,"Number",{isNaN:function(number){return number!=number}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S,"Number",{EPSILON:Math.pow(2,-52)})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3);$export($export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),$includes=__webpack_require__(93)(!0);$export($export.P,"Array",{includes:function(el){return $includes(this,el,1<arguments.length?arguments[1]:void 0)}}),__webpack_require__(40)("includes")},function(module,exports,__webpack_require__){var $export=__webpack_require__(3),$values=__webpack_require__(147)(!1);$export($export.S,"Object",{values:function(it){return $values(it)}})},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(36),toIObject=__webpack_require__(25),isEnum=__webpack_require__(48).f;module.exports=function(isEntries){return function(it){for(var key,O=toIObject(it),keys=getKeys(O),length=keys.length,i=0,result=[];i<length;)isEnum.call(O,key=keys[i++])&&result.push(isEntries?[key,O[key]]:O[key]);return result}}},function(module,exports,__webpack_require__){var $export=__webpack_require__(3),$entries=__webpack_require__(147)(!0);$export($export.S,"Object",{entries:function(it){return $entries(it)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3),ownKeys=__webpack_require__(200),toIObject=__webpack_require__(25),gOPD=__webpack_require__(72),createProperty=__webpack_require__(77);$export($export.S,"Object",{getOwnPropertyDescriptors:function(object){for(var key,desc,O=toIObject(object),getDesc=gOPD.f,keys=ownKeys(O),result={},i=0;keys.length>i;)void 0!==(desc=getDesc(O,key=keys[i++]))&&createProperty(result,key,desc);return result}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),$pad=__webpack_require__(151);$export($export.P,"String",{padStart:function(maxLength){return $pad(this,maxLength,1<arguments.length?arguments[1]:void 0,!0)}})},function(module,exports,__webpack_require__){var toLength=__webpack_require__(21),repeat=__webpack_require__(121),defined=__webpack_require__(33);module.exports=function(that,maxLength,fillString,left){var S=String(defined(that)),stringLength=S.length,fillStr=void 0===fillString?" ":String(fillString),intMaxLength=toLength(maxLength);if(intMaxLength<=stringLength||""==fillStr)return S;var fillLen=intMaxLength-stringLength,stringFiller=repeat.call(fillStr,Math.ceil(fillLen/fillStr.length));return stringFiller.length>fillLen&&(stringFiller=stringFiller.slice(0,fillLen)),left?stringFiller+S:S+stringFiller}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(3),$pad=__webpack_require__(151);$export($export.P,"String",{padEnd:function(maxLength){return $pad(this,maxLength,1<arguments.length?arguments[1]:void 0,!1)}})},function(module,exports,__webpack_require__){var $export=__webpack_require__(3),$task=__webpack_require__(73);$export($export.G+$export.B,{setImmediate:$task.set,clearImmediate:$task.clear})},function(module,exports,__webpack_require__){for(var $iterators=__webpack_require__(78),getKeys=__webpack_require__(36),redefine=__webpack_require__(28),global=__webpack_require__(11),hide=__webpack_require__(29),Iterators=__webpack_require__(45),wks=__webpack_require__(9),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array,DOMIterables={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},collections=getKeys(DOMIterables),i=0;i<collections.length;i++){var key,NAME=collections[i],explicit=DOMIterables[NAME],Collection=global[NAME],proto=Collection&&Collection.prototype;if(proto&&(proto[ITERATOR]||hide(proto,ITERATOR,ArrayValues),proto[TO_STRING_TAG]||hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues,explicit))for(key in $iterators)proto[key]||redefine(proto,key,$iterators[key],!0)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var privatePool=new WeakMap,ViewportColumnsCalculator=function(){function ViewportColumnsCalculator(viewportWidth,scrollOffset,totalColumns,columnWidthFn,overrideFn,onlyFullyVisible,stretchH){var stretchingColumnWidthFn=7<arguments.length&&void 0!==arguments[7]?arguments[7]:function(width){return width};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ViewportColumnsCalculator),privatePool.set(this,{viewportWidth:viewportWidth,scrollOffset:scrollOffset,totalColumns:totalColumns,columnWidthFn:columnWidthFn,overrideFn:overrideFn,onlyFullyVisible:onlyFullyVisible,stretchingColumnWidthFn:stretchingColumnWidthFn}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=stretchH,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}return _createClass(ViewportColumnsCalculator,null,[{key:"DEFAULT_WIDTH",get:function(){return 50}}]),_createClass(ViewportColumnsCalculator,[{key:"calculate",value:function(){for(var sum=0,needReverse=!0,startPositions=[],columnWidth=void 0,priv=privatePool.get(this),onlyFullyVisible=priv.onlyFullyVisible,overrideFn=priv.overrideFn,scrollOffset=priv.scrollOffset,totalColumns=priv.totalColumns,viewportWidth=priv.viewportWidth,i=0;i<totalColumns;i++){if(columnWidth=this._getColumnWidth(i),sum<=scrollOffset&&!onlyFullyVisible&&(this.startColumn=i),scrollOffset<=sum&&sum+columnWidth<=scrollOffset+(0<scrollOffset?viewportWidth+1:viewportWidth)&&(null==this.startColumn&&(this.startColumn=i),this.endColumn=i),startPositions.push(sum),sum+=columnWidth,onlyFullyVisible||(this.endColumn=i),scrollOffset+viewportWidth<=sum){needReverse=!1;break}}if(this.endColumn===totalColumns-1&&needReverse)for(this.startColumn=this.endColumn;0<this.startColumn;){var viewportSum=startPositions[this.endColumn]+columnWidth-startPositions[this.startColumn-1];if((viewportSum<=viewportWidth||!onlyFullyVisible)&&this.startColumn--,viewportWidth<viewportSum)break}null!==this.startColumn&&overrideFn&&overrideFn(this),this.startPosition=startPositions[this.startColumn],null==this.startPosition&&(this.startPosition=null),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(totalWidth){if("none"!==this.stretch){this.totalTargetWidth=totalWidth;for(var priv=privatePool.get(this),totalColumns=priv.totalColumns,sumAll=0,i=0;i<totalColumns;i++){var columnWidth=this._getColumnWidth(i),permanentColumnWidth=priv.stretchingColumnWidthFn(void 0,i);"number"==typeof permanentColumnWidth?totalWidth-=permanentColumnWidth:sumAll+=columnWidth}var remainingSize=totalWidth-sumAll;if("all"===this.stretch&&0<remainingSize)this.stretchAllRatio=totalWidth/sumAll,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&totalWidth!==1/0){var _columnWidth=this._getColumnWidth(totalColumns-1),lastColumnWidth=remainingSize+_columnWidth;this.stretchLastWidth=0<=lastColumnWidth?lastColumnWidth:_columnWidth}}}},{key:"getStretchedColumnWidth",value:function(column,baseWidth){var result=null;return"all"===this.stretch&&0!==this.stretchAllRatio?result=this._getStretchedAllColumnWidth(column,baseWidth):"last"===this.stretch&&0!==this.stretchLastWidth&&(result=this._getStretchedLastColumnWidth(column)),result}},{key:"_getStretchedAllColumnWidth",value:function(column,baseWidth){var sumRatioWidth=0,priv=privatePool.get(this),totalColumns=priv.totalColumns;if(!this.stretchAllColumnsWidth[column]){var stretchedWidth=Math.round(baseWidth*this.stretchAllRatio),newStretchedWidth=priv.stretchingColumnWidthFn(stretchedWidth,column);this.stretchAllColumnsWidth[column]=void 0===newStretchedWidth?stretchedWidth:isNaN(newStretchedWidth)?this._getColumnWidth(column):newStretchedWidth}if(this.stretchAllColumnsWidth.length===totalColumns&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var i=0;i<this.stretchAllColumnsWidth.length;i++)sumRatioWidth+=this.stretchAllColumnsWidth[i];sumRatioWidth!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-sumRatioWidth)}return this.stretchAllColumnsWidth[column]}},{key:"_getStretchedLastColumnWidth",value:function(column){return column===privatePool.get(this).totalColumns-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(column){var width=privatePool.get(this).columnWidthFn(column);return void 0===width&&(width=ViewportColumnsCalculator.DEFAULT_WIDTH),width}}]),ViewportColumnsCalculator}();exports.default=ViewportColumnsCalculator},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var privatePool=new WeakMap,ViewportRowsCalculator=function(){function ViewportRowsCalculator(viewportHeight,scrollOffset,totalRows,rowHeightFn,overrideFn,onlyFullyVisible,horizontalScrollbarHeight){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ViewportRowsCalculator),privatePool.set(this,{viewportHeight:viewportHeight,scrollOffset:scrollOffset,totalRows:totalRows,rowHeightFn:rowHeightFn,overrideFn:overrideFn,onlyFullyVisible:onlyFullyVisible,horizontalScrollbarHeight:horizontalScrollbarHeight}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()}return _createClass(ViewportRowsCalculator,null,[{key:"DEFAULT_HEIGHT",get:function(){return 23}}]),_createClass(ViewportRowsCalculator,[{key:"calculate",value:function(){for(var sum=0,needReverse=!0,startPositions=[],priv=privatePool.get(this),onlyFullyVisible=priv.onlyFullyVisible,overrideFn=priv.overrideFn,rowHeightFn=priv.rowHeightFn,scrollOffset=priv.scrollOffset,totalRows=priv.totalRows,viewportHeight=priv.viewportHeight,horizontalScrollbarHeight=priv.horizontalScrollbarHeight||0,rowHeight=void 0,i=0;i<totalRows;i++)if(void 0===(rowHeight=rowHeightFn(i))&&(rowHeight=ViewportRowsCalculator.DEFAULT_HEIGHT),sum<=scrollOffset&&!onlyFullyVisible&&(this.startRow=i),scrollOffset<=sum&&sum+rowHeight<=scrollOffset+viewportHeight-horizontalScrollbarHeight&&(null===this.startRow&&(this.startRow=i),this.endRow=i),startPositions.push(sum),sum+=rowHeight,onlyFullyVisible||(this.endRow=i),scrollOffset+viewportHeight-horizontalScrollbarHeight<=sum){needReverse=!1;break}if(this.endRow===totalRows-1&&needReverse)for(this.startRow=this.endRow;0<this.startRow;){var viewportSum=startPositions[this.endRow]+rowHeight-startPositions[this.startRow-1];if((viewportSum<=viewportHeight-horizontalScrollbarHeight||!onlyFullyVisible)&&this.startRow--,viewportHeight-horizontalScrollbarHeight<=viewportSum)break}null!==this.startRow&&overrideFn&&overrideFn(this),this.startPosition=startPositions[this.startRow],null==this.startPosition&&(this.startPosition=null),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}]),ViewportRowsCalculator}();exports.default=ViewportRowsCalculator},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ColumnFilter=function(){function ColumnFilter(offset,total,countTH){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ColumnFilter),this.offset=offset,this.total=total,this.countTH=countTH}return _createClass(ColumnFilter,[{key:"offsetted",value:function(index){return index+this.offset}},{key:"unOffsetted",value:function(index){return index-this.offset}},{key:"renderedToSource",value:function(index){return this.offsetted(index)}},{key:"sourceToRendered",value:function(index){return this.unOffsetted(index)}},{key:"offsettedTH",value:function(index){return index-this.countTH}},{key:"unOffsettedTH",value:function(index){return index+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(index){return this.renderedToSource(this.offsettedTH(index))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(index){return this.unOffsettedTH(this.sourceToRendered(index))}}]),ColumnFilter}();exports.default=ColumnFilter},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var RowFilter=function(){function RowFilter(offset,total,countTH){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RowFilter),this.offset=offset,this.total=total,this.countTH=countTH}return _createClass(RowFilter,[{key:"offsetted",value:function(index){return index+this.offset}},{key:"unOffsetted",value:function(index){return index-this.offset}},{key:"renderedToSource",value:function(index){return this.offsetted(index)}},{key:"sourceToRendered",value:function(index){return this.unOffsetted(index)}},{key:"offsettedTH",value:function(index){return index-this.countTH}},{key:"unOffsettedTH",value:function(index){return index+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(index){return this.renderedToSource(this.offsettedTH(index))}},{key:"sourceRowToVisibleColHeadedRow",value:function(index){return this.unOffsettedTH(this.sourceToRendered(index))}}]),RowFilter}();exports.default=RowFilter},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0),_object=__webpack_require__(1),_string=__webpack_require__(32),_event2=_interopRequireDefault(__webpack_require__(160)),_overlays2=_interopRequireDefault(__webpack_require__(161)),_scroll2=_interopRequireDefault(__webpack_require__(162)),_settings2=_interopRequireDefault(__webpack_require__(163)),_table2=_interopRequireDefault(__webpack_require__(164)),_viewport2=_interopRequireDefault(__webpack_require__(166));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Walkontable=function(){function Walkontable(settings){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Walkontable);var originalHeaders=[];if(this.guid="wt_"+(0,_string.randomString)(),settings.cloneSource?(this.cloneSource=settings.cloneSource,this.cloneOverlay=settings.cloneOverlay,this.wtSettings=settings.cloneSource.wtSettings,this.wtTable=new _table2.default(this,settings.table,settings.wtRootElement),this.wtScroll=new _scroll2.default(this),this.wtViewport=settings.cloneSource.wtViewport,this.wtEvent=new _event2.default(this),this.selections=this.cloneSource.selections):(this.wtSettings=new _settings2.default(this,settings),this.wtTable=new _table2.default(this,settings.table),this.wtScroll=new _scroll2.default(this),this.wtViewport=new _viewport2.default(this),this.wtEvent=new _event2.default(this),this.selections=this.getSetting("selections"),this.wtOverlays=new _overlays2.default(this),this.exportSettingsAsClassNames()),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var c=0,clen=this.wtTable.THEAD.childNodes[0].childNodes.length;c<clen;c++)originalHeaders.push(this.wtTable.THEAD.childNodes[0].childNodes[c].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(column,TH){(0,_element.fastInnerText)(TH,originalHeaders[column])}])}this.drawn=!1,this.drawInterrupted=!1}return _createClass(Walkontable,[{key:"draw",value:function(){var fastDraw=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,fastDraw||(0,_element.isVisible)(this.wtTable.TABLE)?this.wtTable.draw(fastDraw):this.drawInterrupted=!0,this}},{key:"getCell",value:function(coords){if(!(1<arguments.length&&void 0!==arguments[1]&&arguments[1]))return this.wtTable.getCell(coords);var totalRows=this.wtSettings.getSetting("totalRows"),fixedRowsTop=this.wtSettings.getSetting("fixedRowsTop"),fixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),fixedColumns=this.wtSettings.getSetting("fixedColumnsLeft");if(coords.row<fixedRowsTop&&coords.col<fixedColumns)return this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(coords);if(coords.row<fixedRowsTop)return this.wtOverlays.topOverlay.clone.wtTable.getCell(coords);if(coords.col<fixedColumns&&coords.row>=totalRows-fixedRowsBottom){if(this.wtOverlays.bottomLeftCornerOverlay&&this.wtOverlays.bottomLeftCornerOverlay.clone)return this.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell(coords)}else{if(coords.col<fixedColumns)return this.wtOverlays.leftOverlay.clone.wtTable.getCell(coords);if(coords.row<totalRows&&coords.row>totalRows-fixedRowsBottom&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(coords)}return this.wtTable.getCell(coords)}},{key:"update",value:function(settings,value){return this.wtSettings.update(settings,value)}},{key:"scrollVertical",value:function(row){return this.wtOverlays.topOverlay.scrollTo(row),this.getSetting("onScrollVertically"),this}},{key:"scrollHorizontal",value:function(column){return this.wtOverlays.leftOverlay.scrollTo(column),this.getSetting("onScrollHorizontally"),this}},{key:"scrollViewport",value:function(coords){return this.wtScroll.scrollViewport(coords),this}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"getOverlayName",value:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"}},{key:"isOverlayName",value:function(name){return!!this.cloneOverlay&&this.cloneOverlay.type===name}},{key:"exportSettingsAsClassNames",value:function(){var _this=this,allClassNames=[],newClassNames=[];(0,_object.objectEach)({rowHeaders:["array"],columnHeaders:["array"]},function(optionType,key){-1<optionType.indexOf("array")&&_this.getSetting(key).length&&newClassNames.push("ht"+(0,_string.toUpperCaseFirst)(key)),allClassNames.push("ht"+(0,_string.toUpperCaseFirst)(key))}),(0,_element.removeClass)(this.wtTable.wtRootElement.parentNode,allClassNames),(0,_element.addClass)(this.wtTable.wtRootElement.parentNode,newClassNames)}},{key:"getSetting",value:function(key,param1,param2,param3,param4){return this.wtSettings.getSetting(key,param1,param2,param3,param4)}},{key:"hasSetting",value:function(key){return this.wtSettings.has(key)}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}}]),Walkontable}();exports.default=Walkontable},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_element=__webpack_require__(0),_function=__webpack_require__(35),_browser=__webpack_require__(26),_eventManager=__webpack_require__(4),_eventManager2=(obj=_eventManager)&&obj.__esModule?obj:{default:obj};function Event(instance){var that=this,eventManager=new _eventManager2.default(instance);this.instance=instance;var dblClickOrigin=[null,null];this.dblClickTimeout=[null,null];var onMouseDown=function(event){var activeElement=document.activeElement,getParentNode=(0,_function.partial)(_element.getParent,event.realTarget),realTarget=event.realTarget;if(realTarget!==activeElement&&getParentNode(0)!==activeElement&&getParentNode(1)!==activeElement){var cell=that.parentCell(realTarget);(0,_element.hasClass)(realTarget,"corner")?that.instance.getSetting("onCellCornerMouseDown",event,realTarget):cell.TD&&that.instance.hasSetting("onCellMouseDown")&&that.instance.getSetting("onCellMouseDown",event,cell.coords,cell.TD,that.instance),2!==event.button&&cell.TD&&(dblClickOrigin[0]=cell.TD,clearTimeout(that.dblClickTimeout[0]),that.dblClickTimeout[0]=setTimeout(function(){dblClickOrigin[0]=null},1e3))}},onTouchMove=function(event){that.instance.touchMoving=!0},onMouseUp=function(event){if(2!==event.button){var cell=that.parentCell(event.realTarget);cell.TD===dblClickOrigin[0]&&cell.TD===dblClickOrigin[1]?((0,_element.hasClass)(event.realTarget,"corner")?that.instance.getSetting("onCellCornerDblClick",event,cell.coords,cell.TD,that.instance):that.instance.getSetting("onCellDblClick",event,cell.coords,cell.TD,that.instance),dblClickOrigin[0]=null,dblClickOrigin[1]=null):cell.TD===dblClickOrigin[0]?(that.instance.getSetting("onCellMouseUp",event,cell.coords,cell.TD,that.instance),dblClickOrigin[1]=cell.TD,clearTimeout(that.dblClickTimeout[1]),that.dblClickTimeout[1]=setTimeout(function(){dblClickOrigin[1]=null},500)):cell.TD&&that.instance.hasSetting("onCellMouseUp")&&that.instance.getSetting("onCellMouseUp",event,cell.coords,cell.TD,that.instance)}};if(eventManager.addEventListener(this.instance.wtTable.holder,"mousedown",onMouseDown),eventManager.addEventListener(this.instance.wtTable.TABLE,"mouseover",function(event){var table,td,mainWOT;that.instance.hasSetting("onCellMouseOver")&&(table=that.instance.wtTable.TABLE,td=(0,_element.closestDown)(event.realTarget,["TD","TH"],table),mainWOT=that.instance.cloneSource||that.instance,td&&td!==mainWOT.lastMouseOver&&(0,_element.isChildOf)(td,table)&&(mainWOT.lastMouseOver=td,that.instance.getSetting("onCellMouseOver",event,that.instance.wtTable.getCoords(td),td,that.instance)))}),eventManager.addEventListener(this.instance.wtTable.TABLE,"mouseout",function(event){var table=void 0,lastTD=void 0,nextTD=void 0;that.instance.hasSetting("onCellMouseOut")&&(table=that.instance.wtTable.TABLE,lastTD=(0,_element.closestDown)(event.realTarget,["TD","TH"],table),nextTD=(0,_element.closestDown)(event.relatedTarget,["TD","TH"],table),lastTD&&lastTD!==nextTD&&(0,_element.isChildOf)(lastTD,table)&&that.instance.getSetting("onCellMouseOut",event,that.instance.wtTable.getCoords(lastTD),lastTD,that.instance))}),eventManager.addEventListener(this.instance.wtTable.holder,"mouseup",onMouseUp),this.instance.wtTable.holder.parentNode.parentNode&&(0,_browser.isMobileBrowser)()&&!that.instance.wtTable.isWorkingOnClone()){var classSelector="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");eventManager.addEventListener(this.instance.wtTable.holder,"touchstart",function(event){that.instance.touchApplied=!0,(0,_element.isChildOf)(event.target,classSelector)&&function(event){eventManager.addEventListener(this,"touchmove",onTouchMove),that.checkIfTouchMove=setTimeout(function(){!0===that.instance.touchMoving&&(that.instance.touchMoving=void 0,eventManager.removeEventListener("touchmove",onTouchMove,!1)),onMouseDown(event)},30)}.call(event.target,event)}),eventManager.addEventListener(this.instance.wtTable.holder,"touchend",function(event){that.instance.touchApplied=!1,(0,_element.isChildOf)(event.target,classSelector)&&function(event){clearTimeout(void 0),event.preventDefault(),onMouseUp(event)}.call(event.target,event)}),that.instance.momentumScrolling||(that.instance.momentumScrolling={}),eventManager.addEventListener(this.instance.wtTable.holder,"scroll",function(event){clearTimeout(that.instance.momentumScrolling._timeout),that.instance.momentumScrolling.ongoing||that.instance.getSetting("onBeforeTouchScroll"),that.instance.momentumScrolling.ongoing=!0,that.instance.momentumScrolling._timeout=setTimeout(function(){that.instance.touchApplied||(that.instance.momentumScrolling.ongoing=!1,that.instance.getSetting("onAfterMomentumScroll"))},200)})}eventManager.addEventListener(window,"resize",function(){"none"!==that.instance.getSetting("stretchH")&&that.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),eventManager.destroy()}}Event.prototype.parentCell=function(elem){var cell={},TABLE=this.instance.wtTable.TABLE,TD=(0,_element.closestDown)(elem,["TD","TH"],TABLE);return TD?(cell.coords=this.instance.wtTable.getCoords(TD),cell.TD=TD):(0,_element.hasClass)(elem,"wtBorder")&&(0,_element.hasClass)(elem,"current")?(cell.coords=this.instance.selections.current.cellRange.highlight,cell.TD=this.instance.wtTable.getCell(cell.coords)):(0,_element.hasClass)(elem,"wtBorder")&&(0,_element.hasClass)(elem,"area")&&this.instance.selections.area.cellRange&&(cell.coords=this.instance.selections.area.cellRange.to,cell.TD=this.instance.wtTable.getCell(cell.coords)),cell},exports.default=Event},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0),_array=__webpack_require__(2),_unicode=__webpack_require__(18),_browser=__webpack_require__(26),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_base2=_interopRequireDefault(__webpack_require__(31));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Overlays=function(){function Overlays(wotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Overlays),this.wot=wotInstance,this.instance=this.wot,this.eventManager=new _eventManager2.default(this.wot),this.wot.update("scrollbarWidth",(0,_element.getScrollbarWidth)()),this.wot.update("scrollbarHeight",(0,_element.getScrollbarWidth)()),this.scrollableElement=(0,_element.getScrollableElement)(this.wot.wtTable.TABLE),this.prepareOverlays(),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},bottom:{top:null,left:0},left:{top:0,left:null}},this.pendingScrollCallbacks={master:{top:0,left:0},top:{left:0},bottom:{left:0},left:{top:0}},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.delegatedScrollCallback=!1,this.registeredListeners=[],this.registerListeners()}return _createClass(Overlays,[{key:"prepareOverlays",value:function(){var syncScroll=!1;return this.topOverlay?syncScroll=this.topOverlay.updateStateOfRendering()||syncScroll:this.topOverlay=_base2.default.createOverlay(_base2.default.CLONE_TOP,this.wot),_base2.default.hasOverlay(_base2.default.CLONE_BOTTOM)||(this.bottomOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),_base2.default.hasOverlay(_base2.default.CLONE_BOTTOM_LEFT_CORNER)||(this.bottomLeftCornerOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),this.bottomOverlay?syncScroll=this.bottomOverlay.updateStateOfRendering()||syncScroll:this.bottomOverlay=_base2.default.createOverlay(_base2.default.CLONE_BOTTOM,this.wot),this.leftOverlay?syncScroll=this.leftOverlay.updateStateOfRendering()||syncScroll:this.leftOverlay=_base2.default.createOverlay(_base2.default.CLONE_LEFT,this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay?syncScroll=this.topLeftCornerOverlay.updateStateOfRendering()||syncScroll:this.topLeftCornerOverlay=_base2.default.createOverlay(_base2.default.CLONE_TOP_LEFT_CORNER,this.wot)),this.bottomOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.bottomLeftCornerOverlay?syncScroll=this.bottomLeftCornerOverlay.updateStateOfRendering()||syncScroll:this.bottomLeftCornerOverlay=_base2.default.createOverlay(_base2.default.CLONE_BOTTOM_LEFT_CORNER,this.wot)),this.wot.getSetting("debug")&&!this.debug&&(this.debug=_base2.default.createOverlay(_base2.default.CLONE_DEBUG,this.wot)),syncScroll}},{key:"refreshAll",value:function(){this.wot.drawn&&(this.wot.wtTable.holder.parentNode?(this.wot.draw(!0),this.verticalScrolling&&this.leftOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1):this.destroy())}},{key:"registerListeners",value:function(){var _this=this,topOverlayScrollable=this.topOverlay.mainTableScrollableElement,leftOverlayScrollable=this.leftOverlay.mainTableScrollableElement,listenersToRegister=[];for(listenersToRegister.push([document.documentElement,"keydown",function(event){return _this.onKeyDown(event)}]),listenersToRegister.push([document.documentElement,"keyup",function(){return _this.onKeyUp()}]),listenersToRegister.push([document,"visibilitychange",function(){return _this.onKeyUp()}]),listenersToRegister.push([topOverlayScrollable,"scroll",function(event){return _this.onTableScroll(event)}]),topOverlayScrollable!==leftOverlayScrollable&&listenersToRegister.push([leftOverlayScrollable,"scroll",function(event){return _this.onTableScroll(event)}]),this.topOverlay.needFullRender&&(listenersToRegister.push([this.topOverlay.clone.wtTable.holder,"scroll",function(event){return _this.onTableScroll(event)}]),listenersToRegister.push([this.topOverlay.clone.wtTable.holder,"wheel",function(event){return _this.onTableScroll(event)}])),this.bottomOverlay.needFullRender&&(listenersToRegister.push([this.bottomOverlay.clone.wtTable.holder,"scroll",function(event){return _this.onTableScroll(event)}]),listenersToRegister.push([this.bottomOverlay.clone.wtTable.holder,"wheel",function(event){return _this.onTableScroll(event)}])),this.leftOverlay.needFullRender&&(listenersToRegister.push([this.leftOverlay.clone.wtTable.holder,"scroll",function(event){return _this.onTableScroll(event)}]),listenersToRegister.push([this.leftOverlay.clone.wtTable.holder,"wheel",function(event){return _this.onTableScroll(event)}])),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.needFullRender&&listenersToRegister.push([this.topLeftCornerOverlay.clone.wtTable.holder,"wheel",function(event){return _this.onTableScroll(event)}]),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.needFullRender&&listenersToRegister.push([this.bottomLeftCornerOverlay.clone.wtTable.holder,"wheel",function(event){return _this.onTableScroll(event)}]),this.topOverlay.trimmingContainer!==window&&this.leftOverlay.trimmingContainer!==window&&listenersToRegister.push([window,"wheel",function(event){var overlay=void 0,deltaY=event.wheelDeltaY||event.deltaY,deltaX=event.wheelDeltaX||event.deltaX;_this.topOverlay.clone.wtTable.holder.contains(event.realTarget)?overlay="top":_this.bottomOverlay.clone&&_this.bottomOverlay.clone.wtTable.holder.contains(event.realTarget)?overlay="bottom":_this.leftOverlay.clone.wtTable.holder.contains(event.realTarget)?overlay="left":_this.topLeftCornerOverlay&&_this.topLeftCornerOverlay.clone&&_this.topLeftCornerOverlay.clone.wtTable.holder.contains(event.realTarget)?overlay="topLeft":_this.bottomLeftCornerOverlay&&_this.bottomLeftCornerOverlay.clone&&_this.bottomLeftCornerOverlay.clone.wtTable.holder.contains(event.realTarget)&&(overlay="bottomLeft"),!("top"==overlay&&0!==deltaY||"left"==overlay&&0!==deltaX||"bottom"==overlay&&0!==deltaY)&&("topLeft"!==overlay&&"bottomLeft"!==overlay||0===deltaY&&0===deltaX)||event.preventDefault()}]);listenersToRegister.length;){var listener=listenersToRegister.pop();this.eventManager.addEventListener(listener[0],listener[1],listener[2]),this.registeredListeners.push(listener)}}},{key:"deregisterListeners",value:function(){for(;this.registeredListeners.length;){var listener=this.registeredListeners.pop();this.eventManager.removeEventListener(listener[0],listener[1],listener[2])}}},{key:"onTableScroll",value:function(event){if(!(0,_browser.isMobileBrowser)()){var masterHorizontal=this.leftOverlay.mainTableScrollableElement,masterVertical=this.topOverlay.mainTableScrollableElement,target=event.target;this.keyPressed&&(masterVertical!==window&&target!==window&&!event.target.contains(masterVertical)||masterHorizontal!==window&&target!==window&&!event.target.contains(masterHorizontal))||("scroll"===event.type?this.syncScrollPositions(event):this.translateMouseWheelToScroll(event))}}},{key:"onKeyDown",value:function(event){this.keyPressed=(0,_unicode.isKey)(event.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(event){var topOverlay=this.topOverlay.clone.wtTable.holder,bottomOverlay=this.bottomOverlay.clone?this.bottomOverlay.clone.wtTable.holder:null,leftOverlay=this.leftOverlay.clone.wtTable.holder,topLeftCornerOverlay=this.topLeftCornerOverlay&&this.topLeftCornerOverlay.clone?this.topLeftCornerOverlay.clone.wtTable.holder:null,bottomLeftCornerOverlay=this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone?this.bottomLeftCornerOverlay.clone.wtTable.holder:null,deltaY=event.wheelDeltaY||-1*event.deltaY,deltaX=event.wheelDeltaX||-1*event.deltaX,parentHolder=null,eventMockup={type:"wheel"},tempElem=event.target,delta=null;for(1===event.deltaMode&&(deltaY*=120,deltaX*=120);tempElem!=document&&null!=tempElem;){if(-1<tempElem.className.indexOf("wtHolder")){parentHolder=tempElem;break}tempElem=tempElem.parentNode}return(eventMockup.target=parentHolder)===topLeftCornerOverlay||parentHolder===bottomLeftCornerOverlay?(this.syncScrollPositions(eventMockup,-.2*deltaX,"x"),this.syncScrollPositions(eventMockup,-.2*deltaY,"y")):(parentHolder===topOverlay||parentHolder===bottomOverlay?delta=deltaY:parentHolder===leftOverlay&&(delta=deltaX),this.syncScrollPositions(eventMockup,-.2*delta)),!1}},{key:"syncScrollPositions",value:function(event){var fakeScrollValue=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,fakeScrollDirection=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!this.destroyed)if(0!==arguments.length){var masterHorizontal=this.leftOverlay.mainTableScrollableElement,masterVertical=this.topOverlay.mainTableScrollableElement,target=event.target,tempScrollValue=0,scrollValueChanged=!1,topOverlay=void 0,leftOverlay=void 0,topLeftCornerOverlay=void 0,bottomLeftCornerOverlay=void 0,bottomOverlay=void 0,delegatedScroll=!1,preventOverflow=this.wot.getSetting("preventOverflow");this.topOverlay.needFullRender&&(topOverlay=this.topOverlay.clone.wtTable.holder),this.bottomOverlay.needFullRender&&(bottomOverlay=this.bottomOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&(leftOverlay=this.leftOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&this.topOverlay.needFullRender&&(topLeftCornerOverlay=this.topLeftCornerOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&this.bottomOverlay.needFullRender&&(bottomLeftCornerOverlay=this.bottomLeftCornerOverlay.clone.wtTable.holder),target===document&&(target=window),target===masterHorizontal||target===masterVertical?(tempScrollValue=preventOverflow?(0,_element.getScrollLeft)(this.scrollableElement):(0,_element.getScrollLeft)(target),this.horizontalScrolling=!0,this.overlayScrollPositions.master.left=tempScrollValue,scrollValueChanged=!0,0<this.pendingScrollCallbacks.master.left?this.pendingScrollCallbacks.master.left--:(topOverlay&&topOverlay.scrollLeft!==tempScrollValue&&(null==fakeScrollValue&&this.pendingScrollCallbacks.top.left++,topOverlay.scrollLeft=tempScrollValue,delegatedScroll=masterHorizontal!==window),bottomOverlay&&bottomOverlay.scrollLeft!==tempScrollValue&&(null==fakeScrollValue&&this.pendingScrollCallbacks.bottom.left++,bottomOverlay.scrollLeft=tempScrollValue,delegatedScroll=masterHorizontal!==window)),tempScrollValue=(0,_element.getScrollTop)(target),this.verticalScrolling=!0,this.overlayScrollPositions.master.top=tempScrollValue,scrollValueChanged=!0,0<this.pendingScrollCallbacks.master.top?this.pendingScrollCallbacks.master.top--:leftOverlay&&leftOverlay.scrollTop!==tempScrollValue&&(null==fakeScrollValue&&this.pendingScrollCallbacks.left.top++,leftOverlay.scrollTop=tempScrollValue,delegatedScroll=masterVertical!==window)):target===bottomOverlay?(tempScrollValue=(0,_element.getScrollLeft)(target),this.horizontalScrolling=!0,this.overlayScrollPositions.bottom.left=tempScrollValue,scrollValueChanged=!0,0<this.pendingScrollCallbacks.bottom.left?this.pendingScrollCallbacks.bottom.left--:(null==fakeScrollValue&&this.pendingScrollCallbacks.master.left++,masterHorizontal.scrollLeft=tempScrollValue,topOverlay&&topOverlay.scrollLeft!==tempScrollValue&&(null==fakeScrollValue&&this.pendingScrollCallbacks.top.left++,topOverlay.scrollLeft=tempScrollValue,delegatedScroll=masterVertical!==window)),null!==fakeScrollValue&&(scrollValueChanged=!0,masterVertical.scrollTop+=fakeScrollValue)):target===topOverlay?(tempScrollValue=(0,_element.getScrollLeft)(target),this.horizontalScrolling=!0,this.overlayScrollPositions.top.left=tempScrollValue,scrollValueChanged=!0,0<this.pendingScrollCallbacks.top.left?this.pendingScrollCallbacks.top.left--:(null==fakeScrollValue&&this.pendingScrollCallbacks.master.left++,masterHorizontal.scrollLeft=tempScrollValue),null!==fakeScrollValue&&(scrollValueChanged=!0,masterVertical.scrollTop+=fakeScrollValue),bottomOverlay&&bottomOverlay.scrollLeft!==tempScrollValue&&(null==fakeScrollValue&&this.pendingScrollCallbacks.bottom.left++,bottomOverlay.scrollLeft=tempScrollValue,delegatedScroll=masterVertical!==window)):target===leftOverlay?(tempScrollValue=(0,_element.getScrollTop)(target),this.overlayScrollPositions.left.top!==tempScrollValue&&(this.verticalScrolling=!0,this.overlayScrollPositions.left.top=tempScrollValue,scrollValueChanged=!0,0<this.pendingScrollCallbacks.left.top?this.pendingScrollCallbacks.left.top--:(null==fakeScrollValue&&this.pendingScrollCallbacks.master.top++,masterVertical.scrollTop=tempScrollValue)),null!==fakeScrollValue&&(scrollValueChanged=!0,masterVertical.scrollLeft+=fakeScrollValue)):target!==topLeftCornerOverlay&&target!==bottomLeftCornerOverlay||null!==fakeScrollValue&&(scrollValueChanged=!0,"x"===fakeScrollDirection?masterVertical.scrollLeft+=fakeScrollValue:"y"===fakeScrollDirection&&(masterVertical.scrollTop+=fakeScrollValue)),!this.keyPressed&&scrollValueChanged&&"scroll"===event.type&&(this.delegatedScrollCallback?this.delegatedScrollCallback=!1:this.refreshAll(),delegatedScroll&&(this.delegatedScrollCallback=!0))}else this.syncScrollWithMaster()}},{key:"syncScrollWithMaster",value:function(){var master=this.topOverlay.mainTableScrollableElement,scrollLeft=master.scrollLeft,scrollTop=master.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=scrollLeft),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=scrollLeft),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=scrollTop)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.leftOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement(),this.scrollableElement=(0,_element.getScrollableElement)(this.wot.wtTable.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var fastDraw=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted){var container=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,width=container.clientWidth,height=container.clientHeight;width===this.spreaderLastSize.width&&height===this.spreaderLastSize.height||(this.spreaderLastSize.width=width,this.spreaderLastSize.height=height,this.adjustElementsSize())}this.bottomOverlay.clone&&this.bottomOverlay.refresh(fastDraw),this.leftOverlay.refresh(fastDraw),this.topOverlay.refresh(fastDraw),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(fastDraw),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.refresh(fastDraw),this.debug&&this.debug.refresh(fastDraw)}},{key:"adjustElementsSize",value:function(){var force=0<arguments.length&&void 0!==arguments[0]&&arguments[0],totalColumns=this.wot.getSetting("totalColumns"),totalRows=this.wot.getSetting("totalRows"),headerRowSize=this.wot.wtViewport.getRowHeaderWidth(),headerColumnSize=this.wot.wtViewport.getColumnHeaderHeight(),hiderStyle=this.wot.wtTable.hider.style;hiderStyle.width=headerRowSize+this.leftOverlay.sumCellSizes(0,totalColumns)+"px",hiderStyle.height=headerColumnSize+this.topOverlay.sumCellSizes(0,totalRows)+1+"px",this.topOverlay.adjustElementsSize(force),this.leftOverlay.adjustElementsSize(force),this.bottomOverlay.clone&&this.bottomOverlay.adjustElementsSize(force)}},{key:"applyToDOM",value:function(){this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted||this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.leftOverlay.applyToDOM()}},{key:"getParentOverlay",value:function(element){if(!element)return null;var overlays=[this.topOverlay,this.leftOverlay,this.bottomOverlay,this.topLeftCornerOverlay,this.bottomLeftCornerOverlay],result=null;return(0,_array.arrayEach)(overlays,function(elem,i){elem&&elem.clone&&elem.clone.wtTable.TABLE.contains(element)&&(result=elem.clone)}),result}}]),Overlays}();exports.default=Overlays},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0),_number=__webpack_require__(6);var Scroll=function(){function Scroll(wotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Scroll),this.wot=wotInstance,this.instance=wotInstance}return _createClass(Scroll,[{key:"scrollViewport",value:function(coords){if(this.wot.drawn){var _getVariables2=this._getVariables(),topOverlay=_getVariables2.topOverlay,leftOverlay=_getVariables2.leftOverlay,totalRows=_getVariables2.totalRows,totalColumns=_getVariables2.totalColumns,fixedRowsTop=_getVariables2.fixedRowsTop,fixedRowsBottom=_getVariables2.fixedRowsBottom,fixedColumnsLeft=_getVariables2.fixedColumnsLeft;if(coords.row<0||coords.row>Math.max(totalRows-1,0))throw new Error("row "+coords.row+" does not exist");if(coords.col<0||coords.col>Math.max(totalColumns-1,0))throw new Error("column "+coords.col+" does not exist");coords.row>=fixedRowsTop&&coords.row<this.getFirstVisibleRow()?topOverlay.scrollTo(coords.row):coords.row>this.getLastVisibleRow()&&coords.row<totalRows-fixedRowsBottom&&topOverlay.scrollTo(coords.row,!0),coords.col>=fixedColumnsLeft&&coords.col<this.getFirstVisibleColumn()?leftOverlay.scrollTo(coords.col):coords.col>this.getLastVisibleColumn()&&leftOverlay.scrollTo(coords.col,!0)}}},{key:"getFirstVisibleRow",value:function(){var _getVariables3=this._getVariables(),topOverlay=_getVariables3.topOverlay,wtTable=_getVariables3.wtTable,wtViewport=_getVariables3.wtViewport,totalRows=_getVariables3.totalRows,fixedRowsTop=_getVariables3.fixedRowsTop,firstVisibleRow=wtTable.getFirstVisibleRow();if(topOverlay.mainTableScrollableElement===window){var rootElementOffset=(0,_element.offset)(wtTable.wtRootElement),totalTableHeight=(0,_element.innerHeight)(wtTable.hider),windowHeight=(0,_element.innerHeight)(window),windowScrollTop=(0,_element.getScrollTop)(window);if(rootElementOffset.top+totalTableHeight-windowHeight<=windowScrollTop){var rowsHeight=wtViewport.getColumnHeaderHeight();rowsHeight+=topOverlay.sumCellSizes(0,fixedRowsTop),(0,_number.rangeEachReverse)(totalRows,1,function(row){if(rowsHeight+=topOverlay.sumCellSizes(row-1,row),rootElementOffset.top+totalTableHeight-rowsHeight<=windowScrollTop)return firstVisibleRow=row,!1})}}return firstVisibleRow}},{key:"getLastVisibleRow",value:function(){var _getVariables4=this._getVariables(),topOverlay=_getVariables4.topOverlay,wtTable=_getVariables4.wtTable,wtViewport=_getVariables4.wtViewport,totalRows=_getVariables4.totalRows,lastVisibleRow=wtTable.getLastVisibleRow();if(topOverlay.mainTableScrollableElement===window){var rootElementOffset=(0,_element.offset)(wtTable.wtRootElement),windowHeight=(0,_element.innerHeight)(window),windowScrollTop=(0,_element.getScrollTop)(window);if(rootElementOffset.top>windowScrollTop){var rowsHeight=wtViewport.getColumnHeaderHeight();(0,_number.rangeEach)(1,totalRows,function(row){if(rowsHeight+=topOverlay.sumCellSizes(row-1,row),rootElementOffset.top+rowsHeight-windowScrollTop>=windowHeight)return lastVisibleRow=row-2,!1})}}return lastVisibleRow}},{key:"getFirstVisibleColumn",value:function(){var _getVariables5=this._getVariables(),leftOverlay=_getVariables5.leftOverlay,wtTable=_getVariables5.wtTable,wtViewport=_getVariables5.wtViewport,totalColumns=_getVariables5.totalColumns,firstVisibleColumn=(_getVariables5.fixedColumnsLeft,wtTable.getFirstVisibleColumn());if(leftOverlay.mainTableScrollableElement===window){var rootElementOffset=(0,_element.offset)(wtTable.wtRootElement),totalTableWidth=(0,_element.innerWidth)(wtTable.hider),windowWidth=(0,_element.innerWidth)(window),windowScrollLeft=(0,_element.getScrollLeft)(window);if(rootElementOffset.left+totalTableWidth-windowWidth<=windowScrollLeft){var columnsWidth=wtViewport.getRowHeaderWidth();(0,_number.rangeEachReverse)(totalColumns,1,function(column){if(columnsWidth+=leftOverlay.sumCellSizes(column-1,column),rootElementOffset.left+totalTableWidth-columnsWidth<=windowScrollLeft)return firstVisibleColumn=column,!1})}}return firstVisibleColumn}},{key:"getLastVisibleColumn",value:function(){var _getVariables6=this._getVariables(),leftOverlay=_getVariables6.leftOverlay,wtTable=_getVariables6.wtTable,wtViewport=_getVariables6.wtViewport,totalColumns=_getVariables6.totalColumns,lastVisibleColumn=wtTable.getLastVisibleColumn();if(leftOverlay.mainTableScrollableElement===window){var rootElementOffset=(0,_element.offset)(wtTable.wtRootElement),windowWidth=(0,_element.innerWidth)(window),windowScrollLeft=(0,_element.getScrollLeft)(window);if(rootElementOffset.left>windowScrollLeft){var columnsWidth=wtViewport.getRowHeaderWidth();(0,_number.rangeEach)(1,totalColumns,function(column){if(columnsWidth+=leftOverlay.sumCellSizes(column-1,column),rootElementOffset.left+columnsWidth-windowScrollLeft>=windowWidth)return lastVisibleColumn=column-2,!1})}}return lastVisibleColumn}},{key:"_getVariables",value:function(){var wot=this.wot;return{topOverlay:wot.wtOverlays.topOverlay,leftOverlay:wot.wtOverlays.leftOverlay,wtTable:wot.wtTable,wtViewport:wot.wtViewport,totalRows:wot.getSetting("totalRows"),totalColumns:wot.getSetting("totalColumns"),fixedRowsTop:wot.getSetting("fixedRowsTop"),fixedRowsBottom:wot.getSetting("fixedRowsBottom"),fixedColumnsLeft:wot.getSetting("fixedColumnsLeft")}}}]),Scroll}();exports.default=Scroll},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0),_object=__webpack_require__(1);var Settings=function(){function Settings(wotInstance,settings){var _this=this;for(var i in function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Settings),this.wot=wotInstance,this.instance=wotInstance,this.defaults={table:void 0,debug:!1,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},data:void 0,freezeOverlays:!1,fixedColumnsLeft:0,fixedRowsTop:0,fixedRowsBottom:0,minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(row,column,TD){var cellData=_this.getSetting("data",row,column);(0,_element.fastInnerText)(TD,null==cellData?"":cellData)},columnWidth:function(col){},rowHeight:function(row){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(width){return width},onModifyRowHeaderWidth:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null},this.settings={},this.defaults)if((0,_object.hasOwnProperty)(this.defaults,i))if(void 0!==settings[i])this.settings[i]=settings[i];else{if(void 0===this.defaults[i])throw new Error('A required setting "'+i+'" was not provided');this.settings[i]=this.defaults[i]}}return _createClass(Settings,[{key:"update",value:function(settings,value){if(void 0===value)for(var i in settings)(0,_object.hasOwnProperty)(settings,i)&&(this.settings[i]=settings[i]);else this.settings[settings]=value;return this.wot}},{key:"getSetting",value:function(key,param1,param2,param3,param4){return"function"==typeof this.settings[key]?this.settings[key](param1,param2,param3,param4):void 0!==param1&&Array.isArray(this.settings[key])?this.settings[key][param1]:this.settings[key]}},{key:"has",value:function(key){return!!this.settings[key]}}]),Settings}();exports.default=Settings},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0),_function=__webpack_require__(35),_coords2=_interopRequireDefault(__webpack_require__(49)),_column2=(_interopRequireDefault(__webpack_require__(79)),_interopRequireDefault(__webpack_require__(157))),_row2=_interopRequireDefault(__webpack_require__(158)),_tableRenderer2=_interopRequireDefault(__webpack_require__(165)),_base2=_interopRequireDefault(__webpack_require__(31));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Table=function(){function Table(wotInstance,table){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Table),this.wot=wotInstance,this.instance=this.wot,this.TABLE=table,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,(this.holderOffset=0,_element.removeTextNodes)(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var origRowHeaderWidth=this.wot.wtSettings.settings.rowHeaderWidth;this.wot.wtSettings.settings.rowHeaderWidth=function(){return _this._modifyRowHeaderWidth(origRowHeaderWidth)}}return _createClass(Table,[{key:"fixTableDomTree",value:function(){this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=document.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=document.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=document.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(document.createElement("TR"))}},{key:"createSpreader",value:function(table){var parent=table.parentNode,spreader=void 0;return parent&&1===parent.nodeType&&(0,_element.hasClass)(parent,"wtHolder")||((spreader=document.createElement("div")).className="wtSpreader",parent&&parent.insertBefore(spreader,table),spreader.appendChild(table)),spreader.style.position="relative",spreader}},{key:"createHider",value:function(spreader){var parent=spreader.parentNode,hider=void 0;return parent&&1===parent.nodeType&&(0,_element.hasClass)(parent,"wtHolder")||((hider=document.createElement("div")).className="wtHider",parent&&parent.insertBefore(hider,spreader),hider.appendChild(spreader)),hider}},{key:"createHolder",value:function(hider){var parent=hider.parentNode,holder=void 0;return parent&&1===parent.nodeType&&(0,_element.hasClass)(parent,"wtHolder")||((holder=document.createElement("div")).style.position="relative",holder.className="wtHolder",parent&&parent.insertBefore(holder,hider),this.isWorkingOnClone()||(holder.parentNode.className+="ht_master handsontable"),holder.appendChild(hider)),holder}},{key:"alignOverlaysWithTrimmingContainer",value:function(){var trimmingElement=(0,_element.getTrimmingContainer)(this.wtRootElement);this.isWorkingOnClone()||(this.holder.parentNode.style.position="relative",trimmingElement===window?this.wot.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible"):(this.holder.style.width=(0,_element.getStyle)(trimmingElement,"width"),this.holder.style.height=(0,_element.getStyle)(trimmingElement,"height"),this.holder.style.overflow=""))}},{key:"isWorkingOnClone",value:function(){return!!this.wot.cloneSource}},{key:"draw",value:function(fastDraw){var _wot=this.wot,wtOverlays=_wot.wtOverlays,wtViewport=_wot.wtViewport,totalRows=this.instance.getSetting("totalRows"),rowHeaders=this.wot.getSetting("rowHeaders").length,columnHeaders=this.wot.getSetting("columnHeaders").length,syncScroll=!1;if(!this.isWorkingOnClone()&&(this.holderOffset=(0,_element.offset)(this.holder),fastDraw=wtViewport.createRenderCalculators(fastDraw),rowHeaders&&!this.wot.getSetting("fixedColumnsLeft"))){var leftScrollPos=wtOverlays.leftOverlay.getScrollPosition(),previousState=this.correctHeaderWidth;this.correctHeaderWidth=0<leftScrollPos,previousState!==this.correctHeaderWidth&&(fastDraw=!1)}if(this.isWorkingOnClone()||(syncScroll=wtOverlays.prepareOverlays()),fastDraw)this.isWorkingOnClone()||wtViewport.createVisibleCalculators(),wtOverlays&&wtOverlays.refresh(!0);else{this.isWorkingOnClone()?this.tableOffset=this.wot.cloneSource.wtTable.tableOffset:this.tableOffset=(0,_element.offset)(this.TABLE);var startRow=void 0;startRow=_base2.default.isOverlayTypeOf(this.wot.cloneOverlay,_base2.default.CLONE_DEBUG)||_base2.default.isOverlayTypeOf(this.wot.cloneOverlay,_base2.default.CLONE_TOP)||_base2.default.isOverlayTypeOf(this.wot.cloneOverlay,_base2.default.CLONE_TOP_LEFT_CORNER)?0:_base2.default.isOverlayTypeOf(this.instance.cloneOverlay,_base2.default.CLONE_BOTTOM)||_base2.default.isOverlayTypeOf(this.instance.cloneOverlay,_base2.default.CLONE_BOTTOM_LEFT_CORNER)?Math.max(totalRows-this.wot.getSetting("fixedRowsBottom"),0):wtViewport.rowsRenderCalculator.startRow;var startColumn=void 0;startColumn=_base2.default.isOverlayTypeOf(this.wot.cloneOverlay,_base2.default.CLONE_DEBUG)||_base2.default.isOverlayTypeOf(this.wot.cloneOverlay,_base2.default.CLONE_LEFT)||_base2.default.isOverlayTypeOf(this.wot.cloneOverlay,_base2.default.CLONE_TOP_LEFT_CORNER)||_base2.default.isOverlayTypeOf(this.wot.cloneOverlay,_base2.default.CLONE_BOTTOM_LEFT_CORNER)?0:wtViewport.columnsRenderCalculator.startColumn,this.rowFilter=new _row2.default(startRow,totalRows,columnHeaders),this.columnFilter=new _column2.default(startColumn,this.wot.getSetting("totalColumns"),rowHeaders),this.alignOverlaysWithTrimmingContainer(),this._doDraw()}return this.refreshSelections(fastDraw),this.isWorkingOnClone()||(wtOverlays.topOverlay.resetFixedPosition(),wtOverlays.bottomOverlay.clone&&wtOverlays.bottomOverlay.resetFixedPosition(),wtOverlays.leftOverlay.resetFixedPosition(),wtOverlays.topLeftCornerOverlay&&wtOverlays.topLeftCornerOverlay.resetFixedPosition(),wtOverlays.bottomLeftCornerOverlay&&wtOverlays.bottomLeftCornerOverlay.clone&&wtOverlays.bottomLeftCornerOverlay.resetFixedPosition()),syncScroll&&wtOverlays.syncScrollWithMaster(),this.wot.drawn=!0,this}},{key:"_doDraw",value:function(){new _tableRenderer2.default(this).render()}},{key:"removeClassFromCells",value:function(className){for(var nodes=this.TABLE.querySelectorAll("."+className),i=0,len=nodes.length;i<len;i++)(0,_element.removeClass)(nodes[i],className)}},{key:"refreshSelections",value:function(fastDraw){if(this.wot.selections){var len=this.wot.selections.length;if(fastDraw)for(var i=0;i<len;i++)this.wot.selections[i].settings.className&&this.removeClassFromCells(this.wot.selections[i].settings.className),this.wot.selections[i].settings.highlightHeaderClassName&&this.removeClassFromCells(this.wot.selections[i].settings.highlightHeaderClassName),this.wot.selections[i].settings.highlightRowClassName&&this.removeClassFromCells(this.wot.selections[i].settings.highlightRowClassName),this.wot.selections[i].settings.highlightColumnClassName&&this.removeClassFromCells(this.wot.selections[i].settings.highlightColumnClassName);for(var _i=0;_i<len;_i++)this.wot.selections[_i].draw(this.wot,fastDraw)}}},{key:"getCell",value:function(coords){if(this.isRowBeforeRenderedRows(coords.row))return-1;if(this.isRowAfterRenderedRows(coords.row))return-2;var TR=this.TBODY.childNodes[this.rowFilter.sourceToRendered(coords.row)];return TR?TR.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(coords.col)]:void 0}},{key:"getColumnHeader",value:function(col){var level=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,TR=this.THEAD.childNodes[level];if(TR)return TR.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(col)]}},{key:"getRowHeader",value:function(row){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var TR=this.TBODY.childNodes[this.rowFilter.sourceToRendered(row)];return TR?TR.childNodes[0]:void 0}},{key:"getCoords",value:function(TD){if("TD"!==TD.nodeName&&"TH"!==TD.nodeName&&(TD=(0,_element.closest)(TD,["TD","TH"])),null===TD)return null;var TR=TD.parentNode,CONTAINER=TR.parentNode,row=(0,_element.index)(TR),col=TD.cellIndex;return(0,_element.overlayContainsElement)(_base2.default.CLONE_TOP_LEFT_CORNER,TD)||(0,_element.overlayContainsElement)(_base2.default.CLONE_TOP,TD)?"THEAD"===CONTAINER.nodeName&&(row-=CONTAINER.childNodes.length):row=CONTAINER===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(row):this.rowFilter.renderedToSource(row),col=(0,_element.overlayContainsElement)(_base2.default.CLONE_TOP_LEFT_CORNER,TD)||(0,_element.overlayContainsElement)(_base2.default.CLONE_LEFT,TD)?this.columnFilter.offsettedTH(col):this.columnFilter.visibleRowHeadedColumnToSourceColumn(col),new _coords2.default(row,col)}},{key:"getTrForRow",value:function(row){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(row)]}},{key:"getFirstRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.startRow}},{key:"getFirstVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.startRow}},{key:"getFirstRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.startColumn}},{key:"getFirstVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.startColumn}},{key:"getLastRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.endRow}},{key:"getLastVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.endRow}},{key:"getLastRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.endColumn}},{key:"getLastVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.endColumn}},{key:"isRowBeforeRenderedRows",value:function(row){return this.rowFilter&&this.rowFilter.sourceToRendered(row)<0&&0<=row}},{key:"isRowAfterViewport",value:function(row){return this.rowFilter&&this.rowFilter.sourceToRendered(row)>this.getLastVisibleRow()}},{key:"isRowAfterRenderedRows",value:function(row){return this.rowFilter&&this.rowFilter.sourceToRendered(row)>this.getLastRenderedRow()}},{key:"isColumnBeforeViewport",value:function(column){return this.columnFilter&&this.columnFilter.sourceToRendered(column)<0&&0<=column}},{key:"isColumnAfterViewport",value:function(column){return this.columnFilter&&this.columnFilter.sourceToRendered(column)>this.getLastVisibleColumn()}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"getRenderedColumnsCount",value:function(){var columnsCount=this.wot.wtViewport.columnsRenderCalculator.count,totalColumns=this.wot.getSetting("totalColumns");if(this.wot.isOverlayName(_base2.default.CLONE_DEBUG))columnsCount=totalColumns;else if(this.wot.isOverlayName(_base2.default.CLONE_LEFT)||this.wot.isOverlayName(_base2.default.CLONE_TOP_LEFT_CORNER)||this.wot.isOverlayName(_base2.default.CLONE_BOTTOM_LEFT_CORNER))return Math.min(this.wot.getSetting("fixedColumnsLeft"),totalColumns);return columnsCount}},{key:"getRenderedRowsCount",value:function(){var rowsCount=this.wot.wtViewport.rowsRenderCalculator.count,totalRows=this.wot.getSetting("totalRows");return this.wot.isOverlayName(_base2.default.CLONE_DEBUG)?rowsCount=totalRows:this.wot.isOverlayName(_base2.default.CLONE_TOP)||this.wot.isOverlayName(_base2.default.CLONE_TOP_LEFT_CORNER)?rowsCount=Math.min(this.wot.getSetting("fixedRowsTop"),totalRows):(this.wot.isOverlayName(_base2.default.CLONE_BOTTOM)||this.wot.isOverlayName(_base2.default.CLONE_BOTTOM_LEFT_CORNER))&&(rowsCount=Math.min(this.wot.getSetting("fixedRowsBottom"),totalRows)),rowsCount}},{key:"getVisibleRowsCount",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.count}},{key:"allRowsInViewport",value:function(){return this.wot.getSetting("totalRows")==this.getVisibleRowsCount()}},{key:"getRowHeight",value:function(sourceRow){var height=this.wot.wtSettings.settings.rowHeight(sourceRow),oversizedHeight=this.wot.wtViewport.oversizedRows[sourceRow];return void 0!==oversizedHeight&&(height=void 0===height?oversizedHeight:Math.max(height,oversizedHeight)),height}},{key:"getColumnHeaderHeight",value:function(level){var height=this.wot.wtSettings.settings.defaultRowHeight,oversizedHeight=this.wot.wtViewport.oversizedColumnHeaders[level];return void 0!==oversizedHeight&&(height=height?Math.max(height,oversizedHeight):oversizedHeight),height}},{key:"getVisibleColumnsCount",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.count}},{key:"allColumnsInViewport",value:function(){return this.wot.getSetting("totalColumns")==this.getVisibleColumnsCount()}},{key:"getColumnWidth",value:function(sourceColumn){var width=this.wot.wtSettings.settings.columnWidth;return"function"==typeof width?width=width(sourceColumn):"object"===(void 0===width?"undefined":_typeof(width))&&(width=width[sourceColumn]),width||this.wot.wtSettings.settings.defaultColumnWidth}},{key:"getStretchedColumnWidth",value:function(sourceColumn){var columnWidth=this.getColumnWidth(sourceColumn),width=null==columnWidth?this.instance.wtSettings.settings.defaultColumnWidth:columnWidth,calculator=this.wot.wtViewport.columnsRenderCalculator;if(calculator){var stretchedWidth=calculator.getStretchedColumnWidth(sourceColumn,width);stretchedWidth&&(width=stretchedWidth)}return width}},{key:"_modifyRowHeaderWidth",value:function(rowHeaderWidthFactory){var widths=(0,_function.isFunction)(rowHeaderWidthFactory)?rowHeaderWidthFactory():null;return Array.isArray(widths)?(widths=[].concat(function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(widths)))[widths.length-1]=this._correctRowHeaderWidth(widths[widths.length-1]):widths=this._correctRowHeaderWidth(widths),widths}},{key:"_correctRowHeaderWidth",value:function(width){return"number"!=typeof width&&(width=this.wot.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&width++,width}}]),Table}();exports.default=Table},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_element=__webpack_require__(0),_base=__webpack_require__(31),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj};var performanceWarningAppeared=!1,TableRenderer=function(){function TableRenderer(wtTable){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TableRenderer),this.wtTable=wtTable,this.wot=wtTable.instance,this.instance=wtTable.instance,this.rowFilter=wtTable.rowFilter,this.columnFilter=wtTable.columnFilter,this.TABLE=wtTable.TABLE,this.THEAD=wtTable.THEAD,this.TBODY=wtTable.TBODY,this.COLGROUP=wtTable.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0,this.fixedRowsBottom=0}return _createClass(TableRenderer,[{key:"render",value:function(){if(!this.wtTable.isWorkingOnClone()){var skipRender={};if(this.wot.getSetting("beforeDraw",!0,skipRender),!0===skipRender.skipRender)return}this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var columnsToRender=this.wtTable.getRenderedColumnsCount(),rowsToRender=this.wtTable.getRenderedRowsCount(),totalColumns=this.wot.getSetting("totalColumns"),totalRows=this.wot.getSetting("totalRows"),workspaceWidth=void 0,adjusted=!1;if((_base2.default.isOverlayTypeOf(this.wot.cloneOverlay,_base2.default.CLONE_BOTTOM)||_base2.default.isOverlayTypeOf(this.wot.cloneOverlay,_base2.default.CLONE_BOTTOM_LEFT_CORNER))&&(this.columnHeaders=[],this.columnHeaderCount=0),0<=totalColumns&&(this.adjustAvailableNodes(),adjusted=!0,this.renderColumnHeaders(),this.renderRows(totalRows,rowsToRender,columnsToRender),this.wtTable.isWorkingOnClone()||(workspaceWidth=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnWidths(columnsToRender),this.markOversizedColumnHeaders(),this.adjustColumnHeaderHeights()),adjusted||this.adjustAvailableNodes(),this.removeRedundantRows(rowsToRender),this.wtTable.isWorkingOnClone()&&!this.wot.isOverlayName(_base2.default.CLONE_BOTTOM)||this.markOversizedRows(),this.wtTable.isWorkingOnClone())this.wot.isOverlayName(_base2.default.CLONE_BOTTOM)&&this.wot.cloneSource.wtOverlays.adjustElementsSize();else{this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM();var hiderWidth=(0,_element.outerWidth)(this.wtTable.hider),tableWidth=(0,_element.outerWidth)(this.wtTable.TABLE);if(0!==hiderWidth&&tableWidth!==hiderWidth&&this.adjustColumnWidths(columnsToRender),workspaceWidth!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;var firstRendered=this.wtTable.getFirstRenderedColumn(),lastRendered=this.wtTable.getLastRenderedColumn(),defaultColumnWidth=this.wot.getSetting("defaultColumnWidth"),rowHeaderWidthSetting=this.wot.getSetting("rowHeaderWidth");if(null!=(rowHeaderWidthSetting=this.instance.getSetting("onModifyRowHeaderWidth",rowHeaderWidthSetting)))for(var i=0;i<this.rowHeaderCount;i++){var width=Array.isArray(rowHeaderWidthSetting)?rowHeaderWidthSetting[i]:rowHeaderWidthSetting;width=null==width?defaultColumnWidth:width,this.COLGROUP.childNodes[i].style.width=width+"px"}for(var _i=firstRendered;_i<lastRendered;_i++){var _width=this.wtTable.getStretchedColumnWidth(_i),renderedIndex=this.columnFilter.sourceToRendered(_i);this.COLGROUP.childNodes[renderedIndex+this.rowHeaderCount].style.width=_width+"px"}}this.wot.getSetting("onDraw",!0)}}},{key:"removeRedundantRows",value:function(renderedRowsCount){for(;this.wtTable.tbodyChildrenLength>renderedRowsCount;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}},{key:"renderRows",value:function(totalRows,rowsToRender,columnsToRender){for(var TR=void 0,visibleRowIndex=0,sourceRowIndex=this.rowFilter.renderedToSource(visibleRowIndex),isWorkingOnClone=this.wtTable.isWorkingOnClone();sourceRowIndex<totalRows&&0<=sourceRowIndex&&(!performanceWarningAppeared&&1e3<visibleRowIndex&&(performanceWarningAppeared=!0,console.warn('Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.')),void 0===rowsToRender||visibleRowIndex!==rowsToRender);){if(TR=this.getOrCreateTrForRow(visibleRowIndex,TR),this.renderRowHeaders(sourceRowIndex,TR),this.adjustColumns(TR,columnsToRender+this.rowHeaderCount),this.renderCells(sourceRowIndex,TR,columnsToRender),isWorkingOnClone&&!this.wot.isOverlayName(_base2.default.CLONE_BOTTOM)||this.resetOversizedRow(sourceRowIndex),TR.firstChild){var height=this.wot.wtTable.getRowHeight(sourceRowIndex);height?(height--,TR.firstChild.style.height=height+"px"):TR.firstChild.style.height=""}visibleRowIndex++,sourceRowIndex=this.rowFilter.renderedToSource(visibleRowIndex)}}},{key:"resetOversizedRow",value:function(sourceRow){this.wot.getSetting("externalRowCalculator")||this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[sourceRow]&&(this.wot.wtViewport.oversizedRows[sourceRow]=void 0)}},{key:"markOversizedRows",value:function(){if(!this.wot.getSetting("externalRowCalculator")){var rowCount=this.instance.wtTable.TBODY.childNodes.length,expectedTableHeight=rowCount*this.instance.wtSettings.settings.defaultRowHeight,actualTableHeight=(0,_element.innerHeight)(this.instance.wtTable.TBODY)-1,previousRowHeight=void 0,rowInnerHeight=void 0,sourceRowIndex=void 0,currentTr=void 0,rowHeader=void 0;this.instance.getSetting("totalRows");if(expectedTableHeight!=actualTableHeight||this.instance.getSetting("fixedRowsBottom"))for(;rowCount;)rowCount--,sourceRowIndex=this.instance.wtTable.rowFilter.renderedToSource(rowCount),previousRowHeight=this.instance.wtTable.getRowHeight(sourceRowIndex),rowInnerHeight=(rowHeader=(currentTr=this.instance.wtTable.getTrForRow(sourceRowIndex)).querySelector("th"))?(0,_element.innerHeight)(rowHeader):(0,_element.innerHeight)(currentTr)-1,(!previousRowHeight&&this.instance.wtSettings.settings.defaultRowHeight<rowInnerHeight||previousRowHeight<rowInnerHeight)&&(this.instance.wtViewport.oversizedRows[sourceRowIndex]=++rowInnerHeight)}}},{key:"markOversizedColumnHeaders",value:function(){var overlayName=this.wot.getOverlayName();if(this.columnHeaderCount&&!this.wot.wtViewport.hasOversizedColumnHeadersMarked[overlayName]&&!this.wtTable.isWorkingOnClone()){for(var columnCount=this.wtTable.getRenderedColumnsCount(),i=0;i<this.columnHeaderCount;i++)for(var renderedColumnIndex=-1*this.rowHeaderCount;renderedColumnIndex<columnCount;renderedColumnIndex++)this.markIfOversizedColumnHeader(renderedColumnIndex);this.wot.wtViewport.hasOversizedColumnHeadersMarked[overlayName]=!0}}},{key:"adjustColumnHeaderHeights",value:function(){for(var columnHeaders=this.wot.getSetting("columnHeaders"),children=this.wot.wtTable.THEAD.childNodes,oversizedColumnHeaders=this.wot.wtViewport.oversizedColumnHeaders,i=0,len=columnHeaders.length;i<len;i++)if(oversizedColumnHeaders[i]){if(!children[i]||0===children[i].childNodes.length)return;children[i].childNodes[0].style.height=oversizedColumnHeaders[i]+"px"}}},{key:"markIfOversizedColumnHeader",value:function(col){for(var sourceColIndex=this.wot.wtTable.columnFilter.renderedToSource(col),level=this.columnHeaderCount,defaultRowHeight=this.wot.wtSettings.settings.defaultRowHeight,previousColHeaderHeight=void 0,currentHeader=void 0,currentHeaderHeight=void 0,columnHeaderHeightSetting=this.wot.getSetting("columnHeaderHeight")||[];level;)level--,previousColHeaderHeight=this.wot.wtTable.getColumnHeaderHeight(level),(currentHeader=this.wot.wtTable.getColumnHeader(sourceColIndex,level))&&(currentHeaderHeight=(0,_element.innerHeight)(currentHeader),(!previousColHeaderHeight&&defaultRowHeight<currentHeaderHeight||previousColHeaderHeight<currentHeaderHeight)&&(this.wot.wtViewport.oversizedColumnHeaders[level]=currentHeaderHeight),Array.isArray(columnHeaderHeightSetting)?null!=columnHeaderHeightSetting[level]&&(this.wot.wtViewport.oversizedColumnHeaders[level]=columnHeaderHeightSetting[level]):isNaN(columnHeaderHeightSetting)||(this.wot.wtViewport.oversizedColumnHeaders[level]=columnHeaderHeightSetting),this.wot.wtViewport.oversizedColumnHeaders[level]<(columnHeaderHeightSetting[level]||columnHeaderHeightSetting)&&(this.wot.wtViewport.oversizedColumnHeaders[level]=columnHeaderHeightSetting[level]||columnHeaderHeightSetting))}},{key:"renderCells",value:function(sourceRowIndex,TR,columnsToRender){for(var TD=void 0,sourceColIndex=void 0,visibleColIndex=0;visibleColIndex<columnsToRender;visibleColIndex++)sourceColIndex=this.columnFilter.renderedToSource(visibleColIndex),"TH"==(TD=0===visibleColIndex?TR.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(sourceColIndex)]:TD.nextSibling).nodeName&&(TD=replaceThWithTd(TD,TR)),(0,_element.hasClass)(TD,"hide")||(TD.className=""),TD.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(sourceRowIndex,sourceColIndex,TD);return TD}},{key:"adjustColumnWidths",value:function(columnsToRender){var scrollbarCompensation=0,mainHolder=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,defaultColumnWidth=this.wot.getSetting("defaultColumnWidth"),rowHeaderWidthSetting=this.wot.getSetting("rowHeaderWidth");if(mainHolder.offsetHeight<mainHolder.scrollHeight&&(scrollbarCompensation=(0,_element.getScrollbarWidth)()),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-scrollbarCompensation),null!=(rowHeaderWidthSetting=this.instance.getSetting("onModifyRowHeaderWidth",rowHeaderWidthSetting)))for(var i=0;i<this.rowHeaderCount;i++){var width=Array.isArray(rowHeaderWidthSetting)?rowHeaderWidthSetting[i]:rowHeaderWidthSetting;width=null==width?defaultColumnWidth:width,this.COLGROUP.childNodes[i].style.width=width+"px"}for(var renderedColIndex=0;renderedColIndex<columnsToRender;renderedColIndex++){var _width2=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(renderedColIndex));this.COLGROUP.childNodes[renderedColIndex+this.rowHeaderCount].style.width=_width2+"px"}}},{key:"appendToTbody",value:function(TR){this.TBODY.appendChild(TR),this.wtTable.tbodyChildrenLength++}},{key:"getOrCreateTrForRow",value:function(rowIndex,currentTr){var TR=void 0;return rowIndex>=this.wtTable.tbodyChildrenLength?(TR=this.createRow(),this.appendToTbody(TR)):TR=0===rowIndex?this.TBODY.firstChild:currentTr.nextSibling,TR.className&&TR.removeAttribute("class"),TR}},{key:"createRow",value:function(){for(var TR=document.createElement("TR"),visibleColIndex=0;visibleColIndex<this.rowHeaderCount;visibleColIndex++)TR.appendChild(document.createElement("TH"));return TR}},{key:"renderRowHeader",value:function(row,col,TH){TH.className="",TH.removeAttribute("style"),this.rowHeaders[col](row,TH,col)}},{key:"renderRowHeaders",value:function(row,TR){for(var TH=TR.firstChild,visibleColIndex=0;visibleColIndex<this.rowHeaderCount;visibleColIndex++)TH?"TD"==TH.nodeName&&(TH=replaceTdWithTh(TH,TR)):(TH=document.createElement("TH"),TR.appendChild(TH)),this.renderRowHeader(row,visibleColIndex,TH),TH=TH.nextSibling}},{key:"adjustAvailableNodes",value:function(){this.adjustColGroups(),this.adjustThead()}},{key:"renderColumnHeaders",value:function(){if(this.columnHeaderCount)for(var columnCount=this.wtTable.getRenderedColumnsCount(),i=0;i<this.columnHeaderCount;i++)for(var TR=this.getTrForColumnHeaders(i),renderedColumnIndex=-1*this.rowHeaderCount;renderedColumnIndex<columnCount;renderedColumnIndex++){var sourceCol=this.columnFilter.renderedToSource(renderedColumnIndex);this.renderColumnHeader(i,sourceCol,TR.childNodes[renderedColumnIndex+this.rowHeaderCount])}}},{key:"adjustColGroups",value:function(){for(var columnCount=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<columnCount+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>columnCount+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--;this.rowHeaderCount&&(0,_element.addClass)(this.COLGROUP.childNodes[0],"rowHeader")}},{key:"adjustThead",value:function(){var columnCount=this.wtTable.getRenderedColumnsCount(),TR=this.THEAD.firstChild;if(this.columnHeaders.length){for(var i=0,len=this.columnHeaders.length;i<len;i++){for((TR=this.THEAD.childNodes[i])||(TR=document.createElement("TR"),this.THEAD.appendChild(TR)),this.theadChildrenLength=TR.childNodes.length;this.theadChildrenLength<columnCount+this.rowHeaderCount;)TR.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>columnCount+this.rowHeaderCount;)TR.removeChild(TR.lastChild),this.theadChildrenLength--}var theadChildrenLength=this.THEAD.childNodes.length;if(theadChildrenLength>this.columnHeaders.length)for(var _i2=this.columnHeaders.length;_i2<theadChildrenLength;_i2++)this.THEAD.removeChild(this.THEAD.lastChild)}else TR&&(0,_element.empty)(TR)}},{key:"getTrForColumnHeaders",value:function(index){return this.THEAD.childNodes[index]}},{key:"renderColumnHeader",value:function(row,col,TH){return TH.className="",TH.removeAttribute("style"),this.columnHeaders[row](col,TH,row)}},{key:"adjustColumns",value:function(TR,desiredCount){for(var count=TR.childNodes.length;count<desiredCount;){var TD=document.createElement("TD");TR.appendChild(TD),count++}for(;desiredCount<count;)TR.removeChild(TR.lastChild),count--}},{key:"removeRedundantColumns",value:function(columnsToRender){for(;this.wtTable.tbodyChildrenLength>columnsToRender;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}}]),TableRenderer}();function replaceTdWithTh(TD,TR){var TH=document.createElement("TH");return TR.insertBefore(TH,TD),TR.removeChild(TD),TH}function replaceThWithTd(TH,TR){var TD=document.createElement("TD");return TR.insertBefore(TD,TH),TR.removeChild(TH),TD}exports.default=TableRenderer},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0),_object=__webpack_require__(1),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_viewportColumns2=_interopRequireDefault(__webpack_require__(155)),_viewportRows2=_interopRequireDefault(__webpack_require__(156));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Viewport=function(){function Viewport(wotInstance){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Viewport),this.wot=wotInstance,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new _eventManager2.default(this.wot),this.eventManager.addEventListener(window,"resize",function(){_this.clientHeight=_this.getWorkspaceHeight()})}return _createClass(Viewport,[{key:"getWorkspaceHeight",value:function(){var trimmingContainer=this.instance.wtOverlays.topOverlay.trimmingContainer;return trimmingContainer===window?document.documentElement.clientHeight:0<(0,_element.outerHeight)(trimmingContainer)&&0<trimmingContainer.clientHeight?trimmingContainer.clientHeight:1/0}},{key:"getWorkspaceWidth",value:function(){var width=void 0,totalColumns=this.wot.getSetting("totalColumns"),trimmingContainer=this.instance.wtOverlays.leftOverlay.trimmingContainer,overflow=void 0,stretchSetting=this.wot.getSetting("stretchH"),docOffsetWidth=document.documentElement.offsetWidth;return this.wot.getSetting("preventOverflow")?(0,_element.outerWidth)(this.instance.wtTable.wtRootElement):(width=this.wot.getSetting("freezeOverlays")?Math.min(docOffsetWidth-this.getWorkspaceOffset().left,docOffsetWidth):Math.min(this.getContainerFillWidth(),docOffsetWidth-this.getWorkspaceOffset().left,docOffsetWidth),trimmingContainer===window&&0<totalColumns&&this.sumColumnWidths(0,totalColumns-1)>width?document.documentElement.clientWidth:trimmingContainer===window||"scroll"!=(overflow=(0,_element.getStyle)(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow"))&&"hidden"!=overflow&&"auto"!=overflow?"none"!==stretchSetting&&stretchSetting?width:Math.max(width,(0,_element.outerWidth)(this.instance.wtTable.TABLE)):Math.max(width,trimmingContainer.clientWidth))}},{key:"hasVerticalScroll",value:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(from,length){for(var sum=0;from<length;)sum+=this.wot.wtTable.getColumnWidth(from),from++;return sum}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var fillWidth,mainContainer=this.instance.wtTable.holder,dummyElement=void 0;return(dummyElement=document.createElement("div")).style.width="100%",dummyElement.style.height="1px",mainContainer.appendChild(dummyElement),fillWidth=dummyElement.offsetWidth,this.containerWidth=fillWidth,mainContainer.removeChild(dummyElement),fillWidth}},{key:"getWorkspaceOffset",value:function(){return(0,_element.offset)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualHeight",value:function(){return(0,_element.outerHeight)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualWidth",value:function(){return(0,_element.outerWidth)(this.wot.wtTable.TABLE)||(0,_element.outerWidth)(this.wot.wtTable.TBODY)||(0,_element.outerWidth)(this.wot.wtTable.THEAD)}},{key:"getColumnHeaderHeight",value:function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=(0,_element.outerHeight)(this.wot.wtTable.THEAD)),this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var columnHeaderHeight,containerHeight=this.getWorkspaceHeight();return containerHeight===1/0||0<(columnHeaderHeight=this.getColumnHeaderHeight())&&(containerHeight-=columnHeaderHeight),containerHeight}},{key:"getRowHeaderWidth",value:function(){var rowHeadersHeightSetting=this.instance.getSetting("rowHeaderWidth"),rowHeaders=this.instance.getSetting("rowHeaders");if(rowHeadersHeightSetting)for(var i=this.rowHeaderWidth=0,len=rowHeaders.length;i<len;i++)this.rowHeaderWidth+=rowHeadersHeightSetting[i]||rowHeadersHeightSetting;if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth))if(rowHeaders.length)for(var TH=this.instance.wtTable.TABLE.querySelector("TH"),_i=this.rowHeaderWidth=0,_len=rowHeaders.length;_i<_len;_i++)TH?(this.rowHeaderWidth+=(0,_element.outerWidth)(TH),TH=TH.nextSibling):this.rowHeaderWidth+=50;else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.instance.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var rowHeaderWidth,containerWidth=this.getWorkspaceWidth();return containerWidth===1/0?containerWidth:0<(rowHeaderWidth=this.getRowHeaderWidth())?containerWidth-rowHeaderWidth:containerWidth}},{key:"createRowsCalculator",value:function(){var fixedRowsTop,fixedRowsBottom,totalRows,_this2=this,visible=0<arguments.length&&void 0!==arguments[0]&&arguments[0],height=void 0,pos=void 0,scrollbarHeight=void 0,fixedRowsHeight=void 0;return this.rowHeaderWidth=NaN,height=this.wot.wtSettings.settings.renderAllRows?1/0:this.getViewportHeight(),(pos=this.wot.wtOverlays.topOverlay.getScrollPosition()-this.wot.wtOverlays.topOverlay.getTableParentOffset())<0&&(pos=0),fixedRowsTop=this.wot.getSetting("fixedRowsTop"),fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),totalRows=this.wot.getSetting("totalRows"),fixedRowsTop&&(pos+=fixedRowsHeight=this.wot.wtOverlays.topOverlay.sumCellSizes(0,fixedRowsTop),height-=fixedRowsHeight),fixedRowsBottom&&this.wot.wtOverlays.bottomOverlay.clone&&(height-=fixedRowsHeight=this.wot.wtOverlays.bottomOverlay.sumCellSizes(totalRows-fixedRowsBottom,totalRows)),scrollbarHeight=this.wot.wtTable.holder.clientHeight===this.wot.wtTable.holder.offsetHeight?0:(0,_element.getScrollbarWidth)(),new _viewportRows2.default(height,pos,this.wot.getSetting("totalRows"),function(sourceRow){return _this2.wot.wtTable.getRowHeight(sourceRow)},visible?null:this.wot.wtSettings.settings.viewportRowCalculatorOverride,visible,scrollbarHeight)}},{key:"createColumnsCalculator",value:function(){var fixedColumnsLeft,_this3=this,visible=0<arguments.length&&void 0!==arguments[0]&&arguments[0],width=this.getViewportWidth(),pos=void 0;if(this.columnHeaderHeight=NaN,(pos=this.wot.wtOverlays.leftOverlay.getScrollPosition()-this.wot.wtOverlays.leftOverlay.getTableParentOffset())<0&&(pos=0),fixedColumnsLeft=this.wot.getSetting("fixedColumnsLeft")){var fixedColumnsWidth=this.wot.wtOverlays.leftOverlay.sumCellSizes(0,fixedColumnsLeft);pos+=fixedColumnsWidth,width-=fixedColumnsWidth}return this.wot.wtTable.holder.clientWidth!==this.wot.wtTable.holder.offsetWidth&&(width-=(0,_element.getScrollbarWidth)()),new _viewportColumns2.default(width,pos,this.wot.getSetting("totalColumns"),function(sourceCol){return _this3.wot.wtTable.getColumnWidth(sourceCol)},visible?null:this.wot.wtSettings.settings.viewportColumnCalculatorOverride,visible,this.wot.getSetting("stretchH"),function(stretchedWidth,column){return _this3.wot.getSetting("onBeforeStretchingColumnWidth",stretchedWidth,column)})}},{key:"createRenderCalculators",value:function(){var fastDraw=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(fastDraw){var proposedRowsVisibleCalculator=this.createRowsCalculator(!0),proposedColumnsVisibleCalculator=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(proposedRowsVisibleCalculator)&&this.areAllProposedVisibleColumnsAlreadyRendered(proposedColumnsVisibleCalculator)||(fastDraw=!1)}return fastDraw||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,fastDraw}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(proposedRowsVisibleCalculator){return!!this.rowsVisibleCalculator&&(!(proposedRowsVisibleCalculator.startRow<this.rowsRenderCalculator.startRow||proposedRowsVisibleCalculator.startRow===this.rowsRenderCalculator.startRow&&0<proposedRowsVisibleCalculator.startRow)&&!(proposedRowsVisibleCalculator.endRow>this.rowsRenderCalculator.endRow||proposedRowsVisibleCalculator.endRow===this.rowsRenderCalculator.endRow&&proposedRowsVisibleCalculator.endRow<this.wot.getSetting("totalRows")-1))}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(proposedColumnsVisibleCalculator){return!!this.columnsVisibleCalculator&&(!(proposedColumnsVisibleCalculator.startColumn<this.columnsRenderCalculator.startColumn||proposedColumnsVisibleCalculator.startColumn===this.columnsRenderCalculator.startColumn&&0<proposedColumnsVisibleCalculator.startColumn)&&!(proposedColumnsVisibleCalculator.endColumn>this.columnsRenderCalculator.endColumn||proposedColumnsVisibleCalculator.endColumn===this.columnsRenderCalculator.endColumn&&proposedColumnsVisibleCalculator.endColumn<this.wot.getSetting("totalColumns")-1))}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){(0,_object.objectEach)(this.hasOversizedColumnHeadersMarked,function(value,key,object){object[key]=void 0})}}]),Viewport}();exports.default=Viewport},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0),_event=__webpack_require__(10),_object=__webpack_require__(1),_browser=__webpack_require__(26),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_coords2=_interopRequireDefault(__webpack_require__(49));_interopRequireDefault(__webpack_require__(31));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Border=function(){function Border(wotInstance,settings){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Border),settings&&(this.eventManager=new _eventManager2.default(wotInstance),this.instance=wotInstance,this.wot=wotInstance,this.settings=settings,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"5px",height:"5px",borderWidth:"2px",borderStyle:"solid",borderColor:"#FFF"},this.corner=null,this.cornerStyle=null,this.createBorders(settings),this.registerListeners())}return _createClass(Border,[{key:"registerListeners",value:function(){var _this2=this;this.eventManager.addEventListener(document.body,"mousedown",function(){return _this2.onMouseDown()}),this.eventManager.addEventListener(document.body,"mouseup",function(){return _this2.onMouseUp()});for(var _loop=function(c,len){_this2.eventManager.addEventListener(_this2.main.childNodes[c],"mouseenter",function(event){return _this2.onMouseEnter(event,_this2.main.childNodes[c])})},c=0,len=this.main.childNodes.length;c<len;c++)_loop(c)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(event,parentElement){if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){event.preventDefault(),(0,_event.stopImmediatePropagation)(event);var _this=this,bounds=parentElement.getBoundingClientRect();parentElement.style.display="none",this.eventManager.addEventListener(document.body,"mousemove",function handler(event){!function(event){return event.clientY<Math.floor(bounds.top)||event.clientY>Math.ceil(bounds.top+bounds.height)||event.clientX<Math.floor(bounds.left)||event.clientX>Math.ceil(bounds.left+bounds.width)||void 0}(event)||(_this.eventManager.removeEventListener(document.body,"mousemove",handler),parentElement.style.display="block")})}}},{key:"createBorders",value:function(settings){this.main=document.createElement("div");var borderDivs=["top","left","bottom","right","corner"],style=this.main.style;style.position="absolute",style.top=0;for(var i=style.left=0;i<5;i++){var position=borderDivs[i],div=document.createElement("div");div.className="wtBorder "+(this.settings.className||""),this.settings[position]&&this.settings[position].hide&&(div.className+=" hidden"),(style=div.style).backgroundColor=this.settings[position]&&this.settings[position].color?this.settings[position].color:settings.border.color,style.height=this.settings[position]&&this.settings[position].width?this.settings[position].width+"px":settings.border.width+"px",style.width=this.settings[position]&&this.settings[position].width?this.settings[position].width+"px":settings.border.width+"px",this.main.appendChild(div)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),(0,_browser.isMobileBrowser)()&&this.createMultipleSelectorHandles(),this.disappear(),this.wot.wtTable.bordersHolder||(this.wot.wtTable.bordersHolder=document.createElement("div"),this.wot.wtTable.bordersHolder.className="htBorders",this.wot.wtTable.spreader.appendChild(this.wot.wtTable.bordersHolder)),this.wot.wtTable.bordersHolder.insertBefore(this.main,this.wot.wtTable.bordersHolder.firstChild)}},{key:"createMultipleSelectorHandles",value:function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var hitAreaStyle={position:"absolute",height:"40px",width:"40px","border-radius":parseInt(40/1.5,10)+"px"};for(var prop in hitAreaStyle)(0,_object.hasOwnProperty)(hitAreaStyle,prop)&&(this.selectionHandles.styles.bottomRightHitArea[prop]=hitAreaStyle[prop],this.selectionHandles.styles.topLeftHitArea[prop]=hitAreaStyle[prop]);var handleStyle={position:"absolute",height:"10px",width:"10px","border-radius":parseInt(10/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var _prop in handleStyle)(0,_object.hasOwnProperty)(handleStyle,_prop)&&(this.selectionHandles.styles.bottomRight[_prop]=handleStyle[_prop],this.selectionHandles.styles.topLeft[_prop]=handleStyle[_prop]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)}},{key:"isPartRange",value:function(row,col){return!(!this.wot.selections.area.cellRange||row==this.wot.selections.area.cellRange.to.row&&col==this.wot.selections.area.cellRange.to.col)}},{key:"updateMultipleSelectionHandlesPosition",value:function(row,col,top,left,width,height){var handleWidth=parseInt(this.selectionHandles.styles.topLeft.width,10),hitAreaWidth=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(top-handleWidth,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(left-handleWidth,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(top-hitAreaWidth/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(left-hitAreaWidth/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(top+height,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(left+width,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(top+height-hitAreaWidth/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(left+width-hitAreaWidth/4,10)+"px",this.settings.border.multipleSelectionHandlesVisible&&this.settings.border.multipleSelectionHandlesVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(row,col)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),row==this.wot.wtSettings.getSetting("fixedRowsTop")||col==this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")}},{key:"appear",value:function(corners){if(!this.disabled){var isMultiple,fromTD,toTD,fromOffset,toOffset,containerOffset,top,minTop,left,minLeft,height,width,fromRow,fromColumn,toRow,toColumn,trimmingContainer,ilen;ilen=this.wot.wtTable.getRenderedRowsCount();for(var i=0;i<ilen;i++){var s=this.wot.wtTable.rowFilter.renderedToSource(i);if(s>=corners[0]&&s<=corners[2]){fromRow=s;break}}for(var _i=ilen-1;0<=_i;_i--){var _s=this.wot.wtTable.rowFilter.renderedToSource(_i);if(_s>=corners[0]&&_s<=corners[2]){toRow=_s;break}}ilen=this.wot.wtTable.getRenderedColumnsCount();for(var _i2=0;_i2<ilen;_i2++){var _s2=this.wot.wtTable.columnFilter.renderedToSource(_i2);if(_s2>=corners[1]&&_s2<=corners[3]){fromColumn=_s2;break}}for(var _i3=ilen-1;0<=_i3;_i3--){var _s3=this.wot.wtTable.columnFilter.renderedToSource(_i3);if(_s3>=corners[1]&&_s3<=corners[3]){toColumn=_s3;break}}if(void 0!==fromRow&&void 0!==fromColumn){isMultiple=fromRow!==toRow||fromColumn!==toColumn,fromTD=this.wot.wtTable.getCell(new _coords2.default(fromRow,fromColumn)),toTD=isMultiple?this.wot.wtTable.getCell(new _coords2.default(toRow,toColumn)):fromTD,fromOffset=(0,_element.offset)(fromTD),toOffset=isMultiple?(0,_element.offset)(toTD):fromOffset,containerOffset=(0,_element.offset)(this.wot.wtTable.TABLE),minTop=fromOffset.top,height=toOffset.top+(0,_element.outerHeight)(toTD)-minTop,minLeft=fromOffset.left,width=toOffset.left+(0,_element.outerWidth)(toTD)-minLeft,top=minTop-containerOffset.top-1,left=minLeft-containerOffset.left-1;var style=(0,_element.getComputedStyle)(fromTD);0<parseInt(style.borderTopWidth,10)&&(top+=1,height=0<height?height-1:0),0<parseInt(style.borderLeftWidth,10)&&(left+=1,width=0<width?width-1:0),this.topStyle.top=top+"px",this.topStyle.left=left+"px",this.topStyle.width=width+"px",this.topStyle.display="block",this.leftStyle.top=top+"px",this.leftStyle.left=left+"px",this.leftStyle.height=height+"px",this.leftStyle.display="block";var delta=Math.floor(this.settings.border.width/2);this.bottomStyle.top=top+height-delta+"px",this.bottomStyle.left=left+"px",this.bottomStyle.width=width+"px",this.bottomStyle.display="block",this.rightStyle.top=top+"px",this.rightStyle.left=left+width-delta+"px",this.rightStyle.height=height+1+"px",this.rightStyle.display="block",(0,_browser.isMobileBrowser)()||!this.hasSetting(this.settings.border.cornerVisible)||this.isPartRange(toRow,toColumn)?this.cornerStyle.display="none":(this.cornerStyle.top=top+height-4+"px",this.cornerStyle.left=left+width-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none",trimmingContainer=(0,_element.getTrimmingContainer)(this.wot.wtTable.TABLE),toColumn===this.wot.getSetting("totalColumns")-1&&toTD.offsetLeft+(0,_element.outerWidth)(toTD)+parseInt(this.cornerDefaultStyle.width,10)/2>=(0,_element.innerWidth)(trimmingContainer)&&(this.cornerStyle.left=Math.floor(left+width-3-parseInt(this.cornerDefaultStyle.width,10)/2)+"px",this.cornerStyle.borderRightWidth=0),toRow===this.wot.getSetting("totalRows")-1&&toTD.offsetTop+(0,_element.outerHeight)(toTD)+parseInt(this.cornerDefaultStyle.height,10)/2>=(0,_element.innerHeight)(trimmingContainer)&&(this.cornerStyle.top=Math.floor(top+height-3-parseInt(this.cornerDefaultStyle.height,10)/2)+"px",this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"),(0,_browser.isMobileBrowser)()&&this.updateMultipleSelectionHandlesPosition(fromRow,fromColumn,top,left,width,height)}else this.disappear()}}},{key:"disappear",value:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",(0,_browser.isMobileBrowser)()&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")}},{key:"hasSetting",value:function(setting){return"function"==typeof setting?setting():!!setting}}]),Border}();exports.default=Border},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_unicode=__webpack_require__(18),_mixed=__webpack_require__(22),_string=__webpack_require__(32),_array=__webpack_require__(2),_element=__webpack_require__(0),_handsontableEditor=__webpack_require__(169),_handsontableEditor2=(obj=_handsontableEditor)&&obj.__esModule?obj:{default:obj};var AutocompleteEditor=_handsontableEditor2.default.prototype.extend();AutocompleteEditor.prototype.init=function(){_handsontableEditor2.default.prototype.init.apply(this,arguments),this.query=null,this.strippedChoices=[],this.rawChoices=[]},AutocompleteEditor.prototype.getValue=function(){var _this2=this,selectedValue=this.rawChoices.find(function(value){return _this2.stripValueIfNeeded(value)===_this2.TEXTAREA.value});return(0,_mixed.isDefined)(selectedValue)?selectedValue:this.TEXTAREA.value};var skipOne=!(AutocompleteEditor.prototype.createElements=function(){_handsontableEditor2.default.prototype.createElements.apply(this,arguments),(0,_element.addClass)(this.htContainer,"autocompleteEditor"),(0,_element.addClass)(this.htContainer,-1===window.navigator.platform.indexOf("Mac")?"":"htMacScroll")});function onBeforeKeyDown(event){skipOne=!1;var editor=this.getActiveEditor();if((0,_unicode.isPrintableChar)(event.keyCode)||event.keyCode===_unicode.KEY_CODES.BACKSPACE||event.keyCode===_unicode.KEY_CODES.DELETE||event.keyCode===_unicode.KEY_CODES.INSERT){var timeOffset=0;if(event.keyCode===_unicode.KEY_CODES.C&&(event.ctrlKey||event.metaKey))return;editor.isOpened()||(timeOffset+=10),editor.htEditor&&editor.instance._registerTimeout(setTimeout(function(){editor.queryChoices(editor.TEXTAREA.value),skipOne=!0},timeOffset))}}AutocompleteEditor.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",onBeforeKeyDown),_handsontableEditor2.default.prototype.prepare.apply(this,arguments)},AutocompleteEditor.prototype.open=function(){this.TEXTAREA_PARENT.style.overflow="auto",_handsontableEditor2.default.prototype.open.apply(this,arguments),this.TEXTAREA_PARENT.style.overflow="";var choicesListHot=this.htEditor.getInstance(),_this=this,trimDropdown=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown;this.TEXTAREA.style.visibility="visible",this.focus(),choicesListHot.updateSettings({colWidths:trimDropdown?[(0,_element.outerWidth)(this.TEXTAREA)-2]:void 0,width:trimDropdown?(0,_element.outerWidth)(this.TEXTAREA)+(0,_element.getScrollbarWidth)()+2:void 0,afterRenderer:function(TD,row,col,prop,value,cellProperties){var _this$cellProperties=_this.cellProperties,filteringCaseSensitive=_this$cellProperties.filteringCaseSensitive,allowHtml=_this$cellProperties.allowHtml,indexOfMatch=void 0,match=void 0;(value=(0,_mixed.stringify)(value))&&!allowHtml&&-1!==(indexOfMatch=!0===filteringCaseSensitive?value.indexOf(this.query):value.toLowerCase().indexOf(_this.query.toLowerCase()))&&(match=value.substr(indexOfMatch,_this.query.length),value=value.replace(match,"<strong>"+match+"</strong>")),TD.innerHTML=value},autoColumnSize:!0,modifyColWidth:function(width,col){var autoWidths=this.getPlugin("autoColumnSize").widths;return autoWidths[col]&&(width=autoWidths[col]),trimDropdown?width:width+15}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]=(0,_element.getScrollbarWidth)()+2+"px",skipOne&&(skipOne=!1),_this.instance._registerTimeout(setTimeout(function(){_this.queryChoices(_this.TEXTAREA.value)},0))},AutocompleteEditor.prototype.close=function(){_handsontableEditor2.default.prototype.close.apply(this,arguments)},AutocompleteEditor.prototype.queryChoices=function(query){var _this3=this;this.query=query;var source=this.cellProperties.source;"function"==typeof source?source.call(this.cellProperties,query,function(choices){_this3.rawChoices=choices,_this3.updateChoicesList(_this3.stripValuesIfNeeded(choices))}):Array.isArray(source)?(this.rawChoices=source,this.updateChoicesList(this.stripValuesIfNeeded(source))):this.updateChoicesList([])},AutocompleteEditor.prototype.updateChoicesList=function(choices){var pos=(0,_element.getCaretPosition)(this.TEXTAREA),endPos=(0,_element.getSelectionEndPosition)(this.TEXTAREA),sortByRelevanceSetting=this.cellProperties.sortByRelevance,filterSetting=this.cellProperties.filter,orderByRelevance=null,highlightIndex=null;sortByRelevanceSetting&&(orderByRelevance=AutocompleteEditor.sortByRelevance(this.stripValueIfNeeded(this.getValue()),choices,this.cellProperties.filteringCaseSensitive));var orderByRelevanceLength=Array.isArray(orderByRelevance)?orderByRelevance.length:0;if(!1===filterSetting)orderByRelevanceLength&&(highlightIndex=orderByRelevance[0]);else{for(var sorted=[],i=0,choicesCount=choices.length;i<choicesCount&&!(sortByRelevanceSetting&&orderByRelevanceLength<=i);i++)orderByRelevanceLength?sorted.push(choices[orderByRelevance[i]]):sorted.push(choices[i]);highlightIndex=0,choices=sorted}this.strippedChoices=choices,this.htEditor.loadData((0,_array.pivot)([choices])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(highlightIndex),this.instance.listen(),this.TEXTAREA.focus(),(0,_element.setCaretPosition)(this.TEXTAREA,pos,pos===endPos?void 0:endPos)},AutocompleteEditor.prototype.flipDropdownIfNeeded=function(){var textareaOffset=(0,_element.offset)(this.TEXTAREA),textareaHeight=(0,_element.outerHeight)(this.TEXTAREA),dropdownHeight=this.getDropdownHeight(),trimmingContainer=(0,_element.getTrimmingContainer)(this.instance.view.wt.wtTable.TABLE),trimmingContainerScrollTop=trimmingContainer.scrollTop,headersHeight=(0,_element.outerHeight)(this.instance.view.wt.wtTable.THEAD),containerOffset={row:0,col:0};trimmingContainer!==window&&(containerOffset=(0,_element.offset)(trimmingContainer));var spaceAbove=textareaOffset.top-containerOffset.top-headersHeight+trimmingContainerScrollTop,spaceBelow=trimmingContainer.scrollHeight-spaceAbove-headersHeight-textareaHeight,flipNeeded=spaceBelow<dropdownHeight&&spaceBelow<spaceAbove;return flipNeeded?this.flipDropdown(dropdownHeight):this.unflipDropdown(),this.limitDropdownIfNeeded(flipNeeded?spaceAbove:spaceBelow,dropdownHeight),flipNeeded},AutocompleteEditor.prototype.limitDropdownIfNeeded=function(spaceAvailable,dropdownHeight){if(spaceAvailable<dropdownHeight){for(var height,tempHeight=0,i=0,lastRowHeight=0;tempHeight+=lastRowHeight=this.htEditor.getRowHeight(i)||this.htEditor.view.wt.wtSettings.settings.defaultRowHeight,i++,tempHeight<spaceAvailable;);height=tempHeight-lastRowHeight,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=parseInt(this.htEditor.rootElement.style.top,10)+dropdownHeight-height+"px"),this.setDropdownHeight(tempHeight-lastRowHeight)}},AutocompleteEditor.prototype.flipDropdown=function(dropdownHeight){var dropdownStyle=this.htEditor.rootElement.style;dropdownStyle.position="absolute",dropdownStyle.top=-dropdownHeight+"px",this.htEditor.flipped=!0},AutocompleteEditor.prototype.unflipDropdown=function(){var dropdownStyle=this.htEditor.rootElement.style;"absolute"===dropdownStyle.position&&(dropdownStyle.position="",dropdownStyle.top=""),this.htEditor.flipped=void 0},AutocompleteEditor.prototype.updateDropdownHeight=function(){var currentDropdownWidth=this.htEditor.getColWidth(0)+(0,_element.getScrollbarWidth)()+2,trimDropdown=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:trimDropdown?void 0:currentDropdownWidth}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()},AutocompleteEditor.prototype.setDropdownHeight=function(height){this.htEditor.updateSettings({height:height})},AutocompleteEditor.prototype.finishEditing=function(restoreOriginalValue){restoreOriginalValue||this.instance.removeHook("beforeKeyDown",onBeforeKeyDown),_handsontableEditor2.default.prototype.finishEditing.apply(this,arguments)},AutocompleteEditor.prototype.highlightBestMatchingChoice=function(index){"number"==typeof index?this.htEditor.selectCell(index,0):this.htEditor.deselectCell()},AutocompleteEditor.sortByRelevance=function(value,choices,caseSensitive){var choicesRelevance=[],currentItem=void 0,valueLength=value.length,valueIndex=void 0,charsLeft=void 0,result=[],i=void 0,choicesCount=choices.length;if(0===valueLength){for(i=0;i<choicesCount;i++)result.push(i);return result}for(i=0;i<choicesCount;i++)currentItem=(0,_string.stripTags)((0,_mixed.stringify)(choices[i])),-1!==(valueIndex=caseSensitive?currentItem.indexOf(value):currentItem.toLowerCase().indexOf(value.toLowerCase()))&&(charsLeft=currentItem.length-valueIndex-valueLength,choicesRelevance.push({baseIndex:i,index:valueIndex,charsLeft:charsLeft,value:currentItem}));for(choicesRelevance.sort(function(a,b){if(-1===b.index)return-1;if(-1===a.index)return 1;if(a.index<b.index)return-1;if(b.index<a.index)return 1;if(a.index===b.index){if(a.charsLeft<b.charsLeft)return-1;if(a.charsLeft>b.charsLeft)return 1}return 0}),i=0,choicesCount=choicesRelevance.length;i<choicesCount;i++)result.push(choicesRelevance[i].baseIndex);return result},AutocompleteEditor.prototype.getDropdownHeight=function(){var firstRowHeight=this.htEditor.getInstance().getRowHeight(0)||23,visibleRows=this.cellProperties.visibleRows;return this.strippedChoices.length>=visibleRows?visibleRows*firstRowHeight:this.strippedChoices.length*firstRowHeight+8},AutocompleteEditor.prototype.stripValueIfNeeded=function(value){return this.stripValuesIfNeeded([value])[0]},AutocompleteEditor.prototype.stripValuesIfNeeded=function(values){var allowHtml=this.cellProperties.allowHtml,stringifiedValues=(0,_array.arrayMap)(values,function(value){return(0,_mixed.stringify)(value)});return(0,_array.arrayMap)(stringifiedValues,function(value){return allowHtml?value:(0,_string.stripTags)(value)})},AutocompleteEditor.prototype.allowKeyEventPropagation=function(keyCode){var selected_row=this.htEditor.getSelectedRange()?this.htEditor.getSelectedRange().from.row:-1,allowed=!1;return keyCode===_unicode.KEY_CODES.ARROW_DOWN&&0<selected_row&&selected_row<this.htEditor.countRows()-1&&(allowed=!0),keyCode===_unicode.KEY_CODES.ARROW_UP&&-1<selected_row&&(allowed=!0),allowed},AutocompleteEditor.prototype.discardEditor=function(result){_handsontableEditor2.default.prototype.discardEditor.apply(this,arguments),this.instance.view.render()},exports.default=AutocompleteEditor},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_unicode=__webpack_require__(18),_object=__webpack_require__(1),_element=__webpack_require__(0),_event=__webpack_require__(10),_textEditor=__webpack_require__(51),_textEditor2=(obj=_textEditor)&&obj.__esModule?obj:{default:obj};var HandsontableEditor=_textEditor2.default.prototype.extend();HandsontableEditor.prototype.createElements=function(){_textEditor2.default.prototype.createElements.apply(this,arguments);var DIV=document.createElement("DIV");DIV.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(DIV),this.htContainer=DIV,this.assignHooks()},HandsontableEditor.prototype.prepare=function(td,row,col,prop,value,cellProperties){_textEditor2.default.prototype.prepare.apply(this,arguments);var parent=this,options={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,afterOnCellMouseDown:function(_,coords){var value=this.getSourceData(coords.row,coords.col);void 0!==value&&parent.setValue(value),parent.instance.destroyEditor()}};this.cellProperties.handsontable&&(0,_object.extend)(options,cellProperties.handsontable),this.htOptions=options};var onBeforeKeyDown=function(event){if(!(0,_event.isImmediatePropagationStopped)(event)){var rowToSelect,selectedRow,editor=this.getActiveEditor(),innerHOT=editor.htEditor.getInstance();if(event.keyCode==_unicode.KEY_CODES.ARROW_DOWN)if(innerHOT.getSelected()||innerHOT.flipped){if(innerHOT.getSelected())if(innerHOT.flipped)rowToSelect=innerHOT.getSelected()[0]+1;else if(!innerHOT.flipped){selectedRow=innerHOT.getSelected()[0];var lastRow=innerHOT.countRows()-1;rowToSelect=Math.min(lastRow,selectedRow+1)}}else rowToSelect=0;else event.keyCode==_unicode.KEY_CODES.ARROW_UP&&(!innerHOT.getSelected()&&innerHOT.flipped?rowToSelect=innerHOT.countRows()-1:innerHOT.getSelected()&&(rowToSelect=innerHOT.flipped?(selectedRow=innerHOT.getSelected()[0],Math.max(0,selectedRow-1)):(selectedRow=innerHOT.getSelected()[0])-1));void 0!==rowToSelect&&(rowToSelect<0||innerHOT.flipped&&rowToSelect>innerHOT.countRows()-1?innerHOT.deselectCell():innerHOT.selectCell(rowToSelect,0),innerHOT.getData().length&&(event.preventDefault(),(0,_event.stopImmediatePropagation)(event),editor.instance.listen(),editor.TEXTAREA.focus()))}};HandsontableEditor.prototype.open=function(){this.instance.addHook("beforeKeyDown",onBeforeKeyDown),_textEditor2.default.prototype.open.apply(this,arguments),this.htEditor&&this.htEditor.destroy(),this.htEditor=new this.instance.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),(0,_element.setCaretPosition)(this.TEXTAREA,0,this.TEXTAREA.value.length)},HandsontableEditor.prototype.close=function(){this.instance.removeHook("beforeKeyDown",onBeforeKeyDown),this.instance.listen(),_textEditor2.default.prototype.close.apply(this,arguments)},HandsontableEditor.prototype.focus=function(){this.instance.listen(),_textEditor2.default.prototype.focus.apply(this,arguments)},HandsontableEditor.prototype.beginEditing=function(initialValue){var onBeginEditing=this.instance.getSettings().onBeginEditing;onBeginEditing&&!1===onBeginEditing()||_textEditor2.default.prototype.beginEditing.apply(this,arguments)},HandsontableEditor.prototype.finishEditing=function(isCancelled,ctrlDown){if(this.htEditor&&this.htEditor.isListening()&&this.instance.listen(),this.htEditor&&this.htEditor.getSelected()){var value=this.htEditor.getInstance().getValue();void 0!==value&&this.setValue(value)}return _textEditor2.default.prototype.finishEditing.apply(this,arguments)},HandsontableEditor.prototype.assignHooks=function(){var _this=this;this.instance.addHook("afterDestroy",function(){_this.htEditor&&_this.htEditor.destroy()})},exports.default=HandsontableEditor},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.getNormalizedDate=function(dateString){var nativeDate=new Date(dateString);return isNaN(new Date(dateString+"T00:00").getDate())?nativeDate:new Date(nativeDate.getTime()+6e4*nativeDate.getTimezoneOffset())}},function(module,exports,__webpack_require__){"use strict";function countQuotes(str){return str.split('"').length-1}var SheetClip;window,SheetClip={parse:function(str){var r,rLen,rows,c,cLen,multiline,last,arr=[],a=0;for(1<(rows=str.split("\n")).length&&""===rows[rows.length-1]&&rows.pop(),r=0,rLen=rows.length;r<rLen;r+=1){for(rows[r]=rows[r].split("\t"),c=0,cLen=rows[r].length;c<cLen;c+=1)arr[a]||(arr[a]=[]),multiline&&0===c?(last=arr[a].length-1,arr[a][last]=arr[a][last]+"\n"+rows[r][0],multiline&&1&countQuotes(rows[r][0])&&(multiline=!1,arr[a][last]=arr[a][last].substring(0,arr[a][last].length-1).replace(/""/g,'"'))):multiline=c===cLen-1&&0===rows[r][c].indexOf('"')&&1&countQuotes(rows[r][c])?(arr[a].push(rows[r][c].substring(1).replace(/""/g,'"')),!0):(arr[a].push(rows[r][c].replace(/""/g,'"')),!1);multiline||(a+=1)}return arr},stringify:function(arr){var r,rLen,c,cLen,val,str="";for(r=0,rLen=arr.length;r<rLen;r+=1){for(cLen=arr[r].length,c=0;c<cLen;c+=1)0<c&&(str+="\t"),"string"==typeof(val=arr[r][c])?-1<val.indexOf("\n")?str+='"'+val.replace(/"/g,'""')+'"':str+=val:str+=null==val?"":val;r!==rLen-1&&(str+="\n")}return str}},exports.parse=SheetClip.parse,exports.stringify=SheetClip.stringify},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.RecordTranslator=void 0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}exports.registerIdentity=function(identity,hot){identities.set(identity,hot)},exports.getTranslator=function(identity){var singleton=void 0;if(!(identity instanceof _core2.default)){if(!identities.has(identity))throw Error("Record translator was not registered for this object identity");identity=identities.get(identity)}translatorSingletons.has(identity)?singleton=translatorSingletons.get(identity):(singleton=new RecordTranslator(identity),translatorSingletons.set(identity,singleton));return singleton};var obj,_core=__webpack_require__(82),_core2=(obj=_core)&&obj.__esModule?obj:{default:obj},_object=__webpack_require__(1);var RecordTranslator=function(){function RecordTranslator(hot){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RecordTranslator),this.hot=hot}return _createClass(RecordTranslator,[{key:"toVisualRow",value:function(row){return this.hot.runHooks("unmodifyRow",row)}},{key:"toVisualColumn",value:function(column){return this.hot.runHooks("unmodifyCol",column)}},{key:"toVisual",value:function(row,column){return(0,_object.isObject)(row)?{row:this.toVisualRow(row.row),column:this.toVisualColumn(row.column)}:[this.toVisualRow(row),this.toVisualColumn(column)]}},{key:"toPhysicalRow",value:function(row){return this.hot.runHooks("modifyRow",row)}},{key:"toPhysicalColumn",value:function(column){return this.hot.runHooks("modifyCol",column)}},{key:"toPhysical",value:function(row,column){return(0,_object.isObject)(row)?{row:this.toPhysicalRow(row.row),column:this.toPhysicalColumn(row.column)}:[this.toPhysicalRow(row),this.toPhysicalColumn(column)]}}]),RecordTranslator}();exports.RecordTranslator=RecordTranslator;var identities=new WeakMap,translatorSingletons=new WeakMap},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.registerAsRootInstance=function(object){holder.set(object,!0)},exports.hasValidParameter=function(rootSymbol){return rootSymbol===rootInstanceSymbol},exports.isRootInstance=function(object){return holder.has(object)};var holder=exports.holder=new WeakMap,rootInstanceSymbol=exports.rootInstanceSymbol=Symbol("rootInstance")},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_mixed=__webpack_require__(22),_object=__webpack_require__(1);function DefaultSettings(){}DefaultSettings.prototype={licenseKey:"trial",data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:void 0,colHeaders:null,colWidths:void 0,rowHeights:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedRowsBottom:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,persistentState:void 0,currentRowClassName:void 0,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",className:void 0,tableClassName:void 0,stretchH:"none",isEmptyRow:function(row){var col,colLen,value,meta;for(col=0,colLen=this.countCols();col<colLen;col++)if(""!==(value=this.getDataAtCell(row,col))&&null!==value&&(0,_mixed.isDefined)(value))return"object"===(void 0===value?"undefined":_typeof(value))&&(meta=this.getCellMeta(row,col),(0,_object.isObjectEquals)(this.getSchema()[meta.prop],value));return!0},isEmptyCol:function(col){var row,rowLen,value;for(row=0,rowLen=this.countRows();row<rowLen;row++)if(""!==(value=this.getDataAtCell(row,col))&&null!==value&&(0,_mixed.isDefined)(value))return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,allowEmpty:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,skipColumnOnPaste:!1,search:!1,type:"text",copyable:!0,editor:void 0,autoComplete:void 0,visibleRows:10,trimDropdown:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,copyPaste:!0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",validator:void 0,disableVisualSelection:!1,sortIndicator:void 0,manualColumnFreeze:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,label:void 0,format:void 0,language:void 0,selectOptions:void 0,autoColumnSize:void 0,autoRowSize:void 0,dateFormat:void 0,correctFormat:!1,defaultDate:void 0,strict:void 0,allowHtml:!1,renderAllRows:void 0,preventOverflow:!1,bindRowsWithHeaders:void 0,collapsibleColumns:void 0,columnSummary:void 0,dropdownMenu:void 0,filters:void 0,formulas:void 0,ganttChart:void 0,headerTooltips:void 0,hiddenColumns:void 0,hiddenRows:void 0,nestedHeaders:void 0,trimRows:void 0,rowHeaderWidth:void 0,columnHeaderHeight:void 0,observeChanges:void 0,sortFunction:void 0,sortByRelevance:!0,filter:!0,filteringCaseSensitive:!1},exports.default=DefaultSettings},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _object=__webpack_require__(1),_number=__webpack_require__(6),_mixed=__webpack_require__(22);var SamplesGenerator=function(){function SamplesGenerator(dataFactory){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SamplesGenerator),this.samples=null,this.dataFactory=dataFactory,this.customSampleCount=null,this.allowDuplicates=!1}return _createClass(SamplesGenerator,null,[{key:"SAMPLE_COUNT",get:function(){return 3}}]),_createClass(SamplesGenerator,[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:SamplesGenerator.SAMPLE_COUNT}},{key:"setSampleCount",value:function(sampleCount){this.customSampleCount=sampleCount}},{key:"setAllowDuplicates",value:function(allowDuplicates){this.allowDuplicates=allowDuplicates}},{key:"generateRowSamples",value:function(rowRange,colRange){return this.generateSamples("row",colRange,rowRange)}},{key:"generateColumnSamples",value:function(colRange,rowRange){return this.generateSamples("col",rowRange,colRange)}},{key:"generateSamples",value:function(type,range,specifierRange){var _this=this,samples=new Map;return"number"==typeof specifierRange&&(specifierRange={from:specifierRange,to:specifierRange}),(0,_number.rangeEach)(specifierRange.from,specifierRange.to,function(index){var sample=_this.generateSample(type,range,index);samples.set(index,sample)}),samples}},{key:"generateSample",value:function(type,range,specifierValue){var _this2=this,samples=new Map,sampledValues=[],length=void 0;return(0,_number.rangeEach)(range.from,range.to,function(index){var value=void 0;if("row"===type)value=_this2.dataFactory(specifierValue,index);else{if("col"!==type)throw new Error("Unsupported sample type");value=_this2.dataFactory(index,specifierValue)}length=(0,_object.isObject)(value)?Object.keys(value).length:Array.isArray(value)?value.length:(0,_mixed.stringify)(value).length,samples.has(length)||samples.set(length,{needed:_this2.getSampleCount(),strings:[]});var sample=samples.get(length);if(sample.needed&&(!(-1<sampledValues.indexOf(value))||_this2.allowDuplicates)){var computedKey="row"===type?"col":"row";sample.strings.push(function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({value:value},computedKey,index)),sampledValues.push(value),sample.needed--}}),samples}}]),SamplesGenerator}();exports.default=SamplesGenerator},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _array=__webpack_require__(2),_object=__webpack_require__(1),_number=__webpack_require__(6),arrayMapper={_arrayMap:[],getValueByIndex:function(index){var value;return void 0===(value=this._arrayMap[index])?null:value},getIndexByValue:function(value){var index;return-1===(index=this._arrayMap.indexOf(value))?null:index},insertItems:function(index){var _this=this,amount=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,newIndex=(0,_array.arrayMax)(this._arrayMap)+1,addedItems=[];return(0,_number.rangeEach)(amount-1,function(count){addedItems.push(_this._arrayMap.splice(index+count,0,newIndex+count))}),addedItems},removeItems:function(index){var _this2=this,amount=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,removedItems=[];if(Array.isArray(index)){var mapCopy=[].concat(this._arrayMap);index.sort(function(a,b){return b-a}),removedItems=(0,_array.arrayReduce)(index,function(acc,item){return _this2._arrayMap.splice(item,1),acc.concat(mapCopy.slice(item,item+1))},[])}else removedItems=this._arrayMap.splice(index,amount);return removedItems},unshiftItems:function(index){var amount=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,removedItems=this.removeItems(index,amount);this._arrayMap=(0,_array.arrayMap)(this._arrayMap,function(logicalRow,physicalRow){var rowShift=function(logicalRow){return(0,_array.arrayReduce)(removedItems,function(count,removedLogicalRow){return removedLogicalRow<logicalRow&&count++,count},0)}(logicalRow);return rowShift&&(logicalRow-=rowShift),logicalRow})},shiftItems:function(index){var _this3=this,amount=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this._arrayMap=(0,_array.arrayMap)(this._arrayMap,function(row){return index<=row&&(row+=amount),row}),(0,_number.rangeEach)(amount-1,function(count){_this3._arrayMap.splice(index+count,0,index+count)})},clearMap:function(){this._arrayMap.length=0}};(0,_object.defineGetter)(arrayMapper,"MIXIN_NAME","arrayMapper",{writable:!1,enumerable:!1}),exports.default=arrayMapper},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _number=__webpack_require__(6);var BaseUI=function(){function BaseUI(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseUI),this.hot=hotInstance,this._element=null,this.state=0}return _createClass(BaseUI,[{key:"appendTo",value:function(wrapper){wrapper.appendChild(this._element),this.state=2}},{key:"build",value:function(){this._element=document.createElement("div"),this.state=1}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return 1<=this.state}},{key:"setPosition",value:function(top,left){(0,_number.isNumeric)(top)&&(this._element.style.top=top+"px"),(0,_number.isNumeric)(left)&&(this._element.style.left=left+"px")}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(width,height){(0,_number.isNumeric)(width)&&(this._element.style.width=width+"px"),(0,_number.isNumeric)(height)&&(this._element.style.height=height+"px")}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(top,left){(0,_number.isNumeric)(top)&&(this._element.style.marginTop=top+"px"),(0,_number.isNumeric)(left)&&(this._element.style.marginLeft=left+"px")}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),BaseUI}();exports.default=BaseUI},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var BaseUI=function(){function BaseUI(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseUI),this.hot=hotInstance,this._element=null,this.state=0}return _createClass(BaseUI,[{key:"appendTo",value:function(wrapper){wrapper.appendChild(this._element),this.state=2}},{key:"build",value:function(){this._element=document.createElement("div"),this.state=1}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=0}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return 1<=this.state}},{key:"setPosition",value:function(top,left){void 0!==top&&(this._element.style.top=top+"px"),void 0!==left&&(this._element.style.left=left+"px")}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(width,height){width&&(this._element.style.width=width+"px"),height&&(this._element.style.height=height+"px")}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(top,left){top&&(this._element.style.marginTop=top+"px"),left&&(this._element.style.marginLeft=left+"px")}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),BaseUI}();exports.default=BaseUI},function(module,exports,__webpack_require__){"use strict";var jsonpatch,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__extends=function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OriginalError=Error;!function(jsonpatch){var _objectKeys=function(obj){if(_isArray(obj)){for(var keys=new Array(obj.length),k=0;k<keys.length;k++)keys[k]=""+k;return keys}if(Object.keys)return Object.keys(obj);keys=[];for(var i in obj)obj.hasOwnProperty(i)&&keys.push(i);return keys};var objOps={add:function(obj,key){return obj[key]=this.value,!0},remove:function(obj,key){return delete obj[key],!0},replace:function(obj,key){return obj[key]=this.value,!0},move:function(obj,key,tree){var temp={op:"_get",path:this.from};return apply(tree,[temp]),apply(tree,[{op:"remove",path:this.from}]),apply(tree,[{op:"add",path:this.path,value:temp.value}]),!0},copy:function(obj,key,tree){var temp={op:"_get",path:this.from};return apply(tree,[temp]),apply(tree,[{op:"add",path:this.path,value:temp.value}]),!0},test:function(obj,key){return function _equals(a,b){switch(void 0===a?"undefined":_typeof(a)){case"undefined":case"boolean":case"string":case"number":return a===b;case"object":if(null===a)return null===b;if(_isArray(a)){if(!_isArray(b)||a.length!==b.length)return!1;for(var i=0,l=a.length;i<l;i++)if(!_equals(a[i],b[i]))return!1;return!0}var bLength=_objectKeys(b).length;if(_objectKeys(a).length!==bLength)return!1;for(i=0;i<bLength;i++)if(!_equals(a[i],b[i]))return!1;return!0;default:return!1}}(obj[key],this.value)},_get:function(obj,key){this.value=obj[key]}},arrOps={add:function(arr,i){return arr.splice(i,0,this.value),!0},remove:function(arr,i){return arr.splice(i,1),!0},replace:function(arr,i){return arr[i]=this.value,!0},move:objOps.move,copy:objOps.copy,test:objOps.test,_get:objOps._get},rootOps={add:function(obj){for(var key in rootOps.remove.call(this,obj),this.value)this.value.hasOwnProperty(key)&&(obj[key]=this.value[key]);return!0},remove:function(obj){for(var key in obj)obj.hasOwnProperty(key)&&objOps.remove.call(this,obj,key);return!0},replace:function(obj){return apply(obj,[{op:"remove",path:this.path}]),apply(obj,[{op:"add",path:this.path,value:this.value}]),!0},move:objOps.move,copy:objOps.copy,test:function(obj){return JSON.stringify(obj)===JSON.stringify(this.value)},_get:function(obj){this.value=obj}};function escapePathComponent(str){return-1===str.indexOf("/")&&-1===str.indexOf("~")?str:str.replace(/~/g,"~0").replace(/\//g,"~1")}var _isArray,beforeDict=[],Mirror=function(obj){this.observers=[],this.obj=obj},ObserverInfo=function(callback,observer){this.callback=callback,this.observer=observer};function deepClone(obj){return"object"===(void 0===obj?"undefined":_typeof(obj))?JSON.parse(JSON.stringify(obj)):obj}function generate(observer){for(var mirror,i=0,ilen=beforeDict.length;i<ilen;i++)if(beforeDict[i].obj===observer.object){mirror=beforeDict[i];break}_generate(mirror.value,observer.object,observer.patches,""),observer.patches.length&&apply(mirror.value,observer.patches);var temp=observer.patches;return 0<temp.length&&(observer.patches=[],observer.callback&&observer.callback(temp)),temp}function _generate(mirror,obj,patches,path){for(var newKeys=_objectKeys(obj),oldKeys=_objectKeys(mirror),deleted=!1,t=oldKeys.length-1;0<=t;t--){var oldVal=mirror[key=oldKeys[t]];if(obj.hasOwnProperty(key)){var newVal=obj[key];"object"==(void 0===oldVal?"undefined":_typeof(oldVal))&&null!=oldVal&&"object"==(void 0===newVal?"undefined":_typeof(newVal))&&null!=newVal?_generate(oldVal,newVal,patches,path+"/"+escapePathComponent(key)):oldVal!=newVal&&(!0,patches.push({op:"replace",path:path+"/"+escapePathComponent(key),value:deepClone(newVal)}))}else patches.push({op:"remove",path:path+"/"+escapePathComponent(key)}),deleted=!0}if(deleted||newKeys.length!=oldKeys.length)for(t=0;t<newKeys.length;t++){var key=newKeys[t];mirror.hasOwnProperty(key)||patches.push({op:"add",path:path+"/"+escapePathComponent(key),value:deepClone(obj[key])})}}function isInteger(str){for(var charCode,i=0,len=str.length;i<len;){if(!(48<=(charCode=str.charCodeAt(i))&&charCode<=57))return!1;i++}return!0}function apply(tree,patches,validate){for(var patch,key,result=!1,p=0,plen=patches.length;p<plen;){patch=patches[p],p++;for(var keys=(patch.path||"").split("/"),obj=tree,t=1,len=keys.length,existingPathFragment=void 0;;){if(key=keys[t],validate&&void 0===existingPathFragment&&(void 0===obj[key]?existingPathFragment=keys.slice(0,t).join("/"):t==len-1&&(existingPathFragment=patch.path),void 0!==existingPathFragment&&this.validator(patch,p-1,tree,existingPathFragment)),t++,void 0===key&&len<=t){result=rootOps[patch.op].call(patch,obj,key,tree);break}if(_isArray(obj)){if("-"===key)key=obj.length;else{if(validate&&!isInteger(key))throw new JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",p-1,patch.path,patch);key=parseInt(key,10)}if(len<=t){if(validate&&"add"===patch.op&&key>obj.length)throw new JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",p-1,patch.path,patch);result=arrOps[patch.op].call(patch,obj,key,tree);break}}else if(key&&-1!=key.indexOf("~")&&(key=key.replace(/~1/g,"/").replace(/~0/g,"~")),len<=t){result=objOps[patch.op].call(patch,obj,key,tree);break}obj=obj[key]}}return result}jsonpatch.unobserve=function(root,observer){observer.unobserve()},jsonpatch.observe=function(obj,callback){var observer,mirror=function(obj){for(var i=0,ilen=beforeDict.length;i<ilen;i++)if(beforeDict[i].obj===obj)return beforeDict[i]}(obj);if(mirror?observer=function(mirror,callback){for(var j=0,jlen=mirror.observers.length;j<jlen;j++)if(mirror.observers[j].callback===callback)return mirror.observers[j].observer}(mirror,callback):(mirror=new Mirror(obj),beforeDict.push(mirror)),observer)return observer;if(observer={},mirror.value=deepClone(obj),callback){observer.callback=callback,observer.next=null;var intervals=this.intervals||[100,1e3,1e4,6e4];if(void 0===intervals.push)throw new OriginalError("jsonpatch.intervals must be an array");var currentInterval=0,dirtyCheck=function(){generate(observer)},fastCheck=function(){clearTimeout(observer.next),observer.next=setTimeout(function(){dirtyCheck(),currentInterval=0,observer.next=setTimeout(slowCheck,intervals[currentInterval++])},0)},slowCheck=function slowCheck(){dirtyCheck(),currentInterval==intervals.length&&(currentInterval=intervals.length-1),observer.next=setTimeout(slowCheck,intervals[currentInterval++])};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mousedown",fastCheck),window.addEventListener("mouseup",fastCheck),window.addEventListener("keydown",fastCheck)):(document.documentElement.attachEvent("onmousedown",fastCheck),document.documentElement.attachEvent("onmouseup",fastCheck),document.documentElement.attachEvent("onkeydown",fastCheck))),observer.next=setTimeout(slowCheck,intervals[currentInterval++])}return observer.patches=[],observer.object=obj,observer.unobserve=function(){generate(observer),clearTimeout(observer.next),function(mirror,observer){for(var j=0,jlen=mirror.observers.length;j<jlen;j++)if(mirror.observers[j].observer===observer)return mirror.observers.splice(j,1)}(mirror,observer),"undefined"!=typeof window&&(window.removeEventListener?(window.removeEventListener("mousedown",fastCheck),window.removeEventListener("mouseup",fastCheck),window.removeEventListener("keydown",fastCheck)):(document.documentElement.detachEvent("onmousedown",fastCheck),document.documentElement.detachEvent("onmouseup",fastCheck),document.documentElement.detachEvent("onkeydown",fastCheck)))},mirror.observers.push(new ObserverInfo(callback,observer)),observer},jsonpatch.generate=generate,_isArray=Array.isArray?Array.isArray:function(obj){return obj.push&&"number"==typeof obj.length},jsonpatch.apply=apply,jsonpatch.compare=function(tree1,tree2){var patches=[];return _generate(tree1,tree2,patches,""),patches};var JsonPatchError=function(_super){function JsonPatchError(message,name,index,operation,tree){_super.call(this,message),this.message=message,this.name=name,this.index=index,this.operation=operation,this.tree=tree}return __extends(JsonPatchError,_super),JsonPatchError}(OriginalError);jsonpatch.JsonPatchError=JsonPatchError,jsonpatch.Error=JsonPatchError,jsonpatch.validator=function(operation,index,tree,existingPathFragment){if("object"!==(void 0===operation?"undefined":_typeof(operation))||null===operation||_isArray(operation))throw new JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",index,operation,tree);if(!objOps[operation.op])throw new JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",index,operation,tree);if("string"!=typeof operation.path)throw new JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",index,operation,tree);if(("move"===operation.op||"copy"===operation.op)&&"string"!=typeof operation.from)throw new JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",index,operation,tree);if(("add"===operation.op||"replace"===operation.op||"test"===operation.op)&&void 0===operation.value)throw new JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",index,operation,tree);if(("add"===operation.op||"replace"===operation.op||"test"===operation.op)&&function hasUndefined(obj){if(void 0===obj)return!0;if("array"==typeof obj||"object"==(void 0===obj?"undefined":_typeof(obj)))for(var i in obj)if(hasUndefined(obj[i]))return!0;return!1}(operation.value))throw new JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",index,operation,tree);if(tree)if("add"==operation.op){var pathLen=operation.path.split("/").length,existingPathLen=existingPathFragment.split("/").length;if(pathLen!==existingPathLen+1&&pathLen!==existingPathLen)throw new JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",index,operation,tree)}else if("replace"===operation.op||"remove"===operation.op||"_get"===operation.op){if(operation.path!==existingPathFragment)throw new JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",index,operation,tree)}else if("move"===operation.op||"copy"===operation.op){var existingValue={op:"_get",path:operation.from,value:void 0},error=jsonpatch.validate([existingValue],tree);if(error&&"OPERATION_PATH_UNRESOLVABLE"===error.name)throw new JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",index,operation,tree)}},jsonpatch.validate=function(sequence,tree){try{if(!_isArray(sequence))throw new JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(tree)tree=JSON.parse(JSON.stringify(tree)),apply.call(this,tree,sequence,!0);else for(var i=0;i<sequence.length;i++)this.validator(sequence[i],i)}catch(e){if(e instanceof JsonPatchError)return e;throw e}}}(jsonpatch||(jsonpatch={})),exports.apply=jsonpatch.apply,exports.observe=jsonpatch.observe,exports.unobserve=jsonpatch.unobserve,exports.generate=jsonpatch.generate,exports.compare=jsonpatch.compare,exports.validate=jsonpatch.validate,exports.validator=jsonpatch.validator,exports.JsonPatchError=jsonpatch.JsonPatchError,exports.Error=jsonpatch.Error},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,__webpack_require__(89),__webpack_require__(103),__webpack_require__(104),__webpack_require__(108),__webpack_require__(109),__webpack_require__(111),__webpack_require__(113),__webpack_require__(114),__webpack_require__(115),__webpack_require__(116),__webpack_require__(117),__webpack_require__(118),__webpack_require__(119),__webpack_require__(120),__webpack_require__(122),__webpack_require__(124),__webpack_require__(125),__webpack_require__(126),__webpack_require__(127),__webpack_require__(128),__webpack_require__(129),__webpack_require__(130),__webpack_require__(131),__webpack_require__(132),__webpack_require__(133),__webpack_require__(134),__webpack_require__(135),__webpack_require__(136),__webpack_require__(78),__webpack_require__(137),__webpack_require__(138),__webpack_require__(140),__webpack_require__(141),__webpack_require__(142),__webpack_require__(143),__webpack_require__(144),__webpack_require__(145),__webpack_require__(146),__webpack_require__(148),__webpack_require__(149),__webpack_require__(150),__webpack_require__(152),__webpack_require__(153),__webpack_require__(154),__webpack_require__(201),__webpack_require__(202),__webpack_require__(203);var _editors=__webpack_require__(15),_renderers=__webpack_require__(8),_validators=__webpack_require__(27),_cellTypes=__webpack_require__(81),_core2=_interopRequireDefault(__webpack_require__(82)),_jquery2=_interopRequireDefault(__webpack_require__(246)),_eventManager=__webpack_require__(4),_eventManager2=_interopRequireDefault(_eventManager),_pluginHooks2=_interopRequireDefault(__webpack_require__(7)),_ghostTable2=_interopRequireDefault(__webpack_require__(85)),arrayHelpers=_interopRequireWildcard(__webpack_require__(2)),browserHelpers=_interopRequireWildcard(__webpack_require__(26)),dataHelpers=_interopRequireWildcard(__webpack_require__(84)),dateHelpers=_interopRequireWildcard(__webpack_require__(170)),featureHelpers=_interopRequireWildcard(__webpack_require__(34)),functionHelpers=_interopRequireWildcard(__webpack_require__(35)),mixedHelpers=_interopRequireWildcard(__webpack_require__(22)),numberHelpers=_interopRequireWildcard(__webpack_require__(6)),objectHelpers=_interopRequireWildcard(__webpack_require__(1)),settingHelpers=_interopRequireWildcard(__webpack_require__(83)),stringHelpers=_interopRequireWildcard(__webpack_require__(32)),unicodeHelpers=_interopRequireWildcard(__webpack_require__(18)),domHelpers=_interopRequireWildcard(__webpack_require__(0)),domEventHelpers=_interopRequireWildcard(__webpack_require__(10)),plugins=_interopRequireWildcard(__webpack_require__(247)),_plugins=__webpack_require__(5),_defaultSettings2=_interopRequireDefault(__webpack_require__(174)),_rootInstance=__webpack_require__(173);function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Handsontable(rootElement,userSettings){var instance=new _core2.default(rootElement,userSettings||{},_rootInstance.rootInstanceSymbol);return instance.init(),instance}(0,_jquery2.default)(Handsontable),Handsontable.Core=_core2.default,Handsontable.DefaultSettings=_defaultSettings2.default,Handsontable.EventManager=_eventManager2.default,Handsontable._getListenersCounter=_eventManager.getListenersCounter,Handsontable.buildDate="12/10/2017 10:04:29",Handsontable.packageName="handsontable",Handsontable.version="0.34.5";Handsontable.hooks=_pluginHooks2.default.getSingleton(),Handsontable.__GhostTable=_ghostTable2.default;var HELPERS=[arrayHelpers,browserHelpers,dataHelpers,dateHelpers,featureHelpers,functionHelpers,mixedHelpers,numberHelpers,objectHelpers,settingHelpers,stringHelpers,unicodeHelpers],DOM=[domHelpers,domEventHelpers];Handsontable.helper={},Handsontable.dom={},arrayHelpers.arrayEach(HELPERS,function(helper){arrayHelpers.arrayEach(Object.getOwnPropertyNames(helper),function(key){"_"!==key.charAt(0)&&(Handsontable.helper[key]=helper[key])})}),arrayHelpers.arrayEach(DOM,function(helper){arrayHelpers.arrayEach(Object.getOwnPropertyNames(helper),function(key){"_"!==key.charAt(0)&&(Handsontable.dom[key]=helper[key])})}),Handsontable.cellTypes={},arrayHelpers.arrayEach((0,_cellTypes.getRegisteredCellTypeNames)(),function(cellTypeName){Handsontable.cellTypes[cellTypeName]=(0,_cellTypes.getCellType)(cellTypeName)}),Handsontable.cellTypes.registerCellType=_cellTypes.registerCellType,Handsontable.cellTypes.getCellType=_cellTypes.getCellType,Handsontable.editors={},arrayHelpers.arrayEach((0,_editors.getRegisteredEditorNames)(),function(editorName){Handsontable.editors[stringHelpers.toUpperCaseFirst(editorName)+"Editor"]=(0,_editors.getEditor)(editorName)}),Handsontable.editors.registerEditor=_editors.registerEditor,Handsontable.editors.getEditor=_editors.getEditor,Handsontable.renderers={},arrayHelpers.arrayEach((0,_renderers.getRegisteredRendererNames)(),function(rendererName){var renderer=(0,_renderers.getRenderer)(rendererName);"base"===rendererName&&(Handsontable.renderers.cellDecorator=renderer),Handsontable.renderers[stringHelpers.toUpperCaseFirst(rendererName)+"Renderer"]=renderer}),Handsontable.renderers.registerRenderer=_renderers.registerRenderer,Handsontable.renderers.getRenderer=_renderers.getRenderer,Handsontable.validators={},arrayHelpers.arrayEach((0,_validators.getRegisteredValidatorNames)(),function(validatorName){Handsontable.validators[stringHelpers.toUpperCaseFirst(validatorName)+"Validator"]=(0,_validators.getValidator)(validatorName)}),Handsontable.validators.registerValidator=_validators.registerValidator,Handsontable.validators.getValidator=_validators.getValidator,Handsontable.plugins={},arrayHelpers.arrayEach(Object.getOwnPropertyNames(plugins),function(pluginName){var plugin=plugins[pluginName];"Base"===pluginName?Handsontable.plugins[pluginName+"Plugin"]=plugin:Handsontable.plugins[pluginName]=plugin}),Handsontable.plugins.registerPlugin=_plugins.registerPlugin,exports.default=Handsontable},function(module,exports,__webpack_require__){var dP=__webpack_require__(17),anObject=__webpack_require__(16),getKeys=__webpack_require__(36);module.exports=__webpack_require__(20)?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;i<length;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(66),descriptor=__webpack_require__(43),setToStringTag=__webpack_require__(46),IteratorPrototype={};__webpack_require__(29)(IteratorPrototype,__webpack_require__(9)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var has=__webpack_require__(24),toObject=__webpack_require__(38),IE_PROTO=__webpack_require__(68)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14),setPrototypeOf=__webpack_require__(102).set;module.exports=function(that,target,C){var P,S=target.constructor;return S!==C&&"function"==typeof S&&(P=S.prototype)!==C.prototype&&isObject(P)&&setPrototypeOf&&setPrototypeOf(that,P),that}},function(module,exports,__webpack_require__){var speciesConstructor=__webpack_require__(186);module.exports=function(original,length){return new(speciesConstructor(original))(length)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(14),isArray=__webpack_require__(105),SPECIES=__webpack_require__(9)("species");module.exports=function(original){var C;return isArray(original)&&("function"!=typeof(C=original.constructor)||C!==Array&&!isArray(C.prototype)||(C=void 0),isObject(C)&&null===(C=C[SPECIES])&&(C=void 0)),void 0===C?Array:C}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(16),aFunction=__webpack_require__(55),SPECIES=__webpack_require__(9)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||null==(S=anObject(C)[SPECIES])?D:aFunction(S)}},function(module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__webpack_require__){var global=__webpack_require__(11),macrotask=__webpack_require__(73).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==__webpack_require__(37)(process);module.exports=function(){function flush(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()}var head,last,notify;if(isNode)notify=function(){process.nextTick(flush)};else if(Observer){var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}else if(Promise&&Promise.resolve){var promise=Promise.resolve();notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},function(module,exports){module.exports=function(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(16),isObject=__webpack_require__(14),newPromiseCapability=__webpack_require__(110);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},function(module,exports,__webpack_require__){var global=__webpack_require__(11),core=__webpack_require__(44),LIBRARY=__webpack_require__(58),wksExt=__webpack_require__(112),defineProperty=__webpack_require__(17).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(36),gOPS=__webpack_require__(61),pIE=__webpack_require__(48);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(25),gOPN=__webpack_require__(74).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}}(it):gOPN(toIObject(it))}},function(module,exports){module.exports=Object.is||function(x,y){return x===y?0!==x||1/x==1/y:x!=x&&y!=y}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(52),defined=__webpack_require__(33);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||l<=i?TO_STRING?"":void 0:(a=s.charCodeAt(i))<55296||56319<a||i+1===l||(b=s.charCodeAt(i+1))<56320||57343<b?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},function(module,exports,__webpack_require__){"use strict";var anObject=__webpack_require__(16);module.exports=function(){var that=anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}},function(module,exports,__webpack_require__){"use strict";var toObject=__webpack_require__(38),toAbsoluteIndex=__webpack_require__(53),toLength=__webpack_require__(21);module.exports=[].copyWithin||function(target,start){var O=toObject(this),len=toLength(O.length),to=toAbsoluteIndex(target,len),from=toAbsoluteIndex(start,len),end=2<arguments.length?arguments[2]:void 0,count=Math.min((void 0===end?len:toAbsoluteIndex(end,len))-from,len-to),inc=1;for(from<to&&to<from+count&&(inc=-1,from+=count-1,to+=count-1);0<count--;)from in O?O[to]=O[from]:delete O[to],to+=inc,from+=inc;return O}},function(module,exports,__webpack_require__){"use strict";var toObject=__webpack_require__(38),toAbsoluteIndex=__webpack_require__(53),toLength=__webpack_require__(21);module.exports=function(value){for(var O=toObject(this),length=toLength(O.length),aLen=arguments.length,index=toAbsoluteIndex(1<aLen?arguments[1]:void 0,length),end=2<aLen?arguments[2]:void 0,endPos=void 0===end?length:toAbsoluteIndex(end,length);index<endPos;)O[index++]=value;return O}},function(module,exports,__webpack_require__){var gOPN=__webpack_require__(74),gOPS=__webpack_require__(61),anObject=__webpack_require__(16),Reflect=__webpack_require__(11).Reflect;module.exports=Reflect&&Reflect.ownKeys||function(it){var keys=gOPN.f(anObject(it)),getSymbols=gOPS.f;return getSymbols?keys.concat(getSymbols(it)):keys}},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_element=__webpack_require__(0),_base=__webpack_require__(31),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj};var DebugOverlay=function(_Overlay){function DebugOverlay(wotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DebugOverlay);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(DebugOverlay.__proto__||Object.getPrototypeOf(DebugOverlay)).call(this,wotInstance));return _this.clone=_this.makeClone(_base2.default.CLONE_DEBUG),_this.clone.wtTable.holder.style.opacity=.4,_this.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",(0,_element.addClass)(_this.clone.wtTable.holder.parentNode,"wtDebugVisible"),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(DebugOverlay,_base2.default),DebugOverlay}();_base2.default.registerOverlay(_base2.default.CLONE_DEBUG,DebugOverlay),exports.default=DebugOverlay},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.toSingleLine=function(strings){for(var _len=arguments.length,expressions=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)expressions[_key-1]=arguments[_key];return(0,_array.arrayReduce)(strings,function(previousValue,currentValue,index){var valueWithoutWhiteSpaces=currentValue.replace(/(?:\r?\n\s+)/g,""),expressionForIndex=expressions[index]?expressions[index]:"";return previousValue+valueWithoutWhiteSpaces+expressionForIndex},"").trim()};var _array=__webpack_require__(2)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_element=__webpack_require__(0),_base=__webpack_require__(31),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj};var LeftOverlay=function(_Overlay){function LeftOverlay(wotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LeftOverlay);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(LeftOverlay.__proto__||Object.getPrototypeOf(LeftOverlay)).call(this,wotInstance));return _this.clone=_this.makeClone(_base2.default.CLONE_LEFT),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(LeftOverlay,_base2.default),_createClass(LeftOverlay,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var overlayRoot=this.clone.wtTable.holder.parentNode,headerPosition=0,preventOverflow=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||preventOverflow&&"horizontal"===preventOverflow)headerPosition=this.getScrollPosition(),(0,_element.resetCssTransform)(overlayRoot);else{var box=this.wot.wtTable.hider.getBoundingClientRect(),left=Math.ceil(box.left),right=Math.ceil(box.right),finalLeft=void 0,finalTop=void 0;finalTop=""===(finalTop=this.wot.wtTable.hider.style.top)?0:finalTop,headerPosition=finalLeft=left<0&&0<right-overlayRoot.offsetWidth?-left:0,finalLeft+="px",(0,_element.setOverlayPosition)(overlayRoot,finalLeft,finalTop)}this.adjustHeaderBordersPosition(headerPosition),this.adjustElementsSize()}}},{key:"setScrollPosition",value:function(pos){this.mainTableScrollableElement===window?window.scrollTo(pos,(0,_element.getWindowScrollTop)()):this.mainTableScrollableElement.scrollLeft=pos}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(from,to){for(var sum=0,defaultColumnWidth=this.wot.wtSettings.defaultColumnWidth;from<to;)sum+=this.wot.wtTable.getStretchedColumnWidth(from)||defaultColumnWidth,from++;return sum}},{key:"adjustElementsSize",value:function(){var force=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||force)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),force||(this.areElementSizesAdjusted=!0))}},{key:"adjustRootElementSize",value:function(){var tableWidth,masterHolder=this.wot.wtTable.holder,scrollbarHeight=masterHolder.clientHeight===masterHolder.offsetHeight?0:(0,_element.getScrollbarWidth)(),overlayRootStyle=this.clone.wtTable.holder.parentNode.style,preventOverflow=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"vertical"===preventOverflow){var height=this.wot.wtViewport.getWorkspaceHeight()-scrollbarHeight;height=Math.min(height,(0,_element.innerHeight)(this.wot.wtTable.wtRootElement)),overlayRootStyle.height=height+"px"}else overlayRootStyle.height="";this.clone.wtTable.holder.style.height=overlayRootStyle.height,tableWidth=(0,_element.outerWidth)(this.clone.wtTable.TABLE),overlayRootStyle.width=(0===tableWidth?tableWidth:tableWidth+4)+"px"}},{key:"adjustRootChildrenSize",value:function(){var scrollbarWidth=(0,_element.getScrollbarWidth)();this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,0===scrollbarWidth&&(scrollbarWidth=30),this.clone.wtTable.holder.style.width=parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+scrollbarWidth+"px"}},{key:"applyToDOM",value:function(){var total=this.wot.getSetting("totalColumns");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==total)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.top=""}},{key:"scrollTo",value:function(sourceCol,beyondRendered){var newX=this.getTableParentOffset(),mainHolder=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,scrollbarCompensation=0;beyondRendered&&mainHolder.offsetWidth!==mainHolder.clientWidth&&(scrollbarCompensation=(0,_element.getScrollbarWidth)()),beyondRendered?(newX+=this.sumCellSizes(0,sourceCol+1),newX-=this.wot.wtViewport.getViewportWidth()):newX+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),sourceCol),newX+=scrollbarCompensation,this.setScrollPosition(newX)}},{key:"getTableParentOffset",value:function(){var offset=0;return this.wot.getSetting("preventOverflow")||this.trimmingContainer!==window||(offset=this.wot.wtTable.holderOffset.left),offset}},{key:"getScrollPosition",value:function(){return(0,_element.getScrollLeft)(this.mainTableScrollableElement)}},{key:"adjustHeaderBordersPosition",value:function(position){var masterParent=this.wot.wtTable.holder.parentNode,rowHeaders=this.wot.getSetting("rowHeaders"),fixedColumnsLeft=this.wot.getSetting("fixedColumnsLeft");if(this.wot.getSetting("totalRows")?(0,_element.removeClass)(masterParent,"emptyRows"):(0,_element.addClass)(masterParent,"emptyRows"),fixedColumnsLeft&&!rowHeaders.length)(0,_element.addClass)(masterParent,"innerBorderLeft");else if(!fixedColumnsLeft&&rowHeaders.length){var previousState=(0,_element.hasClass)(masterParent,"innerBorderLeft");position?(0,_element.addClass)(masterParent,"innerBorderLeft"):(0,_element.removeClass)(masterParent,"innerBorderLeft"),(!previousState&&position||previousState&&!position)&&this.wot.wtOverlays.adjustElementsSize()}}}]),LeftOverlay}();_base2.default.registerOverlay(_base2.default.CLONE_LEFT,LeftOverlay),exports.default=LeftOverlay},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_element=__webpack_require__(0),_base=__webpack_require__(31),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj};var TopOverlay=function(_Overlay){function TopOverlay(wotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TopOverlay);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(TopOverlay.__proto__||Object.getPrototypeOf(TopOverlay)).call(this,wotInstance));return _this.clone=_this.makeClone(_base2.default.CLONE_TOP),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TopOverlay,_base2.default),_createClass(TopOverlay,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var overlayRoot=this.clone.wtTable.holder.parentNode,headerPosition=0,preventOverflow=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||preventOverflow&&"vertical"===preventOverflow)headerPosition=this.getScrollPosition(),(0,_element.resetCssTransform)(overlayRoot);else{var box=this.wot.wtTable.hider.getBoundingClientRect(),top=Math.ceil(box.top),bottom=Math.ceil(box.bottom),finalLeft=void 0,finalTop=void 0;finalLeft=""===(finalLeft=this.wot.wtTable.hider.style.left)?0:finalLeft,headerPosition=finalTop=top<0&&0<bottom-overlayRoot.offsetHeight?-top:0,finalTop+="px",(0,_element.setOverlayPosition)(overlayRoot,finalLeft,finalTop)}this.adjustHeaderBordersPosition(headerPosition),this.adjustElementsSize()}}},{key:"setScrollPosition",value:function(pos){this.mainTableScrollableElement===window?window.scrollTo((0,_element.getWindowScrollLeft)(),pos):this.mainTableScrollableElement.scrollTop=pos}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(from,to){for(var sum=0,defaultRowHeight=this.wot.wtSettings.settings.defaultRowHeight;from<to;){var height=this.wot.wtTable.getRowHeight(from);sum+=void 0===height?defaultRowHeight:height,from++}return sum}},{key:"adjustElementsSize",value:function(){var force=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||force)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),force||(this.areElementSizesAdjusted=!0))}},{key:"adjustRootElementSize",value:function(){var tableHeight,masterHolder=this.wot.wtTable.holder,scrollbarWidth=masterHolder.clientWidth===masterHolder.offsetWidth?0:(0,_element.getScrollbarWidth)(),overlayRootStyle=this.clone.wtTable.holder.parentNode.style,preventOverflow=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"horizontal"===preventOverflow){var width=this.wot.wtViewport.getWorkspaceWidth()-scrollbarWidth;width=Math.min(width,(0,_element.innerWidth)(this.wot.wtTable.wtRootElement)),overlayRootStyle.width=width+"px"}else overlayRootStyle.width="";this.clone.wtTable.holder.style.width=overlayRootStyle.width,tableHeight=(0,_element.outerHeight)(this.clone.wtTable.TABLE),overlayRootStyle.height=(0===tableHeight?tableHeight:tableHeight+4)+"px"}},{key:"adjustRootChildrenSize",value:function(){var scrollbarWidth=(0,_element.getScrollbarWidth)();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===scrollbarWidth&&(scrollbarWidth=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+scrollbarWidth+"px"}},{key:"applyToDOM",value:function(){var total=this.wot.getSetting("totalRows");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==total)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.left=""}},{key:"scrollTo",value:function(sourceRow,bottomEdge){var newY=this.getTableParentOffset(),mainHolder=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,scrollbarCompensation=0;if(bottomEdge&&mainHolder.offsetHeight!==mainHolder.clientHeight&&(scrollbarCompensation=(0,_element.getScrollbarWidth)()),bottomEdge){var fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),totalRows=(this.wot.getSetting("fixedRowsTop"),this.wot.getSetting("totalRows"));newY+=this.sumCellSizes(0,sourceRow+1),newY-=this.wot.wtViewport.getViewportHeight()-this.sumCellSizes(totalRows-fixedRowsBottom,totalRows),newY+=1}else newY+=this.sumCellSizes(this.wot.getSetting("fixedRowsTop"),sourceRow);newY+=scrollbarCompensation,this.setScrollPosition(newY)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return(0,_element.getScrollTop)(this.mainTableScrollableElement)}},{key:"redrawSelectionBorders",value:function(selection){if(selection&&selection.cellRange){var border=selection.getBorder(this.wot);if(border){var corners=selection.getCorners();border.disappear(),border.appear(corners)}}}},{key:"redrawAllSelectionsBorders",value:function(){var selections=this.wot.selections;this.redrawSelectionBorders(selections.current),this.redrawSelectionBorders(selections.area),this.redrawSelectionBorders(selections.fill),this.wot.wtTable.wot.wtOverlays.leftOverlay.refresh()}},{key:"adjustHeaderBordersPosition",value:function(position){var masterParent=this.wot.wtTable.holder.parentNode;if(this.wot.getSetting("totalColumns")?(0,_element.removeClass)(masterParent,"emptyColumns"):(0,_element.addClass)(masterParent,"emptyColumns"),0===this.wot.getSetting("fixedRowsTop")&&0<this.wot.getSetting("columnHeaders").length){var previousState=(0,_element.hasClass)(masterParent,"innerBorderTop");position||0===this.wot.getSetting("totalRows")?(0,_element.addClass)(masterParent,"innerBorderTop"):(0,_element.removeClass)(masterParent,"innerBorderTop"),(!previousState&&position||previousState&&!position)&&(this.wot.wtOverlays.adjustElementsSize(),this.redrawAllSelectionsBorders())}if(0===this.wot.getSetting("rowHeaders").length){var secondHeaderCell=this.clone.wtTable.THEAD.querySelectorAll("th:nth-of-type(2)");if(secondHeaderCell)for(var i=0;i<secondHeaderCell.length;i++)secondHeaderCell[i].style["border-left-width"]=0}}}]),TopOverlay}();_base2.default.registerOverlay(_base2.default.CLONE_TOP,TopOverlay),exports.default=TopOverlay},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_element=__webpack_require__(0),_base=__webpack_require__(31),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj};var TopLeftCornerOverlay=function(_Overlay){function TopLeftCornerOverlay(wotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TopLeftCornerOverlay);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(TopLeftCornerOverlay.__proto__||Object.getPrototypeOf(TopLeftCornerOverlay)).call(this,wotInstance));return _this.clone=_this.makeClone(_base2.default.CLONE_TOP_LEFT_CORNER),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TopLeftCornerOverlay,_base2.default),_createClass(TopLeftCornerOverlay,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length||!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.updateTrimmingContainer(),this.wot.wtTable.holder.parentNode){var overlayRoot=this.clone.wtTable.holder.parentNode,tableHeight=(0,_element.outerHeight)(this.clone.wtTable.TABLE),tableWidth=(0,_element.outerWidth)(this.clone.wtTable.TABLE),preventOverflow=this.wot.getSetting("preventOverflow");if(this.trimmingContainer===window){var box=this.wot.wtTable.hider.getBoundingClientRect(),top=Math.ceil(box.top),left=Math.ceil(box.left),bottom=Math.ceil(box.bottom),right=Math.ceil(box.right),finalLeft="0",finalTop="0";preventOverflow&&"vertical"!==preventOverflow||left<0&&0<right-overlayRoot.offsetWidth&&(finalLeft=-left+"px"),preventOverflow&&"horizontal"!==preventOverflow||top<0&&0<bottom-overlayRoot.offsetHeight&&(finalTop=-top+"px"),(0,_element.setOverlayPosition)(overlayRoot,finalLeft,finalTop)}else(0,_element.resetCssTransform)(overlayRoot);overlayRoot.style.height=(0===tableHeight?tableHeight:tableHeight+4)+"px",overlayRoot.style.width=(0===tableWidth?tableWidth:tableWidth+4)+"px"}}}]),TopLeftCornerOverlay}();_base2.default.registerOverlay(_base2.default.CLONE_TOP_LEFT_CORNER,TopLeftCornerOverlay),exports.default=TopLeftCornerOverlay},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0),_border3=_interopRequireDefault(__webpack_require__(167)),_coords2=_interopRequireDefault(__webpack_require__(49)),_range2=_interopRequireDefault(__webpack_require__(79));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Selection=function(){function Selection(settings,cellRange){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Selection),this.settings=settings,this.cellRange=cellRange||null,this.instanceBorders={}}return _createClass(Selection,[{key:"getBorder",value:function(wotInstance){if(this.instanceBorders[wotInstance.guid])return this.instanceBorders[wotInstance.guid];this.instanceBorders[wotInstance.guid]=new _border3.default(wotInstance,this.settings)}},{key:"isEmpty",value:function(){return null===this.cellRange}},{key:"add",value:function(coords){this.isEmpty()?this.cellRange=new _range2.default(coords,coords,coords):this.cellRange.expand(coords)}},{key:"replace",value:function(oldCoords,newCoords){if(!this.isEmpty()){if(this.cellRange.from.isEqual(oldCoords))return this.cellRange.from=newCoords,!0;if(this.cellRange.to.isEqual(oldCoords))return this.cellRange.to=newCoords,!0}return!1}},{key:"clear",value:function(){this.cellRange=null}},{key:"getCorners",value:function(){var topLeft=this.cellRange.getTopLeftCorner(),bottomRight=this.cellRange.getBottomRightCorner();return[topLeft.row,topLeft.col,bottomRight.row,bottomRight.col]}},{key:"addClassAtCoords",value:function(wotInstance,sourceRow,sourceColumn,className){var TD=wotInstance.wtTable.getCell(new _coords2.default(sourceRow,sourceColumn));"object"===(void 0===TD?"undefined":_typeof(TD))&&(0,_element.addClass)(TD,className)}},{key:"draw",value:function(wotInstance){if(this.isEmpty()){if(this.settings.border){var border=this.getBorder(wotInstance);border&&border.disappear()}}else{for(var renderedRows=wotInstance.wtTable.getRenderedRowsCount(),renderedColumns=wotInstance.wtTable.getRenderedColumnsCount(),corners=this.getCorners(),sourceRow=void 0,sourceCol=void 0,TH=void 0,column=0;column<renderedColumns;column++)if((sourceCol=wotInstance.wtTable.columnFilter.renderedToSource(column))>=corners[1]&&sourceCol<=corners[3]&&(TH=wotInstance.wtTable.getColumnHeader(sourceCol))){var newClasses=[];this.settings.highlightHeaderClassName&&newClasses.push(this.settings.highlightHeaderClassName),this.settings.highlightColumnClassName&&newClasses.push(this.settings.highlightColumnClassName),(0,_element.addClass)(TH,newClasses)}for(var row=0;row<renderedRows;row++){if((sourceRow=wotInstance.wtTable.rowFilter.renderedToSource(row))>=corners[0]&&sourceRow<=corners[2]&&(TH=wotInstance.wtTable.getRowHeader(sourceRow))){var _newClasses=[];this.settings.highlightHeaderClassName&&_newClasses.push(this.settings.highlightHeaderClassName),this.settings.highlightRowClassName&&_newClasses.push(this.settings.highlightRowClassName),(0,_element.addClass)(TH,_newClasses)}for(var _column=0;_column<renderedColumns;_column++)sourceCol=wotInstance.wtTable.columnFilter.renderedToSource(_column),sourceRow>=corners[0]&&sourceRow<=corners[2]&&sourceCol>=corners[1]&&sourceCol<=corners[3]?this.settings.className&&this.addClassAtCoords(wotInstance,sourceRow,sourceCol,this.settings.className):sourceRow>=corners[0]&&sourceRow<=corners[2]?this.settings.highlightRowClassName&&this.addClassAtCoords(wotInstance,sourceRow,sourceCol,this.settings.highlightRowClassName):sourceCol>=corners[1]&&sourceCol<=corners[3]&&this.settings.highlightColumnClassName&&this.addClassAtCoords(wotInstance,sourceRow,sourceCol,this.settings.highlightColumnClassName)}if(wotInstance.getSetting("onBeforeDrawBorders",corners,this.settings.className),this.settings.border){var _border=this.getBorder(wotInstance);_border&&_border.appear(corners)}}}}]),Selection}();exports.default=Selection},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var el,defaults={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},body=document.body,text=document.createTextNode(""),span=document.createElement("SPAN"),observe=function(element,event,handler){element.attachEvent?element.attachEvent("on"+event,handler):element.addEventListener(event,handler,!1)},_unObserve=function(element,event,handler){element.removeEventListener?element.removeEventListener(event,handler,!1):element.detachEvent("on"+event,handler)},resize=function(newChar){var width,scrollHeight;newChar?/^[a-zA-Z \.,\\\/\|0-9]$/.test(newChar)||(newChar="."):newChar="",void 0!==text.textContent?text.textContent=el.value+newChar:text.data=el.value+newChar,span.style.fontSize=getComputedStyle(el).fontSize,span.style.fontFamily=getComputedStyle(el).fontFamily,span.style.whiteSpace="pre",body.appendChild(span),width=span.clientWidth+2,body.removeChild(span),el.style.height=defaults.minHeight+"px",defaults.minWidth>width?el.style.width=defaults.minWidth+"px":width>defaults.maxWidth?el.style.width=defaults.maxWidth+"px":el.style.width=width+"px",scrollHeight=el.scrollHeight?el.scrollHeight-1:0,defaults.minHeight>scrollHeight?el.style.height=defaults.minHeight+"px":defaults.maxHeight<scrollHeight?(el.style.height=defaults.maxHeight+"px",el.style.overflowY="visible"):el.style.height=scrollHeight+"px"},delayedResize=function(){window.setTimeout(resize,0)},_init=function(el_,config,doObserve){el=el_,function(config){if(config&&config.minHeight)if("inherit"==config.minHeight)defaults.minHeight=el.clientHeight;else{var minHeight=parseInt(config.minHeight);isNaN(minHeight)||(defaults.minHeight=minHeight)}if(config&&config.maxHeight)if("inherit"==config.maxHeight)defaults.maxHeight=el.clientHeight;else{var maxHeight=parseInt(config.maxHeight);isNaN(maxHeight)||(defaults.maxHeight=maxHeight)}if(config&&config.minWidth)if("inherit"==config.minWidth)defaults.minWidth=el.clientWidth;else{var minWidth=parseInt(config.minWidth);isNaN(minWidth)||(defaults.minWidth=minWidth)}if(config&&config.maxWidth)if("inherit"==config.maxWidth)defaults.maxWidth=el.clientWidth;else{var maxWidth=parseInt(config.maxWidth);isNaN(maxWidth)||(defaults.maxWidth=maxWidth)}span.firstChild||(span.className="autoResize",span.style.display="inline-block",span.appendChild(text))}(config),"TEXTAREA"==el.nodeName&&(el.style.resize="none",el.style.overflowY="",el.style.height=defaults.minHeight+"px",el.style.minWidth=defaults.minWidth+"px",el.style.maxWidth=defaults.maxWidth+"px",el.style.overflowY="hidden"),doObserve&&(observe(el,"change",resize),observe(el,"cut",delayedResize),observe(el,"paste",delayedResize),observe(el,"drop",delayedResize),observe(el,"keydown",delayedResize),observe(el,"focus",resize)),resize()};function getComputedStyle(element){return element.currentStyle||document.defaultView.getComputedStyle(element)}return{init:function(el_,config,doObserve){_init(el_,config,doObserve)},unObserve:function(){_unObserve(el,"change",resize),_unObserve(el,"cut",delayedResize),_unObserve(el,"paste",delayedResize),_unObserve(el,"drop",delayedResize),_unObserve(el,"keydown",delayedResize),_unObserve(el,"focus",resize)},resize:resize}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_baseEditor=__webpack_require__(41),_baseEditor2=(obj=_baseEditor)&&obj.__esModule?obj:{default:obj},_element=__webpack_require__(0);var CheckboxEditor=function(_BaseEditor){function CheckboxEditor(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CheckboxEditor),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(CheckboxEditor.__proto__||Object.getPrototypeOf(CheckboxEditor)).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(CheckboxEditor,_baseEditor2.default),_createClass(CheckboxEditor,[{key:"beginEditing",value:function(initialValue,event){if(void 0===event){var checkbox=this.TD.querySelector('input[type="checkbox"]');(0,_element.hasClass)(checkbox,"htBadValue")||checkbox.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}]),CheckboxEditor}();exports.default=CheckboxEditor},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _moment2=_interopRequireDefault(__webpack_require__(50)),_pikaday2=_interopRequireDefault(__webpack_require__(213));__webpack_require__(214);var _element=__webpack_require__(0),_object=__webpack_require__(1),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_unicode=__webpack_require__(18),_event=__webpack_require__(10),_textEditor2=_interopRequireDefault(__webpack_require__(51));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DateEditor=function(_TextEditor){function DateEditor(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DateEditor);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(DateEditor.__proto__||Object.getPrototypeOf(DateEditor)).call(this,hotInstance));return _this.defaultDateFormat="DD/MM/YYYY",_this.isCellEdited=!1,_this.parentDestroyed=!1,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(DateEditor,_textEditor2.default),_createClass(DateEditor,[{key:"init",value:function(){var _this2=this;if("function"!=typeof _moment2.default)throw new Error("You need to include moment.js to your project.");if("function"!=typeof _pikaday2.default)throw new Error("You need to include Pikaday to your project.");_get(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",function(){_this2.parentDestroyed=!0,_this2.destroyElements()})}},{key:"createElements",value:function(){_get(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"createElements",this).call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,(0,_element.addClass)(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker),this.$datePicker=new _pikaday2.default(this.getDatePickerConfig()),new _eventManager2.default(this).addEventListener(this.datePicker,"mousedown",function(event){return(0,_event.stopPropagation)(event)}),this.hideDatepicker()}},{key:"destroyElements",value:function(){this.$datePicker.destroy()}},{key:"prepare",value:function(row,col,prop,td,originalValue,cellProperties){this._opened=!1,_get(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"prepare",this).call(this,row,col,prop,td,originalValue,cellProperties)}},{key:"open",value:function(){var event=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;_get(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"open",this).call(this),this.showDatepicker(event)}},{key:"close",value:function(){var _this3=this;this._opened=!1,this.instance._registerTimeout(setTimeout(function(){_this3.instance.selection.refreshBorders()},0)),_get(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var isCancelled=0<arguments.length&&void 0!==arguments[0]&&arguments[0],ctrlDown=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(isCancelled){var value=this.originalValue;void 0!==value&&this.setValue(value)}this.hideDatepicker(),_get(DateEditor.prototype.__proto__||Object.getPrototypeOf(DateEditor.prototype),"finishEditing",this).call(this,isCancelled,ctrlDown)}},{key:"showDatepicker",value:function(event){this.$datePicker.config(this.getDatePickerConfig());var offset=this.TD.getBoundingClientRect(),dateFormat=this.cellProperties.dateFormat||this.defaultDateFormat,datePickerConfig=this.$datePicker.config(),dateStr=void 0,isMouseDown=this.instance.view.isMouseDown(),isMeta=!!event&&(0,_unicode.isMetaKey)(event.keyCode);this.datePickerStyle.top=window.pageYOffset+offset.top+(0,_element.outerHeight)(this.TD)+"px",this.datePickerStyle.left=window.pageXOffset+offset.left+"px",this.$datePicker._onInputFocus=function(){},datePickerConfig.format=dateFormat,this.originalValue?(dateStr=this.originalValue,(0,_moment2.default)(dateStr,dateFormat,!0).isValid()&&this.$datePicker.setMoment((0,_moment2.default)(dateStr,dateFormat),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),isMeta||isMouseDown||this.setValue("")):this.cellProperties.defaultDate?(dateStr=this.cellProperties.defaultDate,datePickerConfig.defaultDate=dateStr,(0,_moment2.default)(dateStr,dateFormat,!0).isValid()&&this.$datePicker.setMoment((0,_moment2.default)(dateStr,dateFormat),!0),isMeta||isMouseDown||this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var _this4=this,htInput=this.TEXTAREA,options={};this.cellProperties&&this.cellProperties.datePickerConfig&&(0,_object.deepExtend)(options,this.cellProperties.datePickerConfig);var origOnSelect=options.onSelect,origOnClose=options.onClose;return options.field=htInput,options.trigger=htInput,options.container=this.datePicker,options.bound=!1,options.format=options.format||this.defaultDateFormat,options.reposition=options.reposition||!1,options.onSelect=function(dateStr){isNaN(dateStr.getTime())||(dateStr=(0,_moment2.default)(dateStr).format(_this4.cellProperties.dateFormat||_this4.defaultDateFormat)),_this4.setValue(dateStr),_this4.hideDatepicker(),origOnSelect&&origOnSelect()},options.onClose=function(){_this4.parentDestroyed||_this4.finishEditing(!1),origOnClose&&origOnClose()},options}}]),DateEditor}();exports.default=DateEditor},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_213__},function(module,exports){},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _autocompleteEditor2=_interopRequireDefault(__webpack_require__(168)),_pluginHooks2=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DropdownEditor=function(_AutocompleteEditor){function DropdownEditor(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DropdownEditor),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(DropdownEditor.__proto__||Object.getPrototypeOf(DropdownEditor)).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(DropdownEditor,_autocompleteEditor2.default),_createClass(DropdownEditor,[{key:"prepare",value:function(row,col,prop,td,originalValue,cellProperties){(function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0})(DropdownEditor.prototype.__proto__||Object.getPrototypeOf(DropdownEditor.prototype),"prepare",this).call(this,row,col,prop,td,originalValue,cellProperties),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}]),DropdownEditor}();_pluginHooks2.default.getSingleton().add("beforeValidate",function(value,row,col,source){var cellMeta=this.getCellMeta(row,this.propToCol(col));cellMeta.editor===DropdownEditor&&void 0===cellMeta.strict&&(cellMeta.filter=!1,cellMeta.strict=!0)}),exports.default=DropdownEditor},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _unicode=__webpack_require__(18),_event=__webpack_require__(10),_element=__webpack_require__(0),_baseEditor2=_interopRequireDefault(__webpack_require__(41)),_eventManager2=_interopRequireDefault(__webpack_require__(4));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MobileTextEditor=_baseEditor2.default.prototype.extend(),domDimensionsCache={};MobileTextEditor.prototype.valueChanged=function(){return this.initValue!=this.getValue()},MobileTextEditor.prototype.init=function(){var that=this;this.eventManager=new _eventManager2.default(this.instance),this.createElements(),this.bindEvents(),this.instance.addHook("afterDestroy",function(){that.destroy()})},MobileTextEditor.prototype.getValue=function(){return this.TEXTAREA.value},MobileTextEditor.prototype.setValue=function(newValue){this.initValue=newValue,this.TEXTAREA.value=newValue},MobileTextEditor.prototype.createElements=function(){this.editorContainer=document.createElement("DIV"),this.editorContainer.className="htMobileEditorContainer",this.cellPointer=document.createElement("DIV"),this.cellPointer.className="cellPointer",this.moveHandle=document.createElement("DIV"),this.moveHandle.className="moveHandle",this.inputPane=document.createElement("DIV"),this.inputPane.className="inputs",this.positionControls=document.createElement("DIV"),this.positionControls.className="positionControls",this.TEXTAREA=document.createElement("TEXTAREA"),(0,_element.addClass)(this.TEXTAREA,"handsontableInput"),this.inputPane.appendChild(this.TEXTAREA),this.editorContainer.appendChild(this.cellPointer),this.editorContainer.appendChild(this.moveHandle),this.editorContainer.appendChild(this.inputPane),this.editorContainer.appendChild(this.positionControls),function(){for(var button in this.controls={},this.controls.leftButton=document.createElement("DIV"),this.controls.leftButton.className="leftButton",this.controls.rightButton=document.createElement("DIV"),this.controls.rightButton.className="rightButton",this.controls.upButton=document.createElement("DIV"),this.controls.upButton.className="upButton",this.controls.downButton=document.createElement("DIV"),this.controls.downButton.className="downButton",this.controls)Object.prototype.hasOwnProperty.call(this.controls,button)&&this.positionControls.appendChild(this.controls[button])}.call(this),document.body.appendChild(this.editorContainer)},MobileTextEditor.prototype.onBeforeKeyDown=function(event){var that=this.getActiveEditor();if(event.target===that.TEXTAREA&&!(0,_event.isImmediatePropagationStopped)(event))switch(event.keyCode){case _unicode.KEY_CODES.ENTER:that.close(),event.preventDefault();break;case _unicode.KEY_CODES.BACKSPACE:(0,_event.stopImmediatePropagation)(event)}},MobileTextEditor.prototype.open=function(){this.instance.addHook("beforeKeyDown",this.onBeforeKeyDown),(0,_element.addClass)(this.editorContainer,"active"),(0,_element.removeClass)(this.cellPointer,"hidden"),this.updateEditorPosition()},MobileTextEditor.prototype.focus=function(){this.TEXTAREA.focus(),(0,_element.setCaretPosition)(this.TEXTAREA,this.TEXTAREA.value.length)},MobileTextEditor.prototype.close=function(){this.TEXTAREA.blur(),this.instance.removeHook("beforeKeyDown",this.onBeforeKeyDown),(0,_element.removeClass)(this.editorContainer,"active")},MobileTextEditor.prototype.scrollToView=function(){var coords=this.instance.getSelectedRange().highlight;this.instance.view.scrollViewport(coords)},MobileTextEditor.prototype.hideCellPointer=function(){(0,_element.hasClass)(this.cellPointer,"hidden")||(0,_element.addClass)(this.cellPointer,"hidden")},MobileTextEditor.prototype.updateEditorPosition=function(x,y){if(x&&y)x=parseInt(x,10),y=parseInt(y,10),this.editorContainer.style.top=y+"px",this.editorContainer.style.left=x+"px";else{var selection=this.instance.getSelected(),selectedCell=this.instance.getCell(selection[0],selection[1]);if(domDimensionsCache.cellPointer||(domDimensionsCache.cellPointer={height:(0,_element.outerHeight)(this.cellPointer),width:(0,_element.outerWidth)(this.cellPointer)}),domDimensionsCache.editorContainer||(domDimensionsCache.editorContainer={width:(0,_element.outerWidth)(this.editorContainer)}),void 0!==selectedCell){var scrollLeft=this.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer==window?0:(0,_element.getScrollLeft)(this.instance.view.wt.wtOverlays.leftOverlay.holder),scrollTop=this.instance.view.wt.wtOverlays.topOverlay.trimmingContainer==window?0:(0,_element.getScrollTop)(this.instance.view.wt.wtOverlays.topOverlay.holder),selectedCellOffset=(0,_element.offset)(selectedCell),selectedCellWidth=(0,_element.outerWidth)(selectedCell),currentScrollPosition_x=scrollLeft,currentScrollPosition_y=scrollTop;this.editorContainer.style.top=parseInt(selectedCellOffset.top+(0,_element.outerHeight)(selectedCell)-currentScrollPosition_y+domDimensionsCache.cellPointer.height,10)+"px",this.editorContainer.style.left=parseInt(window.innerWidth/2-domDimensionsCache.editorContainer.width/2,10)+"px",selectedCellOffset.left+selectedCellWidth/2>parseInt(this.editorContainer.style.left,10)+domDimensionsCache.editorContainer.width?this.editorContainer.style.left=window.innerWidth-domDimensionsCache.editorContainer.width+"px":selectedCellOffset.left+selectedCellWidth/2<parseInt(this.editorContainer.style.left,10)+20&&(this.editorContainer.style.left="0px"),this.cellPointer.style.left=parseInt(selectedCellOffset.left-domDimensionsCache.cellPointer.width/2-(0,_element.offset)(this.editorContainer).left+selectedCellWidth/2-currentScrollPosition_x,10)+"px"}}},MobileTextEditor.prototype.updateEditorData=function(){var selected=this.instance.getSelected(),selectedValue=this.instance.getDataAtCell(selected[0],selected[1]);this.row=selected[0],this.col=selected[1],this.setValue(selectedValue),this.updateEditorPosition()},MobileTextEditor.prototype.prepareAndSave=function(){var val;this.valueChanged()&&(val=this.instance.getSettings().trimWhitespace?[[String.prototype.trim.call(this.getValue())]]:[[this.getValue()]],this.saveValue(val))},MobileTextEditor.prototype.bindEvents=function(){var that=this;this.eventManager.addEventListener(this.controls.leftButton,"touchend",function(event){that.prepareAndSave(),that.instance.selection.transformStart(0,-1,null,!0),that.updateEditorData(),event.preventDefault()}),this.eventManager.addEventListener(this.controls.rightButton,"touchend",function(event){that.prepareAndSave(),that.instance.selection.transformStart(0,1,null,!0),that.updateEditorData(),event.preventDefault()}),this.eventManager.addEventListener(this.controls.upButton,"touchend",function(event){that.prepareAndSave(),that.instance.selection.transformStart(-1,0,null,!0),that.updateEditorData(),event.preventDefault()}),this.eventManager.addEventListener(this.controls.downButton,"touchend",function(event){that.prepareAndSave(),that.instance.selection.transformStart(1,0,null,!0),that.updateEditorData(),event.preventDefault()}),this.eventManager.addEventListener(this.moveHandle,"touchstart",function(event){if(1==event.touches.length){var touch=event.touches[0],onTouchPosition_x=that.editorContainer.offsetLeft,onTouchPosition_y=that.editorContainer.offsetTop,onTouchOffset_x=touch.pageX-onTouchPosition_x,onTouchOffset_y=touch.pageY-onTouchPosition_y;that.eventManager.addEventListener(this,"touchmove",function(event){var touch=event.touches[0];that.updateEditorPosition(touch.pageX-onTouchOffset_x,touch.pageY-onTouchOffset_y),that.hideCellPointer(),event.preventDefault()})}}),this.eventManager.addEventListener(document.body,"touchend",function(event){(0,_element.isChildOf)(event.target,that.editorContainer)||(0,_element.isChildOf)(event.target,that.instance.rootElement)||that.close()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.leftOverlay.holder,"scroll",function(event){that.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer!=window&&that.hideCellPointer()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.topOverlay.holder,"scroll",function(event){that.instance.view.wt.wtOverlays.topOverlay.trimmingContainer!=window&&that.hideCellPointer()})},MobileTextEditor.prototype.destroy=function(){this.eventManager.clear(),this.editorContainer.parentNode.removeChild(this.editorContainer)},exports.default=MobileTextEditor},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _numbro2=_interopRequireDefault(__webpack_require__(80)),_textEditor2=_interopRequireDefault(__webpack_require__(51));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NumericEditor=function(_TextEditor){function NumericEditor(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NumericEditor),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(NumericEditor.__proto__||Object.getPrototypeOf(NumericEditor)).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(NumericEditor,_textEditor2.default),_createClass(NumericEditor,[{key:"beginEditing",value:function(initialValue){if(void 0===initialValue&&this.originalValue){void 0!==this.cellProperties.language&&_numbro2.default.culture(this.cellProperties.language);var decimalDelimiter=_numbro2.default.cultureData().delimiters.decimal;initialValue=(""+this.originalValue).replace(".",decimalDelimiter)}(function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0})(NumericEditor.prototype.__proto__||Object.getPrototypeOf(NumericEditor.prototype),"beginEditing",this).call(this,initialValue)}}]),NumericEditor}();exports.default=NumericEditor},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_element=__webpack_require__(0),_textEditor=__webpack_require__(51),_textEditor2=(obj=_textEditor)&&obj.__esModule?obj:{default:obj};var PasswordEditor=function(_TextEditor){function PasswordEditor(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PasswordEditor),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(PasswordEditor.__proto__||Object.getPrototypeOf(PasswordEditor)).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(PasswordEditor,_textEditor2.default),_createClass(PasswordEditor,[{key:"createElements",value:function(){(function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0})(PasswordEditor.prototype.__proto__||Object.getPrototypeOf(PasswordEditor.prototype),"createElements",this).call(this),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,(this.textareaStyle.height=0,_element.empty)(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}]),PasswordEditor}();exports.default=PasswordEditor},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_element=__webpack_require__(0),_event=__webpack_require__(10),_unicode=__webpack_require__(18),_baseEditor=__webpack_require__(41),_baseEditor2=(obj=_baseEditor)&&obj.__esModule?obj:{default:obj};var SelectEditor=_baseEditor2.default.prototype.extend();SelectEditor.prototype.init=function(){this.select=document.createElement("SELECT"),(0,_element.addClass)(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select),this.registerHooks()},SelectEditor.prototype.registerHooks=function(){var _this=this;this.instance.addHook("afterScrollHorizontally",function(){return _this.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){return _this.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){return _this.refreshDimensions()}),this.instance.addHook("afterRowResize",function(){return _this.refreshDimensions()})},SelectEditor.prototype.prepare=function(){_baseEditor2.default.prototype.prepare.apply(this,arguments);var options,selectOptions=this.cellProperties.selectOptions;for(var option in options="function"==typeof selectOptions?this.prepareOptions(selectOptions(this.row,this.col,this.prop)):this.prepareOptions(selectOptions),(0,_element.empty)(this.select),options)if(Object.prototype.hasOwnProperty.call(options,option)){var optionElement=document.createElement("OPTION");optionElement.value=option,(0,_element.fastInnerHTML)(optionElement,options[option]),this.select.appendChild(optionElement)}},SelectEditor.prototype.prepareOptions=function(optionsToPrepare){var preparedOptions={};if(Array.isArray(optionsToPrepare))for(var i=0,len=optionsToPrepare.length;i<len;i++)preparedOptions[optionsToPrepare[i]]=optionsToPrepare[i];else"object"==(void 0===optionsToPrepare?"undefined":_typeof(optionsToPrepare))&&(preparedOptions=optionsToPrepare);return preparedOptions},SelectEditor.prototype.getValue=function(){return this.select.value},SelectEditor.prototype.setValue=function(value){this.select.value=value};var onBeforeKeyDown=function(event){var editor=this.getActiveEditor();switch(event.keyCode){case _unicode.KEY_CODES.ARROW_UP:var previousOptionIndex=editor.select.selectedIndex-1;0<=previousOptionIndex&&(editor.select[previousOptionIndex].selected=!0),(0,_event.stopImmediatePropagation)(event),event.preventDefault();break;case _unicode.KEY_CODES.ARROW_DOWN:var nextOptionIndex=editor.select.selectedIndex+1;nextOptionIndex<=editor.select.length-1&&(editor.select[nextOptionIndex].selected=!0),(0,_event.stopImmediatePropagation)(event),event.preventDefault()}};SelectEditor.prototype.open=function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.instance.addHook("beforeKeyDown",onBeforeKeyDown)},SelectEditor.prototype.close=function(){this._opened=!1,this.select.style.display="none",this.instance.removeHook("beforeKeyDown",onBeforeKeyDown)},SelectEditor.prototype.focus=function(){this.select.focus()},SelectEditor.prototype.refreshValue=function(){var sourceData=this.instance.getSourceDataAtCell(this.row,this.prop);this.originalValue=sourceData,this.setValue(sourceData),this.refreshDimensions()},SelectEditor.prototype.refreshDimensions=function(){if(this.state===_baseEditor.EditorState.EDITING)if(this.TD=this.getEditedCell(),this.TD){var cssTransformOffset,width=(0,_element.outerWidth)(this.TD)+1,height=(0,_element.outerHeight)(this.TD)+1,currentOffset=(0,_element.offset)(this.TD),containerOffset=(0,_element.offset)(this.instance.rootElement),scrollableContainer=(0,_element.getScrollableElement)(this.TD),editTop=currentOffset.top-containerOffset.top-1-(scrollableContainer.scrollTop||0),editLeft=currentOffset.left-containerOffset.left-1-(scrollableContainer.scrollLeft||0),editorSection=this.checkEditorSection(),settings=this.instance.getSettings();settings.rowHeaders,settings.colHeaders;switch(editorSection){case"top":cssTransformOffset=(0,_element.getCssTransform)(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":cssTransformOffset=(0,_element.getCssTransform)(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":cssTransformOffset=(0,_element.getCssTransform)(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":cssTransformOffset=(0,_element.getCssTransform)(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":cssTransformOffset=(0,_element.getCssTransform)(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}0===this.instance.getSelected()[0]&&(editTop+=1),0===this.instance.getSelected()[1]&&(editLeft+=1);var selectStyle=this.select.style;cssTransformOffset&&-1!=cssTransformOffset?selectStyle[cssTransformOffset[0]]=cssTransformOffset[1]:(0,_element.resetCssTransform)(this.select);var cellComputedStyle=(0,_element.getComputedStyle)(this.TD);0<parseInt(cellComputedStyle.borderTopWidth,10)&&(height-=1),0<parseInt(cellComputedStyle.borderLeftWidth,10)&&(width-=1),selectStyle.height=height+"px",selectStyle.minWidth=width+"px",selectStyle.top=editTop+"px",selectStyle.left=editLeft+"px",selectStyle.margin="0px"}else this.close()},SelectEditor.prototype.getEditedCell=function(){var editedCell;switch(this.checkEditorSection()){case"top":editedCell=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=101;break;case"corner":editedCell=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=103;break;case"left":editedCell=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=102;break;default:editedCell=this.instance.getCell(this.row,this.col),this.select.style.zIndex=""}return-1!=editedCell&&-2!=editedCell?editedCell:void 0},exports.default=SelectEditor},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _element=__webpack_require__(0);exports.default=function(instance,TD,row,col,prop,value,cellProperties){cellProperties.className&&(TD.className?TD.className=TD.className+" "+cellProperties.className:TD.className=cellProperties.className),cellProperties.readOnly&&(0,_element.addClass)(TD,cellProperties.readOnlyCellClassName),!1===cellProperties.valid&&cellProperties.invalidCellClassName?(0,_element.addClass)(TD,cellProperties.invalidCellClassName):(0,_element.removeClass)(TD,cellProperties.invalidCellClassName),!1===cellProperties.wordWrap&&cellProperties.noWordWrapClassName&&(0,_element.addClass)(TD,cellProperties.noWordWrapClassName),!value&&cellProperties.placeholder&&(0,_element.addClass)(TD,cellProperties.placeholderCellClassName)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_element=__webpack_require__(0),_eventManager=__webpack_require__(4),_eventManager2=(obj=_eventManager)&&obj.__esModule?obj:{default:obj},_src=__webpack_require__(12),_index=__webpack_require__(8);var clonableWRAPPER=document.createElement("DIV");clonableWRAPPER.className="htAutocompleteWrapper";var clonableARROW=document.createElement("DIV");clonableARROW.className="htAutocompleteArrow",clonableARROW.appendChild(document.createTextNode(String.fromCharCode(9660)));exports.default=function(instance,TD,row,col,prop,value,cellProperties){clonableWRAPPER.cloneNode(!0);var ARROW=clonableARROW.cloneNode(!0);if(cellProperties.allowHtml?(0,_index.getRenderer)("html").apply(this,arguments):(0,_index.getRenderer)("text").apply(this,arguments),TD.appendChild(ARROW),(0,_element.addClass)(TD,"htAutocomplete"),TD.firstChild||TD.appendChild(document.createTextNode(String.fromCharCode(160))),!instance.acArrowListener){var eventManager=new _eventManager2.default(instance);instance.acArrowListener=function(event){(0,_element.hasClass)(event.target,"htAutocompleteArrow")&&instance.view.wt.getSetting("onCellDblClick",null,new _src.CellCoords(row,col),TD)},eventManager.addEventListener(instance.rootElement,"mousedown",instance.acArrowListener),instance.addHookOnce("afterDestroy",function(){eventManager.destroy()})}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_element=__webpack_require__(0),_string=__webpack_require__(32),_eventManager=__webpack_require__(4),_eventManager2=(obj=_eventManager)&&obj.__esModule?obj:{default:obj},_unicode=__webpack_require__(18),_function=__webpack_require__(35),_event=__webpack_require__(10),_index=__webpack_require__(8);var isListeningKeyDownEvent=new WeakMap,isCheckboxListenerAdded=new WeakMap;function isCheckboxInput(element){return"INPUT"===element.tagName&&"checkbox"===element.getAttribute("type")}exports.default=function(instance,TD,row,col,prop,value,cellProperties){(0,_index.getRenderer)("base").apply(this,arguments),function(instance){var eventManager=isCheckboxListenerAdded.get(instance);eventManager||((eventManager=new _eventManager2.default(instance)).addEventListener(instance.rootElement,"click",function(event){return function(event,instance){if(!isCheckboxInput(event.target))return!1;var row=parseInt(event.target.getAttribute("data-row"),10),col=parseInt(event.target.getAttribute("data-col"),10);instance.getCellMeta(row,col).readOnly&&event.preventDefault()}(event,instance)}),eventManager.addEventListener(instance.rootElement,"mouseup",function(event){return function(event,instance){isCheckboxInput(event.target)&&setTimeout(instance.listen,10)}(event,instance)}),eventManager.addEventListener(instance.rootElement,"change",function(event){return function(event,instance){if(!isCheckboxInput(event.target))return!1;var row=parseInt(event.target.getAttribute("data-row"),10),col=parseInt(event.target.getAttribute("data-col"),10),cellProperties=instance.getCellMeta(row,col);if(!cellProperties.readOnly){var newCheckboxValue=null;newCheckboxValue=event.target.checked?void 0===cellProperties.uncheckedTemplate||cellProperties.checkedTemplate:void 0!==cellProperties.uncheckedTemplate&&cellProperties.uncheckedTemplate,instance.setDataAtCell(row,col,newCheckboxValue)}}(event,instance)}),isCheckboxListenerAdded.set(instance,eventManager))}(instance);var input=function(){var input=document.createElement("input");return input.className="htCheckboxRendererInput",input.type="checkbox",input.setAttribute("autocomplete","off"),input.setAttribute("tabindex","-1"),input.cloneNode(!1)}(),labelOptions=cellProperties.label,badValue=!1;if(void 0===cellProperties.checkedTemplate&&(cellProperties.checkedTemplate=!0),void 0===cellProperties.uncheckedTemplate&&(cellProperties.uncheckedTemplate=!1),(0,_element.empty)(TD),value===cellProperties.checkedTemplate||(0,_string.equalsIgnoreCase)(value,cellProperties.checkedTemplate)?input.checked=!0:value===cellProperties.uncheckedTemplate||(0,_string.equalsIgnoreCase)(value,cellProperties.uncheckedTemplate)?input.checked=!1:null===value?(0,_element.addClass)(input,"noValue"):(input.style.display="none",(0,_element.addClass)(input,"htBadValue"),badValue=!0),input.setAttribute("data-row",row),input.setAttribute("data-col",col),!badValue&&labelOptions){var labelText="";labelOptions.value?labelText="function"==typeof labelOptions.value?labelOptions.value.call(this,row,col,prop,value):labelOptions.value:labelOptions.property&&(labelText=instance.getDataAtRowProp(row,labelOptions.property));var label=function(text){var label=document.createElement("label");return label.className="htCheckboxRendererLabel",label.appendChild(document.createTextNode(text)),label.cloneNode(!0)}(labelText);"before"===labelOptions.position?label.appendChild(input):label.insertBefore(input,label.firstChild),input=label}function changeSelectedCheckboxesState(){var uncheckCheckbox=0<arguments.length&&void 0!==arguments[0]&&arguments[0],selRange=instance.getSelectedRange();if(selRange){for(var topLeft=selRange.getTopLeftCorner(),bottomRight=selRange.getBottomRightCorner(),changes=[],_row=topLeft.row;_row<=bottomRight.row;_row+=1)for(var _col=topLeft.col;_col<=bottomRight.col;_col+=1){var _cellProperties=instance.getCellMeta(_row,_col);if("checkbox"!==_cellProperties.type)return;if(!0!==_cellProperties.readOnly){void 0===_cellProperties.checkedTemplate&&(_cellProperties.checkedTemplate=!0),void 0===_cellProperties.uncheckedTemplate&&(_cellProperties.uncheckedTemplate=!1);var dataAtCell=instance.getDataAtCell(_row,_col);!1===uncheckCheckbox?dataAtCell===_cellProperties.checkedTemplate?changes.push([_row,_col,_cellProperties.uncheckedTemplate]):-1!==[_cellProperties.uncheckedTemplate,null,void 0].indexOf(dataAtCell)&&changes.push([_row,_col,_cellProperties.checkedTemplate]):changes.push([_row,_col,_cellProperties.uncheckedTemplate])}}0<changes.length&&instance.setDataAtCell(changes)}}TD.appendChild(input),badValue&&TD.appendChild(document.createTextNode("#bad-value#")),isListeningKeyDownEvent.has(instance)||(isListeningKeyDownEvent.set(instance,!0),instance.addHook("beforeKeyDown",function(event){var isKeyCode=(0,_function.partial)(_unicode.isKey,event.keyCode);isKeyCode("SPACE|ENTER|DELETE|BACKSPACE")&&!(0,_event.isImmediatePropagationStopped)(event)&&function(callback){var selRange=instance.getSelectedRange();if(selRange)for(var topLeft=selRange.getTopLeftCorner(),bottomRight=selRange.getBottomRightCorner(),_row2=topLeft.row;_row2<=bottomRight.row;_row2++)for(var _col2=topLeft.col;_col2<=bottomRight.col;_col2++){var _cellProperties2=instance.getCellMeta(_row2,_col2);if("checkbox"!==_cellProperties2.type)return;var cell=instance.getCell(_row2,_col2);if(null==cell)callback(_row2,_col2,_cellProperties2);else{var checkboxes=cell.querySelectorAll("input[type=checkbox]");0<checkboxes.length&&!_cellProperties2.readOnly&&callback(checkboxes)}}}(function(){(0,_event.stopImmediatePropagation)(event),event.preventDefault()}),isKeyCode("SPACE|ENTER")&&changeSelectedCheckboxesState(),isKeyCode("DELETE|BACKSPACE")&&changeSelectedCheckboxesState(!0)}))}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _element=__webpack_require__(0),_index=__webpack_require__(8);exports.default=function(instance,TD,row,col,prop,value,cellProperties){(0,_index.getRenderer)("base").apply(this,arguments),null==value&&(value=""),(0,_element.fastInnerHTML)(TD,value)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_numbro=__webpack_require__(80),_numbro2=(obj=_numbro)&&obj.__esModule?obj:{default:obj},_index=__webpack_require__(8),_number=__webpack_require__(6);exports.default=function(instance,TD,row,col,prop,value,cellProperties){if((0,_number.isNumeric)(value)){void 0!==cellProperties.language&&_numbro2.default.culture(cellProperties.language),value=(0,_numbro2.default)(value).format(cellProperties.format||"0");var className=cellProperties.className||"",classArr=className.length?className.split(" "):[];classArr.indexOf("htLeft")<0&&classArr.indexOf("htCenter")<0&&classArr.indexOf("htRight")<0&&classArr.indexOf("htJustify")<0&&classArr.push("htRight"),classArr.indexOf("htNumeric")<0&&classArr.push("htNumeric"),cellProperties.className=classArr.join(" ")}(0,_index.getRenderer)("text")(instance,TD,row,col,prop,value,cellProperties)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _element=__webpack_require__(0),_index=__webpack_require__(8),_number=__webpack_require__(6);exports.default=function(instance,TD,row,col,prop,value,cellProperties){(0,_index.getRenderer)("text").apply(this,arguments),value=TD.innerHTML;var hashLength=cellProperties.hashLength||value.length,hashSymbol=cellProperties.hashSymbol||"*",hash="";(0,_number.rangeEach)(hashLength-1,function(){hash+=hashSymbol}),(0,_element.fastInnerHTML)(TD,hash)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _element=__webpack_require__(0),_mixed=__webpack_require__(22),_index=__webpack_require__(8);exports.default=function(instance,TD,row,col,prop,value,cellProperties){(0,_index.getRenderer)("base").apply(this,arguments),!value&&cellProperties.placeholder&&(value=cellProperties.placeholder);var escaped=(0,_mixed.stringify)(value);if(instance.getSettings().trimWhitespace||(escaped=escaped.replace(/ /g,String.fromCharCode(160))),cellProperties.rendererTemplate){(0,_element.empty)(TD);var TEMPLATE=document.createElement("TEMPLATE");TEMPLATE.setAttribute("bind","{{}}"),TEMPLATE.innerHTML=cellProperties.rendererTemplate,HTMLTemplateElement.decorate(TEMPLATE),TEMPLATE.model=instance.getSourceDataAtRow(row),TD.appendChild(TEMPLATE)}else(0,_element.fastInnerText)(TD,escaped)}},function(module,exports,__webpack_require__){"use strict";function process(value,callback){var originalVal=value;return function(source){for(var found=!1,s=0,slen=source.length;s<slen;s++)if(originalVal===source[s]){found=!0;break}callback(found)}}exports.__esModule=!0,exports.default=function(value,callback){null==value&&(value="");if(this.allowEmpty&&""===value)return void callback(!0);this.strict&&this.source?"function"==typeof this.source?this.source(value,process(value,callback)):process(value,callback)(this.source):callback(!0)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(value,callback){var valid=!0,dateEditor=(0,_editors.getEditorInstance)("date",this.instance);null==value&&(value="");var isValidDate=(0,_moment2.default)(new Date(value)).isValid()||(0,_moment2.default)(value,dateEditor.defaultDateFormat).isValid(),isValidFormat=(0,_moment2.default)(value,this.dateFormat||dateEditor.defaultDateFormat,!0).isValid();this.allowEmpty&&""===value&&(isValidFormat=isValidDate=!0);isValidDate||(valid=!1);!isValidDate&&isValidFormat&&(valid=!0);if(isValidDate&&!isValidFormat)if(!0===this.correctFormat){var correctedValue=correctFormat(value,this.dateFormat),row=this.instance.runHooks("unmodifyRow",this.row),column=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(row,column,correctedValue,"dateValidator"),valid=!0}else valid=!1;callback(valid)},exports.correctFormat=correctFormat;var obj,_moment=__webpack_require__(50),_moment2=(obj=_moment)&&obj.__esModule?obj:{default:obj},_date=__webpack_require__(170),_editors=__webpack_require__(15);function correctFormat(value,dateFormat){var dateFromDate=(0,_moment2.default)((0,_date.getNormalizedDate)(value)),dateFromMoment=(0,_moment2.default)(value,dateFormat),isAlphanumeric=-1<value.search(/[A-z]/g);return(dateFromDate.isValid()&&dateFromDate.format("x")===dateFromMoment.format("x")||!dateFromMoment.isValid()||isAlphanumeric?dateFromDate:dateFromMoment).format(dateFormat)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(value,callback){null==value&&(value="");this.allowEmpty&&""===value?callback(!0):callback(""!==value&&/^-?\d*(\.|,)?\d*$/.test(value))}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(value,callback){var valid=!0,timeFormat=this.timeFormat||"h:mm:ss a";null===value&&(value="");value=/^\d{3,}$/.test(value)?parseInt(value,10):value;var twoDigitValue=/^\d{1,2}$/.test(value);twoDigitValue&&(value+=":00");var date=(0,_moment2.default)(value,STRICT_FORMATS,!0).isValid()?(0,_moment2.default)(value):(0,_moment2.default)(value,timeFormat),isValidTime=date.isValid(),isValidFormat=(0,_moment2.default)(value,timeFormat,!0).isValid()&&!twoDigitValue;this.allowEmpty&&""===value&&(isValidFormat=isValidTime=!0);isValidTime||(valid=!1);!isValidTime&&isValidFormat&&(valid=!0);if(isValidTime&&!isValidFormat)if(!0===this.correctFormat){var correctedValue=date.format(timeFormat),row=this.instance.runHooks("unmodifyRow",this.row),column=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(row,column,correctedValue,"timeValidator"),valid=!0}else valid=!1;callback(valid)};var obj,_moment=__webpack_require__(50),_moment2=(obj=_moment)&&obj.__esModule?obj:{default:obj};var STRICT_FORMATS=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _editors=__webpack_require__(15),_renderers=__webpack_require__(8),_validators=__webpack_require__(27);exports.default={editor:(0,_editors.getEditor)("autocomplete"),renderer:(0,_renderers.getRenderer)("autocomplete"),validator:(0,_validators.getValidator)("autocomplete")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _editors=__webpack_require__(15),_renderers=__webpack_require__(8);exports.default={editor:(0,_editors.getEditor)("checkbox"),renderer:(0,_renderers.getRenderer)("checkbox")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _editors=__webpack_require__(15),_renderers=__webpack_require__(8),_validators=__webpack_require__(27);exports.default={editor:(0,_editors.getEditor)("date"),renderer:(0,_renderers.getRenderer)("autocomplete"),validator:(0,_validators.getValidator)("date")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _editors=__webpack_require__(15),_renderers=__webpack_require__(8),_validators=__webpack_require__(27);exports.default={editor:(0,_editors.getEditor)("dropdown"),renderer:(0,_renderers.getRenderer)("autocomplete"),validator:(0,_validators.getValidator)("autocomplete")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _editors=__webpack_require__(15),_renderers=__webpack_require__(8);exports.default={editor:(0,_editors.getEditor)("handsontable"),renderer:(0,_renderers.getRenderer)("autocomplete")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _editors=__webpack_require__(15),_renderers=__webpack_require__(8),_validators=__webpack_require__(27);exports.default={editor:(0,_editors.getEditor)("numeric"),renderer:(0,_renderers.getRenderer)("numeric"),validator:(0,_validators.getValidator)("numeric"),dataType:"number"}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _editors=__webpack_require__(15),_renderers=__webpack_require__(8);__webpack_require__(27);exports.default={editor:(0,_editors.getEditor)("password"),renderer:(0,_renderers.getRenderer)("password"),copyable:!1}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _browser=__webpack_require__(26),_editors=__webpack_require__(15),_renderers=__webpack_require__(8);exports.default={editor:(0,_browser.isMobileBrowser)()?(0,_editors.getEditor)("mobile"):(0,_editors.getEditor)("text"),renderer:(0,_renderers.getRenderer)("text")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _editors=__webpack_require__(15),_renderers=__webpack_require__(8),_validators=__webpack_require__(27);exports.default={editor:(0,_editors.getEditor)("text"),renderer:(0,_renderers.getRenderer)("text"),validator:(0,_validators.getValidator)("time")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_SheetClip2=_interopRequireDefault(__webpack_require__(171)),_data=__webpack_require__(84),_setting=__webpack_require__(83),_object=__webpack_require__(1),_array=__webpack_require__(2),_interval2=_interopRequireDefault(__webpack_require__(241)),_number=__webpack_require__(6),_multiMap2=_interopRequireDefault(__webpack_require__(242));_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DataMap(instance,priv,GridSettings){var _this=this;this.instance=instance,this.priv=priv,this.GridSettings=GridSettings,this.dataSource=this.instance.getSettings().data,this.cachedLength=null,this.skipCache=!1,this.latestSourceRowsCount=0,this.dataSource&&this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},this.createMap(),this.interval=_interval2.default.create(function(){return _this.clearLengthCache()},"15fps"),this.instance.addHook("skipLengthCache",function(delay){return _this.onSkipLengthCache(delay)}),this.onSkipLengthCache(500)}DataMap.prototype.DESTINATION_RENDERER=1,DataMap.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,DataMap.prototype.recursiveDuckSchema=function(object){return(0,_object.duckSchema)(object)},DataMap.prototype.recursiveDuckColumns=function(schema,lastCol,parent){var prop,i;if(void 0===lastCol&&(lastCol=0,parent=""),"object"===(void 0===schema?"undefined":_typeof(schema))&&!Array.isArray(schema))for(i in schema)(0,_object.hasOwnProperty)(schema,i)&&(null===schema[i]?(prop=parent+i,this.colToPropCache.push(prop),this.propToColCache.set(prop,lastCol),lastCol++):lastCol=this.recursiveDuckColumns(schema[i],lastCol,i+"."));return lastCol},DataMap.prototype.createMap=function(){var i=void 0,schema=this.getSchema();if(void 0===schema)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new _multiMap2.default;var columns=this.instance.getSettings().columns;if(columns){var maxCols=this.instance.getSettings().maxCols,columnsLen=Math.min(maxCols,columns.length),filteredIndex=0,columnsAsFunc=!1,schemaLen=(0,_object.deepObjectSize)(schema);for("function"==typeof columns&&(columnsLen=0<schemaLen?schemaLen:this.instance.countSourceCols(),columnsAsFunc=!0),i=0;i<columnsLen;i++){var column=columnsAsFunc?columns(i):columns[i];if((0,_object.isObject)(column)){if(void 0!==column.data){var index=columnsAsFunc?filteredIndex:i;this.colToPropCache[index]=column.data,this.propToColCache.set(column.data,index)}filteredIndex++}}}else this.recursiveDuckColumns(schema)},DataMap.prototype.colToProp=function(col){return col=this.instance.runHooks("modifyCol",col),!isNaN(col)&&this.colToPropCache&&void 0!==this.colToPropCache[col]?this.colToPropCache[col]:col},DataMap.prototype.propToCol=function(prop){var col;return col=void 0===this.propToColCache.get(prop)?prop:this.propToColCache.get(prop),col=this.instance.runHooks("unmodifyCol",col)},DataMap.prototype.getSchema=function(){var schema=this.instance.getSettings().dataSchema;return schema?"function"==typeof schema?schema():schema:this.duckSchema},DataMap.prototype.createRow=function(index,amount,source){var row,colCount=this.instance.countCols(),numberOfCreatedRows=0;amount||(amount=1),("number"!=typeof index||index>=this.instance.countSourceRows())&&(index=this.instance.countSourceRows()),this.instance.runHooks("beforeCreateRow",index,amount,source);for(var maxRows=this.instance.getSettings().maxRows;numberOfCreatedRows<amount&&this.instance.countSourceRows()<maxRows;)"array"===this.instance.dataType?this.instance.getSettings().dataSchema?row=(0,_object.deepClone)(this.getSchema()):(row=[],(0,_number.rangeEach)(colCount-1,function(){return row.push(null)})):"function"===this.instance.dataType?row=this.instance.getSettings().dataSchema(index):(row={},(0,_object.deepExtend)(row,this.getSchema())),index===this.instance.countSourceRows()?this.dataSource.push(row):this.spliceData(index,0,row),numberOfCreatedRows++,0;return this.instance.runHooks("afterCreateRow",index,numberOfCreatedRows,source),this.instance.forceFullRender=!0,numberOfCreatedRows},DataMap.prototype.createCol=function(index,amount,source){if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var constructor,currentIndex,rlen=this.instance.countSourceRows(),data=this.dataSource,numberOfCreatedCols=0;amount||(amount=1),("number"!=typeof index||index>=this.instance.countCols())&&(index=this.instance.countCols()),this.instance.runHooks("beforeCreateCol",index,amount,source),currentIndex=index;for(var maxCols=this.instance.getSettings().maxCols;numberOfCreatedCols<amount&&this.instance.countCols()<maxCols;){if(constructor=(0,_setting.columnFactory)(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof index||index>=this.instance.countCols()){if(0<rlen)for(var r=0;r<rlen;r++)void 0===data[r]&&(data[r]=[]),data[r].push(null);else data.push([null]);this.priv.columnSettings.push(constructor)}else{for(var _r=0;_r<rlen;_r++)data[_r].splice(currentIndex,0,null);this.priv.columnSettings.splice(currentIndex,0,constructor)}numberOfCreatedCols++,currentIndex++}return this.instance.runHooks("afterCreateCol",index,numberOfCreatedCols,source),this.instance.forceFullRender=!0,numberOfCreatedCols},DataMap.prototype.removeRow=function(index,amount,source){amount||(amount=1),"number"!=typeof index&&(index=-amount),amount=this.instance.runHooks("modifyRemovedAmount",amount,index),index=(this.instance.countSourceRows()+index)%this.instance.countSourceRows();var logicRows=this.visualRowsToPhysical(index,amount);if(!1!==this.instance.runHooks("beforeRemoveRow",index,amount,logicRows,source)){var newData,data=this.dataSource;(newData=this.filterData(index,amount))&&(data.length=0,Array.prototype.push.apply(data,newData)),this.instance.runHooks("afterRemoveRow",index,amount,logicRows,source),this.instance.forceFullRender=!0}},DataMap.prototype.removeCol=function(index,amount,source){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");amount||(amount=1),"number"!=typeof index&&(index=-amount),index=(this.instance.countCols()+index)%this.instance.countCols();var logicColumns=this.visualColumnsToPhysical(index,amount),descendingLogicColumns=logicColumns.slice(0).sort(function(a,b){return b-a});if(!1!==this.instance.runHooks("beforeRemoveCol",index,amount,logicColumns,source)){for(var isTableUniform=!0,removedColumnsCount=descendingLogicColumns.length,data=this.dataSource,c=0;c<removedColumnsCount;c++)isTableUniform&&logicColumns[0]!==logicColumns[c]-c&&(isTableUniform=!1);if(isTableUniform)for(var r=0,rlen=this.instance.countSourceRows();r<rlen;r++)data[r].splice(logicColumns[0],amount);else{for(var _r2=0,_rlen=this.instance.countSourceRows();_r2<_rlen;_r2++)for(var _c=0;_c<removedColumnsCount;_c++)data[_r2].splice(descendingLogicColumns[_c],1);for(var _c2=0;_c2<removedColumnsCount;_c2++)this.priv.columnSettings.splice(logicColumns[_c2],1)}this.instance.runHooks("afterRemoveCol",index,amount,logicColumns,source),this.instance.forceFullRender=!0}},DataMap.prototype.spliceCol=function(col,index,amount){var elements=4<=arguments.length?[].slice.call(arguments,3):[],colData=this.instance.getDataAtCol(col),removed=colData.slice(index,index+amount),after=colData.slice(index+amount);(0,_array.extendArray)(elements,after);for(var i=0;i<amount;)elements.push(null),i++;return(0,_array.to2dArray)(elements),this.instance.populateFromArray(index,col,elements,null,null,"spliceCol"),removed},DataMap.prototype.spliceRow=function(row,index,amount){var elements=4<=arguments.length?[].slice.call(arguments,3):[],rowData=this.instance.getSourceDataAtRow(row),removed=rowData.slice(index,index+amount),after=rowData.slice(index+amount);(0,_array.extendArray)(elements,after);for(var i=0;i<amount;)elements.push(null),i++;return this.instance.populateFromArray(row,index,[elements],null,null,"spliceRow"),removed},DataMap.prototype.spliceData=function(index,amount,element){!1!==this.instance.runHooks("beforeDataSplice",index,amount,element)&&this.dataSource.splice(index,amount,element)},DataMap.prototype.filterData=function(index,amount){var physicalRows=this.visualRowsToPhysical(index,amount);if(!1!==this.instance.runHooks("beforeDataFilter",index,amount,physicalRows))return this.dataSource.filter(function(row,index){return-1==physicalRows.indexOf(index)})},DataMap.prototype.get=function(row,prop){row=this.instance.runHooks("modifyRow",row);var dataRow=this.dataSource[row],modifiedRowData=this.instance.runHooks("modifyRowData",row),value=null;if((dataRow=isNaN(modifiedRowData)?modifiedRowData:dataRow)&&dataRow.hasOwnProperty&&(0,_object.hasOwnProperty)(dataRow,prop))value=dataRow[prop];else if("string"==typeof prop&&-1<prop.indexOf(".")){var sliced=prop.split("."),out=dataRow;if(!out)return null;for(var i=0,ilen=sliced.length;i<ilen;i++)if(void 0===(out=out[sliced[i]]))return null;value=out}else"function"==typeof prop&&(value=prop(this.dataSource.slice(row,row+1)[0]));if(this.instance.hasHook("modifyData")){var valueHolder=(0,_object.createObjectPropListener)(value);this.instance.runHooks("modifyData",row,this.propToCol(prop),valueHolder,"get"),valueHolder.isTouched()&&(value=valueHolder.value)}return value};var copyableLookup=(0,_data.cellMethodLookupFactory)("copyable",!1);DataMap.prototype.getCopyable=function(row,prop){return copyableLookup.call(this.instance,row,this.propToCol(prop))?this.get(row,prop):""},DataMap.prototype.set=function(row,prop,value,source){row=this.instance.runHooks("modifyRow",row,source||"datamapGet");var dataRow=this.dataSource[row],modifiedRowData=this.instance.runHooks("modifyRowData",row);if(dataRow=isNaN(modifiedRowData)?modifiedRowData:dataRow,this.instance.hasHook("modifyData")){var valueHolder=(0,_object.createObjectPropListener)(value);this.instance.runHooks("modifyData",row,this.propToCol(prop),valueHolder,"set"),valueHolder.isTouched()&&(value=valueHolder.value)}if(dataRow&&dataRow.hasOwnProperty&&(0,_object.hasOwnProperty)(dataRow,prop))dataRow[prop]=value;else if("string"==typeof prop&&-1<prop.indexOf(".")){var ilen,sliced=prop.split("."),out=dataRow,i=0;for(i=0,ilen=sliced.length-1;i<ilen;i++)void 0===out[sliced[i]]&&(out[sliced[i]]={}),out=out[sliced[i]];out[sliced[i]]=value}else"function"==typeof prop?prop(this.dataSource.slice(row,row+1)[0],value):dataRow[prop]=value},DataMap.prototype.visualRowsToPhysical=function(index,amount){for(var row,totalRows=this.instance.countSourceRows(),physicRow=(totalRows+index)%totalRows,logicRows=[],rowsToRemove=amount;physicRow<totalRows&&rowsToRemove;)row=this.instance.runHooks("modifyRow",physicRow),logicRows.push(row),rowsToRemove--,physicRow++;return logicRows},DataMap.prototype.visualColumnsToPhysical=function(index,amount){for(var totalCols=this.instance.countCols(),physicalCol=(totalCols+index)%totalCols,visualCols=[],colsToRemove=amount;physicalCol<totalCols&&colsToRemove;){var col=this.instance.runHooks("modifyCol",physicalCol);visualCols.push(col),colsToRemove--,physicalCol++}return visualCols},DataMap.prototype.clear=function(){for(var r=0;r<this.instance.countSourceRows();r++)for(var c=0;c<this.instance.countCols();c++)this.set(r,this.colToProp(c),"")},DataMap.prototype.clearLengthCache=function(){this.cachedLength=null},DataMap.prototype.getLength=function(){var _this2=this,maxRows=void 0,maxRowsFromSettings=this.instance.getSettings().maxRows;maxRows=maxRowsFromSettings<0||0===maxRowsFromSettings?0:maxRowsFromSettings||1/0;var length=this.instance.countSourceRows();if(this.instance.hasHook("modifyRow")){var reValidate=this.skipCache;this.interval.start(),length!==this.latestSourceRowsCount&&(reValidate=!0),this.latestSourceRowsCount=length,null===this.cachedLength||reValidate?((0,_number.rangeEach)(length-1,function(row){null===(row=_this2.instance.runHooks("modifyRow",row))&&--length}),this.cachedLength=length):length=this.cachedLength}else this.interval.stop();return Math.min(length,maxRows)},DataMap.prototype.getAll=function(){var start={row:0,col:0},end={row:Math.max(this.instance.countSourceRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return start.row-end.row!=0||this.instance.countSourceRows()?this.getRange(start,end,DataMap.prototype.DESTINATION_RENDERER):[]},DataMap.prototype.getRange=function(start,end,destination){var r,rlen,c,clen,row,output=[],maxRows=this.instance.getSettings().maxRows,maxCols=this.instance.getSettings().maxCols;if(0===maxRows||0===maxCols)return[];var getFn=destination===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(rlen=Math.min(Math.max(maxRows-1,0),Math.max(start.row,end.row)),clen=Math.min(Math.max(maxCols-1,0),Math.max(start.col,end.col)),r=Math.min(start.row,end.row);r<=rlen;r++){row=[];var physicalRow=this.instance.runHooks("modifyRow",r);for(c=Math.min(start.col,end.col);c<=clen&&null!==physicalRow;c++)row.push(getFn.call(this,r,this.colToProp(c)));null!==physicalRow&&output.push(row)}return output},DataMap.prototype.getText=function(start,end){return _SheetClip2.default.stringify(this.getRange(start,end,this.DESTINATION_RENDERER))},DataMap.prototype.getCopyableText=function(start,end){return _SheetClip2.default.stringify(this.getRange(start,end,this.DESTINATION_CLIPBOARD_GENERATOR))},DataMap.prototype.onSkipLengthCache=function(delay){var _this3=this;this.skipCache=!0,setTimeout(function(){_this3.skipCache=!1},delay)},DataMap.prototype.destroy=function(){this.interval.stop(),this.interval=null,this.instance=null,this.priv=null,this.GridSettings=null,this.dataSource=null,this.cachedLength=null,this.duckSchema=null},exports.default=DataMap},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}exports.parseDelay=parseDelay;var _feature=__webpack_require__(34);var Interval=function(){function Interval(func,delay){var _this=this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Interval),this.timer=null,this.func=func,this.delay=parseDelay(delay),this.stopped=!0,this._then=null,this._callback=function(){return _this.__callback()}}return _createClass(Interval,null,[{key:"create",value:function(func,delay){return new Interval(func,delay)}}]),_createClass(Interval,[{key:"start",value:function(){return this.stopped&&(this._then=Date.now(),this.stopped=!1,this.timer=(0,_feature.requestAnimationFrame)(this._callback)),this}},{key:"stop",value:function(){return this.stopped||(this.stopped=!0,(0,_feature.cancelAnimationFrame)(this.timer),this.timer=null),this}},{key:"__callback",value:function(){if(this.timer=(0,_feature.requestAnimationFrame)(this._callback),this.delay){var now=Date.now(),elapsed=now-this._then;elapsed>this.delay&&(this._then=now-elapsed%this.delay,this.func())}else this.func()}}]),Interval}();function parseDelay(delay){return"string"==typeof delay&&/fps$/.test(delay)&&(delay=1e3/parseInt(delay.replace("fps","")||0,10)),delay}exports.default=Interval},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=function(){var map={arrayMap:[],weakMap:new WeakMap};return{get:function(key){return canBeAnArrayMapKey(key)?map.arrayMap[key]:canBeAWeakMapKey(key)?map.weakMap.get(key):void 0},set:function(key,value){if(canBeAnArrayMapKey(key))map.arrayMap[key]=value;else{if(!canBeAWeakMapKey(key))throw new Error("Invalid key type");map.weakMap.set(key,value)}},delete:function(key){canBeAnArrayMapKey(key)?delete map.arrayMap[key]:canBeAWeakMapKey(key)&&map.weakMap.delete(key)}};function canBeAnArrayMapKey(obj){return null!==obj&&!function(obj){return obj!=obj}(obj)&&("string"==typeof obj||"number"==typeof obj)}function canBeAWeakMapKey(obj){return null!==obj&&("object"==(void 0===obj?"undefined":_typeof(obj))||"function"==typeof obj)}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_src=__webpack_require__(12),_unicode=__webpack_require__(18),_event=__webpack_require__(10),_editors=__webpack_require__(15),_eventManager=__webpack_require__(4),_eventManager2=(obj=_eventManager)&&obj.__esModule?obj:{default:obj},_baseEditor=__webpack_require__(41);exports.default=function(instance,priv,selection){var eventManager,activeEditor,_this=this,destroyed=!1;function moveSelectionAfterEnter(shiftKey){selection.setSelectedHeaders(!1,!1,!1);var enterMoves="function"==typeof priv.settings.enterMoves?priv.settings.enterMoves(event):priv.settings.enterMoves;shiftKey?selection.transformStart(-enterMoves.row,-enterMoves.col):selection.transformStart(enterMoves.row,enterMoves.col,!0)}function onKeyDown(event){var ctrlDown,rangeModifier;if(instance.isListening()&&(instance.runHooks("beforeKeyDown",event),!destroyed&&!(0,_event.isImmediatePropagationStopped)(event)&&(priv.lastKeyCode=event.keyCode,selection.isSelected())))if(ctrlDown=(event.ctrlKey||event.metaKey)&&!event.altKey,!activeEditor||activeEditor.isWaiting()||(0,_unicode.isMetaKey)(event.keyCode)||(0,_unicode.isCtrlKey)(event.keyCode)||ctrlDown||_this.isEditorOpened())switch(rangeModifier=event.shiftKey?selection.setRangeEnd:selection.setRangeStart,event.keyCode){case _unicode.KEY_CODES.A:!_this.isEditorOpened()&&ctrlDown&&(selection.selectAll(),event.preventDefault(),(0,_event.stopPropagation)(event));break;case _unicode.KEY_CODES.ARROW_UP:_this.isEditorOpened()&&!activeEditor.isWaiting()&&_this.closeEditorAndSaveChanges(ctrlDown),function(shiftKey){shiftKey?(selection.selectedHeader.cols&&selection.setSelectedHeaders(selection.selectedHeader.rows,!1,!1),selection.transformEnd(-1,0)):(selection.setSelectedHeaders(!1,!1,!1),selection.transformStart(-1,0))}(event.shiftKey),event.preventDefault(),(0,_event.stopPropagation)(event);break;case _unicode.KEY_CODES.ARROW_DOWN:_this.isEditorOpened()&&!activeEditor.isWaiting()&&_this.closeEditorAndSaveChanges(ctrlDown),function(shiftKey){shiftKey?selection.transformEnd(1,0):(selection.setSelectedHeaders(!1,!1,!1),selection.transformStart(1,0))}(event.shiftKey),event.preventDefault(),(0,_event.stopPropagation)(event);break;case _unicode.KEY_CODES.ARROW_RIGHT:_this.isEditorOpened()&&!activeEditor.isWaiting()&&_this.closeEditorAndSaveChanges(ctrlDown),function(shiftKey){shiftKey?selection.transformEnd(0,1):(selection.setSelectedHeaders(!1,!1,!1),selection.transformStart(0,1))}(event.shiftKey),event.preventDefault(),(0,_event.stopPropagation)(event);break;case _unicode.KEY_CODES.ARROW_LEFT:_this.isEditorOpened()&&!activeEditor.isWaiting()&&_this.closeEditorAndSaveChanges(ctrlDown),function(shiftKey){shiftKey?(selection.selectedHeader.rows&&selection.setSelectedHeaders(!1,selection.selectedHeader.cols,!1),selection.transformEnd(0,-1)):(selection.setSelectedHeaders(!1,!1,!1),selection.transformStart(0,-1))}(event.shiftKey),event.preventDefault(),(0,_event.stopPropagation)(event);break;case _unicode.KEY_CODES.TAB:selection.setSelectedHeaders(!1,!1,!1);var tabMoves="function"==typeof priv.settings.tabMoves?priv.settings.tabMoves(event):priv.settings.tabMoves;event.shiftKey?selection.transformStart(-tabMoves.row,-tabMoves.col):selection.transformStart(tabMoves.row,tabMoves.col,!0),event.preventDefault(),(0,_event.stopPropagation)(event);break;case _unicode.KEY_CODES.BACKSPACE:case _unicode.KEY_CODES.DELETE:selection.empty(event),_this.prepareEditor(),event.preventDefault();break;case _unicode.KEY_CODES.F2:_this.openEditor(null,event),activeEditor&&activeEditor.enableFullEditMode(),event.preventDefault();break;case _unicode.KEY_CODES.ENTER:_this.isEditorOpened()?(activeEditor&&activeEditor.state!==_baseEditor.EditorState.WAITING&&_this.closeEditorAndSaveChanges(ctrlDown),moveSelectionAfterEnter(event.shiftKey)):instance.getSettings().enterBeginsEditing?(_this.openEditor(null,event),activeEditor&&activeEditor.enableFullEditMode()):moveSelectionAfterEnter(event.shiftKey),event.preventDefault(),(0,_event.stopImmediatePropagation)(event);break;case _unicode.KEY_CODES.ESCAPE:_this.isEditorOpened()&&_this.closeEditorAndRestoreOriginalValue(ctrlDown),event.preventDefault();break;case _unicode.KEY_CODES.HOME:selection.setSelectedHeaders(!1,!1,!1),event.ctrlKey||event.metaKey?rangeModifier(new _src.CellCoords(0,priv.selRange.from.col)):rangeModifier(new _src.CellCoords(priv.selRange.from.row,0)),event.preventDefault(),(0,_event.stopPropagation)(event);break;case _unicode.KEY_CODES.END:selection.setSelectedHeaders(!1,!1,!1),event.ctrlKey||event.metaKey?rangeModifier(new _src.CellCoords(instance.countRows()-1,priv.selRange.from.col)):rangeModifier(new _src.CellCoords(priv.selRange.from.row,instance.countCols()-1)),event.preventDefault(),(0,_event.stopPropagation)(event);break;case _unicode.KEY_CODES.PAGE_UP:selection.setSelectedHeaders(!1,!1,!1),selection.transformStart(-instance.countVisibleRows(),0),event.preventDefault(),(0,_event.stopPropagation)(event);break;case _unicode.KEY_CODES.PAGE_DOWN:selection.setSelectedHeaders(!1,!1,!1),selection.transformStart(instance.countVisibleRows(),0),event.preventDefault(),(0,_event.stopPropagation)(event)}else _this.openEditor("",event)}eventManager=new _eventManager2.default(instance),this.destroyEditor=function(revertOriginal){this.closeEditor(revertOriginal)},this.getActiveEditor=function(){return activeEditor},this.prepareEditor=function(){var row,col,prop,td,originalValue,cellProperties,editorClass;activeEditor&&activeEditor.isWaiting()?this.closeEditor(!1,!1,function(dataSaved){dataSaved&&_this.prepareEditor()}):(row=priv.selRange.highlight.row,col=priv.selRange.highlight.col,prop=instance.colToProp(col),td=instance.getCell(row,col),originalValue=instance.getSourceDataAtCell(instance.runHooks("modifyRow",row),col),cellProperties=instance.getCellMeta(row,col),(editorClass=instance.getCellEditor(cellProperties))?(activeEditor=(0,_editors.getEditorInstance)(editorClass,instance)).prepare(row,col,prop,td,originalValue,cellProperties):activeEditor=void 0)},this.isEditorOpened=function(){return activeEditor&&activeEditor.isOpened()},this.openEditor=function(initialValue,event){activeEditor&&!activeEditor.cellProperties.readOnly?activeEditor.beginEditing(initialValue,event):activeEditor&&activeEditor.cellProperties.readOnly&&event&&event.keyCode===_unicode.KEY_CODES.ENTER&&moveSelectionAfterEnter()},this.closeEditor=function(restoreOriginalValue,ctrlDown,callback){activeEditor?activeEditor.finishEditing(restoreOriginalValue,ctrlDown,callback):callback&&callback(!1)},this.closeEditorAndSaveChanges=function(ctrlDown){return this.closeEditor(!1,ctrlDown)},this.closeEditorAndRestoreOriginalValue=function(ctrlDown){return this.closeEditor(!0,ctrlDown)},instance.addHook("afterDocumentKeyDown",onKeyDown),eventManager.addEventListener(document.documentElement,"keydown",function(event){destroyed||instance.runHooks("afterDocumentKeyDown",event)}),instance.view.wt.update("onCellDblClick",function(event,coords,elem){"TD"==elem.nodeName&&(_this.openEditor(),activeEditor&&activeEditor.enableFullEditMode())}),instance.addHook("afterDestroy",function(){destroyed=!0})}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_element=__webpack_require__(0),_browser=__webpack_require__(26),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_event=__webpack_require__(10),_src=__webpack_require__(12),_src2=_interopRequireDefault(_src);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TableView(instance){var _this=this,that=this;this.eventManager=new _eventManager2.default(instance),this.instance=instance,this.settings=instance.getSettings(),this.selectionMouseDown=!1;var originalStyle=instance.rootElement.getAttribute("style");originalStyle&&instance.rootElement.setAttribute("data-originalstyle",originalStyle),(0,_element.addClass)(instance.rootElement,"handsontable");var isMouseDown,table=document.createElement("TABLE");(0,_element.addClass)(table,"htCore"),instance.getSettings().tableClassName&&(0,_element.addClass)(table,instance.getSettings().tableClassName),this.THEAD=document.createElement("THEAD"),table.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),table.appendChild(this.TBODY),instance.table=table,instance.container.insertBefore(table,instance.container.firstChild),this.eventManager.addEventListener(instance.rootElement,"mousedown",function(event){this.selectionMouseDown=!0,that.isTextSelectionAllowed(event.target)||(clearTextSelection(),event.preventDefault(),window.focus())}),this.eventManager.addEventListener(instance.rootElement,"mouseup",function(event){this.selectionMouseDown=!1}),this.eventManager.addEventListener(instance.rootElement,"mousemove",function(event){this.selectionMouseDown&&!that.isTextSelectionAllowed(event.target)&&(clearTextSelection(),event.preventDefault())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(event){instance.selection.isInProgress()&&!event.shiftKey&&instance.selection.finish()}),this.isMouseDown=function(){return isMouseDown},this.eventManager.addEventListener(document.documentElement,"mouseup",function(event){instance.selection.isInProgress()&&1===event.which&&instance.selection.finish(),isMouseDown=!1,!(0,_element.isOutsideInput)(document.activeElement)&&instance.selection.isSelected()||instance.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(event){var originalTarget=event.target,next=event.target,eventX=event.x||event.clientX,eventY=event.y||event.clientY;if(!isMouseDown&&instance.rootElement){if(next===instance.view.wt.wtTable.holder){var scrollbarWidth=(0,_element.getScrollbarWidth)();if(document.elementFromPoint(eventX+scrollbarWidth,eventY)!==instance.view.wt.wtTable.holder||document.elementFromPoint(eventX,eventY+scrollbarWidth)!==instance.view.wt.wtTable.holder)return}else for(;next!==document.documentElement;){if(null===next){if(event.isTargetWebComponent)break;return}if(next===instance.rootElement)return;next=next.parentNode}("function"==typeof that.settings.outsideClickDeselects?that.settings.outsideClickDeselects(originalTarget):that.settings.outsideClickDeselects)?instance.deselectCell():instance.destroyEditor()}}),this.eventManager.addEventListener(table,"selectstart",function(event){that.settings.fragmentSelection||(0,_element.isInput)(event.target)||event.preventDefault()});var clearTextSelection=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},selections=[new _src.Selection({className:"current",border:{width:2,color:"#5292F7",cornerVisible:function(){return that.settings.fillHandle&&!that.isCellEdited()&&!instance.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!that.isCellEdited()&&!instance.selection.isMultiple()}}}),new _src.Selection({className:"area",border:{width:1,color:"#89AFF9",cornerVisible:function(){return that.settings.fillHandle&&!that.isCellEdited()&&instance.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!that.isCellEdited()&&instance.selection.isMultiple()}}}),new _src.Selection({className:"highlight",highlightHeaderClassName:that.settings.currentHeaderClassName,highlightRowClassName:that.settings.currentRowClassName,highlightColumnClassName:that.settings.currentColClassName}),new _src.Selection({className:"fill",border:{width:1,color:"red"}})];selections.current=selections[0],selections.area=selections[1],selections.highlight=selections[2],selections.fill=selections[3];var walkontableConfig={debug:function(){return that.settings.debug},externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:table,preventOverflow:function(){return _this.settings.preventOverflow},stretchH:function(){return that.settings.stretchH},data:instance.getDataAtCell,totalRows:function(){return instance.countRows()},totalColumns:function(){return instance.countCols()},fixedColumnsLeft:function(){return that.settings.fixedColumnsLeft},fixedRowsTop:function(){return that.settings.fixedRowsTop},fixedRowsBottom:function(){return that.settings.fixedRowsBottom},minSpareRows:function(){return that.settings.minSpareRows},renderAllRows:that.settings.renderAllRows,rowHeaders:function(){var headerRenderers=[];return instance.hasRowHeaders()&&headerRenderers.push(function(row,TH){that.appendRowHeader(row,TH)}),instance.runHooks("afterGetRowHeaderRenderers",headerRenderers),headerRenderers},columnHeaders:function(){var headerRenderers=[];return instance.hasColHeaders()&&headerRenderers.push(function(column,TH){that.appendColHeader(column,TH)}),instance.runHooks("afterGetColumnHeaderRenderers",headerRenderers),headerRenderers},columnWidth:instance.getColWidth,rowHeight:instance.getRowHeight,cellRenderer:function(row,col,TD){var cellProperties=that.instance.getCellMeta(row,col),prop=that.instance.colToProp(col),value=that.instance.getDataAtRowProp(row,prop);that.instance.hasHook("beforeValueRender")&&(value=that.instance.runHooks("beforeValueRender",value)),that.instance.runHooks("beforeRenderer",TD,row,col,prop,value,cellProperties),that.instance.getCellRenderer(cellProperties)(that.instance,TD,row,col,prop,value,cellProperties),that.instance.runHooks("afterRenderer",TD,row,col,prop,value,cellProperties)},selections:selections,hideBorderOnMouseDownOver:function(){return that.settings.fragmentSelection},onCellMouseDown:function(event,coords,TD,wt){var blockCalculations={row:!1,column:!1,cells:!1};if(instance.listen(),that.activeWt=wt,isMouseDown=!0,instance.runHooks("beforeOnCellMouseDown",event,coords,TD,blockCalculations),!(0,_event.isImmediatePropagationStopped)(event)){var actualSelection=instance.getSelectedRange(),selection=instance.selection,selectedHeader=selection.selectedHeader;if(event.shiftKey&&actualSelection)0<=coords.row&&0<=coords.col&&!blockCalculations.cells?(selection.setSelectedHeaders(!1,!1),selection.setRangeEnd(coords)):(selectedHeader.cols||selectedHeader.rows)&&0<=coords.row&&0<=coords.col&&!blockCalculations.cells?(selection.setSelectedHeaders(!1,!1),selection.setRangeEnd(new _src.CellCoords(coords.row,coords.col))):selectedHeader.cols&&coords.row<0&&!blockCalculations.column?selection.setRangeEnd(new _src.CellCoords(actualSelection.to.row,coords.col)):selectedHeader.rows&&coords.col<0&&!blockCalculations.row?selection.setRangeEnd(new _src.CellCoords(coords.row,actualSelection.to.col)):(!selectedHeader.cols&&!selectedHeader.rows&&coords.col<0||selectedHeader.cols&&coords.col<0)&&!blockCalculations.row?(selection.setSelectedHeaders(!0,!1),selection.setRangeStartOnly(new _src.CellCoords(actualSelection.from.row,0)),selection.setRangeEnd(new _src.CellCoords(coords.row,instance.countCols()-1))):(!selectedHeader.cols&&!selectedHeader.rows&&coords.row<0||selectedHeader.rows&&coords.row<0)&&!blockCalculations.column&&(selection.setSelectedHeaders(!1,!0),selection.setRangeStartOnly(new _src.CellCoords(0,actualSelection.from.col)),selection.setRangeEnd(new _src.CellCoords(instance.countRows()-1,coords.col)));else{var doNewSelection=!0;if(actualSelection){var from=actualSelection.from,to=actualSelection.to,coordsNotInSelection=!selection.inInSelection(coords);if(coords.row<0&&selectedHeader.cols){var start=Math.min(from.col,to.col),end=Math.max(from.col,to.col);doNewSelection=coords.col<start||coords.col>end}else if(coords.col<0&&selectedHeader.rows){var _start=Math.min(from.row,to.row),_end=Math.max(from.row,to.row);doNewSelection=coords.row<_start||coords.row>_end}else doNewSelection=coordsNotInSelection}var rightClick=(0,_event.isRightClick)(event),leftClick=(0,_event.isLeftClick)(event)||"touchstart"===event.type;coords.row<0&&0<=coords.col&&!blockCalculations.column?(selection.setSelectedHeaders(!1,!0),(leftClick||rightClick&&doNewSelection)&&(selection.setRangeStartOnly(new _src.CellCoords(0,coords.col)),selection.setRangeEnd(new _src.CellCoords(Math.max(instance.countRows()-1,0),coords.col),!1))):coords.col<0&&0<=coords.row&&!blockCalculations.row?(selection.setSelectedHeaders(!0,!1),(leftClick||rightClick&&doNewSelection)&&(selection.setRangeStartOnly(new _src.CellCoords(coords.row,0)),selection.setRangeEnd(new _src.CellCoords(coords.row,Math.max(instance.countCols()-1,0)),!1))):0<=coords.col&&0<=coords.row&&!blockCalculations.cells?(leftClick||rightClick&&doNewSelection)&&(selection.setSelectedHeaders(!1,!1),selection.setRangeStart(coords)):coords.col<0&&coords.row<0&&(coords.row=0,coords.col=0,selection.setSelectedHeaders(!1,!1,!0),selection.setRangeStart(coords))}instance.runHooks("afterOnCellMouseDown",event,coords,TD),that.activeWt=that.wt}},onCellMouseOut:function(event,coords,TD,wt){that.activeWt=wt,instance.runHooks("beforeOnCellMouseOut",event,coords,TD),(0,_event.isImmediatePropagationStopped)(event)||(instance.runHooks("afterOnCellMouseOut",event,coords,TD),that.activeWt=that.wt)},onCellMouseOver:function(event,coords,TD,wt){var blockCalculations={row:!1,column:!1,cell:!1};that.activeWt=wt,instance.runHooks("beforeOnCellMouseOver",event,coords,TD,blockCalculations),(0,_event.isImmediatePropagationStopped)(event)||(0===event.button&&isMouseDown&&(0<=coords.row&&coords.col,instance.selection.selectedHeader.cols&&!blockCalculations.column?instance.selection.setRangeEnd(new _src.CellCoords(instance.countRows()-1,coords.col),!1):instance.selection.selectedHeader.rows&&!blockCalculations.row?instance.selection.setRangeEnd(new _src.CellCoords(coords.row,instance.countCols()-1),!1):blockCalculations.cell||instance.selection.setRangeEnd(coords)),instance.runHooks("afterOnCellMouseOver",event,coords,TD),that.activeWt=that.wt)},onCellMouseUp:function(event,coords,TD,wt){that.activeWt=wt,instance.runHooks("beforeOnCellMouseUp",event,coords,TD),instance.runHooks("afterOnCellMouseUp",event,coords,TD),that.activeWt=that.wt},onCellCornerMouseDown:function(event){event.preventDefault(),instance.runHooks("afterOnCellCornerMouseDown",event)},onCellCornerDblClick:function(event){event.preventDefault(),instance.runHooks("afterOnCellCornerDblClick",event)},beforeDraw:function(force,skipRender){that.beforeRender(force,skipRender)},onDraw:function(force){that.onDraw(force)},onScrollVertically:function(){instance.runHooks("afterScrollVertically")},onScrollHorizontally:function(){instance.runHooks("afterScrollHorizontally")},onBeforeDrawBorders:function(corners,borderClassName){instance.runHooks("beforeDrawBorders",corners,borderClassName)},onBeforeTouchScroll:function(){instance.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){instance.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(stretchedWidth,column){return instance.runHooks("beforeStretchingColumnWidth",stretchedWidth,column)},onModifyRowHeaderWidth:function(rowHeaderWidth){return instance.runHooks("modifyRowHeaderWidth",rowHeaderWidth)},viewportRowCalculatorOverride:function(calc){var rows=instance.countRows(),viewportOffset=that.settings.viewportRowRenderingOffset;if("auto"===viewportOffset&&that.settings.fixedRowsTop&&(viewportOffset=10),"number"==typeof viewportOffset&&(calc.startRow=Math.max(calc.startRow-viewportOffset,0),calc.endRow=Math.min(calc.endRow+viewportOffset,rows-1)),"auto"===viewportOffset){var center=calc.startRow+calc.endRow-calc.startRow,offset=Math.ceil(center/rows*12);calc.startRow=Math.max(calc.startRow-offset,0),calc.endRow=Math.min(calc.endRow+offset,rows-1)}instance.runHooks("afterViewportRowCalculatorOverride",calc)},viewportColumnCalculatorOverride:function(calc){var cols=instance.countCols(),viewportOffset=that.settings.viewportColumnRenderingOffset;if("auto"===viewportOffset&&that.settings.fixedColumnsLeft&&(viewportOffset=10),"number"==typeof viewportOffset&&(calc.startColumn=Math.max(calc.startColumn-viewportOffset,0),calc.endColumn=Math.min(calc.endColumn+viewportOffset,cols-1)),"auto"===viewportOffset){var center=calc.startColumn+calc.endColumn-calc.startColumn,offset=Math.ceil(center/cols*12);calc.startRow=Math.max(calc.startColumn-offset,0),calc.endColumn=Math.min(calc.endColumn+offset,cols-1)}instance.runHooks("afterViewportColumnCalculatorOverride",calc)},rowHeaderWidth:function(){return that.settings.rowHeaderWidth},columnHeaderHeight:function(){var columnHeaderHeight=instance.runHooks("modifyColumnHeaderHeight");return that.settings.columnHeaderHeight||columnHeaderHeight}};instance.runHooks("beforeInitWalkontable",walkontableConfig),this.wt=new _src2.default(walkontableConfig),this.activeWt=this.wt,(0,_browser.isChrome)()||(0,_browser.isSafari)()||this.eventManager.addEventListener(instance.rootElement,"wheel",function(event){event.preventDefault();var lineHeight=parseInt((0,_element.getComputedStyle)(document.body)["font-size"],10),holder=that.wt.wtOverlays.scrollableElement,deltaY=event.wheelDeltaY||event.deltaY,deltaX=event.wheelDeltaX||event.deltaX;switch(event.deltaMode){case 0:holder.scrollLeft+=deltaX,holder.scrollTop+=deltaY;break;case 1:holder.scrollLeft+=deltaX*lineHeight,holder.scrollTop+=deltaY*lineHeight}}),this.eventManager.addEventListener(that.wt.wtTable.spreader,"mousedown",function(event){event.target===that.wt.wtTable.spreader&&3===event.which&&(0,_event.stopPropagation)(event)}),this.eventManager.addEventListener(that.wt.wtTable.spreader,"contextmenu",function(event){event.target===that.wt.wtTable.spreader&&3===event.which&&(0,_event.stopPropagation)(event)}),this.eventManager.addEventListener(document.documentElement,"click",function(){that.settings.observeDOMVisibility&&that.wt.drawInterrupted&&(that.instance.forceFullRender=!0,that.render())})}TableView.prototype.isTextSelectionAllowed=function(el){if((0,_element.isInput)(el))return!0;var isChildOfTableBody=(0,_element.isChildOf)(el,this.instance.view.wt.wtTable.spreader);return!(!0!==this.settings.fragmentSelection||!isChildOfTableBody)||(!("cell"!==this.settings.fragmentSelection||!this.isSelectedOnlyCell()||!isChildOfTableBody)||!(this.settings.fragmentSelection||!this.isCellEdited()||!this.isSelectedOnlyCell()))},TableView.prototype.isSelectedOnlyCell=function(){var _ref=this.instance.getSelected()||[],_ref2=_slicedToArray(_ref,4),row=_ref2[0],col=_ref2[1],rowEnd=_ref2[2],colEnd=_ref2[3];return void 0!==row&&row===rowEnd&&col===colEnd},TableView.prototype.isCellEdited=function(){var activeEditor=this.instance.getActiveEditor();return activeEditor&&activeEditor.isOpened()},TableView.prototype.beforeRender=function(force,skipRender){force&&this.instance.runHooks("beforeRender",this.instance.forceFullRender,skipRender)},TableView.prototype.onDraw=function(force){force&&this.instance.runHooks("afterRender",this.instance.forceFullRender)},TableView.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1},TableView.prototype.getCellAtCoords=function(coords,topmost){var td=this.wt.getCell(coords,topmost);return td<0?null:td},TableView.prototype.scrollViewport=function(coords){this.wt.scrollViewport(coords)},TableView.prototype.appendRowHeader=function(row,TH){if(TH.firstChild){var container=TH.firstChild;if(!(0,_element.hasClass)(container,"relative"))return(0,_element.empty)(TH),void this.appendRowHeader(row,TH);this.updateCellHeader(container.querySelector(".rowHeader"),row,this.instance.getRowHeader)}else{var div=document.createElement("div"),span=document.createElement("span");div.className="relative",span.className="rowHeader",this.updateCellHeader(span,row,this.instance.getRowHeader),div.appendChild(span),TH.appendChild(div)}this.instance.runHooks("afterGetRowHeader",row,TH)},TableView.prototype.appendColHeader=function(col,TH){if(TH.firstChild){var container=TH.firstChild;(0,_element.hasClass)(container,"relative")?this.updateCellHeader(container.querySelector(".colHeader"),col,this.instance.getColHeader):((0,_element.empty)(TH),this.appendColHeader(col,TH))}else{var div=document.createElement("div"),span=document.createElement("span");div.className="relative",span.className="colHeader",this.updateCellHeader(span,col,this.instance.getColHeader),div.appendChild(span),TH.appendChild(div)}this.instance.runHooks("afterGetColHeader",col,TH)},TableView.prototype.updateCellHeader=function(element,index,content){var renderedIndex=index,parentOverlay=this.wt.wtOverlays.getParentOverlay(element)||this.wt;element.parentNode&&((0,_element.hasClass)(element,"colHeader")?renderedIndex=parentOverlay.wtTable.columnFilter.sourceToRendered(index):(0,_element.hasClass)(element,"rowHeader")&&(renderedIndex=parentOverlay.wtTable.rowFilter.sourceToRendered(index))),-1<renderedIndex?(0,_element.fastInnerHTML)(element,content(index)):((0,_element.fastInnerText)(element,String.fromCharCode(160)),(0,_element.addClass)(element,"cornerHeader"))},TableView.prototype.maximumVisibleElementWidth=function(leftOffset){var maxWidth=this.wt.wtViewport.getWorkspaceWidth()-leftOffset;return 0<maxWidth?maxWidth:0},TableView.prototype.maximumVisibleElementHeight=function(topOffset){var maxHeight=this.wt.wtViewport.getWorkspaceHeight()-topOffset;return 0<maxHeight?maxHeight:0},TableView.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},TableView.prototype.destroy=function(){this.wt.destroy(),this.eventManager.destroy()},exports.default=TableView},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _object=__webpack_require__(1),_array=__webpack_require__(2),_number=__webpack_require__(6);var DataSource=function(){function DataSource(hotInstance){var dataSource=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DataSource),this.hot=hotInstance,this.data=dataSource,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}return _createClass(DataSource,[{key:"getData",value:function(){var toArray=0<arguments.length&&void 0!==arguments[0]&&arguments[0],result=this.data;return toArray&&(result=this.getByRange({row:0,col:0},{row:Math.max(this.countRows()-1,0),col:Math.max(this.countColumns()-1,0)},!0)),result}},{key:"setData",value:function(data){this.data=data}},{key:"getAtColumn",value:function(column){var _this=this,result=[];return(0,_array.arrayEach)(this.data,function(row){var property=_this.colToProp(column);row="string"==typeof property?(0,_object.getProperty)(row,property):row[property],result.push(row)}),result}},{key:"getAtRow",value:function(row){return this.data[row]}},{key:"getAtCell",value:function(row,column){var result=null,modifyRowData=this.hot.runHooks("modifyRowData",row),dataRow=isNaN(modifyRowData)?modifyRowData:this.data[row];if(dataRow){var prop=this.colToProp(column);result="string"==typeof prop?(0,_object.getProperty)(dataRow,prop):"function"==typeof prop?prop(this.data.slice(row,row+1)[0]):dataRow[prop]}return result}},{key:"getByRange",value:function(start,end){var _this2=this,toArray=2<arguments.length&&void 0!==arguments[2]&&arguments[2],startRow=Math.min(start.row,end.row),startCol=Math.min(start.col,end.col),endRow=Math.max(start.row,end.row),endCol=Math.max(start.col,end.col),result=[];return(0,_number.rangeEach)(startRow,endRow,function(currentRow){var row=_this2.getAtRow(currentRow),newRow=void 0;"array"===_this2.dataType?newRow=row.slice(startCol,endCol+1):"object"===_this2.dataType&&(newRow=toArray?[]:{},(0,_number.rangeEach)(startCol,endCol,function(column){var prop=_this2.colToProp(column);toArray?newRow.push(row[prop]):newRow[prop]=row[prop]})),result.push(newRow)}),result}},{key:"countRows",value:function(){return Array.isArray(this.data)?this.data.length:0}},{key:"countColumns",value:function(){var result=0;return Array.isArray(this.data)&&("array"===this.dataType?result=this.data[0].length:"object"===this.dataType&&(result=Object.keys(this.data[0]).length)),result}},{key:"destroy",value:function(){this.data=null,this.hot=null}}]),DataSource}();exports.default=DataSource},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(Handsontable){var jQuery="undefined"!=typeof window&&window.jQuery;if(!jQuery)return;jQuery.fn.handsontable=function(action){var $this=this.first(),instance=$this.data("handsontable");if("string"!=typeof action){var userSettings=action||{};return instance?instance.updateSettings(userSettings):(instance=new Handsontable.Core($this[0],userSettings),$this.data("handsontable",instance),instance.init()),$this}var args=[],output=void 0;if(1<arguments.length)for(var i=1,ilen=arguments.length;i<ilen;i++)args.push(arguments[i]);if(instance){if(void 0===instance[action])throw new Error("Handsontable do not provide action: "+action);output=instance[action].apply(instance,args),"destroy"===action&&$this.removeData()}return output}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.Base=exports.UndoRedo=exports.TouchScroll=exports.Search=exports.PersistentState=exports.ObserveChanges=exports.MultipleSelectionHandles=exports.MergeCells=exports.ManualRowResize=exports.ManualRowMove=exports.ManualColumnResize=exports.ManualColumnMove=exports.ManualColumnFreeze=exports.DragToScroll=exports.CustomBorders=exports.CopyPaste=exports.ContextMenu=exports.Comments=exports.ColumnSorting=exports.AutoRowSize=exports.AutoFill=exports.AutoColumnSize=void 0;var _autoColumnSize2=_interopRequireDefault(__webpack_require__(248)),_autofill2=_interopRequireDefault(__webpack_require__(249)),_autoRowSize2=_interopRequireDefault(__webpack_require__(251)),_columnSorting2=_interopRequireDefault(__webpack_require__(252)),_comments2=_interopRequireDefault(__webpack_require__(255)),_contextMenu2=_interopRequireDefault(__webpack_require__(259)),_copyPaste2=_interopRequireDefault(__webpack_require__(276)),_customBorders2=_interopRequireDefault(__webpack_require__(283)),_dragToScroll2=_interopRequireDefault(__webpack_require__(284)),_manualColumnFreeze2=_interopRequireDefault(__webpack_require__(285)),_manualColumnMove2=_interopRequireDefault(__webpack_require__(289)),_manualColumnResize2=_interopRequireDefault(__webpack_require__(294)),_manualRowMove2=_interopRequireDefault(__webpack_require__(295)),_manualRowResize2=_interopRequireDefault(__webpack_require__(300)),_mergeCells2=_interopRequireDefault(__webpack_require__(301)),_multipleSelectionHandles2=_interopRequireDefault(__webpack_require__(302)),_observeChanges2=_interopRequireDefault(__webpack_require__(303)),_persistentState2=_interopRequireDefault(__webpack_require__(306)),_search2=_interopRequireDefault(__webpack_require__(307)),_touchScroll2=_interopRequireDefault(__webpack_require__(308)),_undoRedo2=_interopRequireDefault(__webpack_require__(309)),_base2=_interopRequireDefault(__webpack_require__(13));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.AutoColumnSize=_autoColumnSize2.default,exports.AutoFill=_autofill2.default,exports.AutoRowSize=_autoRowSize2.default,exports.ColumnSorting=_columnSorting2.default,exports.Comments=_comments2.default,exports.ContextMenu=_contextMenu2.default,exports.CopyPaste=_copyPaste2.default,exports.CustomBorders=_customBorders2.default,exports.DragToScroll=_dragToScroll2.default,exports.ManualColumnFreeze=_manualColumnFreeze2.default,exports.ManualColumnMove=_manualColumnMove2.default,exports.ManualColumnResize=_manualColumnResize2.default,exports.ManualRowMove=_manualRowMove2.default,exports.ManualRowResize=_manualRowResize2.default,exports.MergeCells=_mergeCells2.default,exports.MultipleSelectionHandles=_multipleSelectionHandles2.default,exports.ObserveChanges=_observeChanges2.default,exports.PersistentState=_persistentState2.default,exports.Search=_search2.default,exports.TouchScroll=_touchScroll2.default,exports.UndoRedo=_undoRedo2.default,exports.Base=_base2.default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _base2=_interopRequireDefault(__webpack_require__(13)),_array=__webpack_require__(2),_feature=__webpack_require__(34),_element=__webpack_require__(0),_ghostTable2=_interopRequireDefault(__webpack_require__(85)),_object=__webpack_require__(1),_number=__webpack_require__(6),_plugins=__webpack_require__(5),_samplesGenerator2=_interopRequireDefault(__webpack_require__(175)),_string=__webpack_require__(32),_src=__webpack_require__(12);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var privatePool=new WeakMap,AutoColumnSize=function(_BasePlugin){function AutoColumnSize(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AutoColumnSize);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(AutoColumnSize.__proto__||Object.getPrototypeOf(AutoColumnSize)).call(this,hotInstance));return privatePool.set(_this,{cachedColumnHeaders:[]}),_this.widths=[],_this.ghostTable=new _ghostTable2.default(_this.hot),_this.samplesGenerator=new _samplesGenerator2.default(function(row,col){return _this.hot.getDataAtCell(row,col)}),_this.firstCalculation=!0,_this.inProgress=!1,_this.addHook("beforeColumnResize",function(col,size,isDblClick){return _this.onBeforeColumnResize(col,size,isDblClick)}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(AutoColumnSize,_base2.default),_createClass(AutoColumnSize,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}]),_createClass(AutoColumnSize,[{key:"isEnabled",value:function(){return!1!==this.hot.getSettings().autoColumnSize&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var _this2=this;if(!this.enabled){var setting=this.hot.getSettings().autoColumnSize;setting&&null!=setting.useHeaders&&this.ghostTable.setSetting("useHeaders",setting.useHeaders),this.addHook("afterLoadData",function(){return _this2.onAfterLoadData()}),this.addHook("beforeChange",function(changes){return _this2.onBeforeChange(changes)}),this.addHook("beforeRender",function(force){return _this2.onBeforeRender(force)}),this.addHook("modifyColWidth",function(width,col){return _this2.getColumnWidth(col,width)}),this.addHook("afterInit",function(){return _this2.onAfterInit()}),_get(AutoColumnSize.prototype.__proto__||Object.getPrototypeOf(AutoColumnSize.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var changedColumns=this.findColumnsWhereHeaderWasChanged();changedColumns.length&&this.clearCache(changedColumns),_get(AutoColumnSize.prototype.__proto__||Object.getPrototypeOf(AutoColumnSize.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){_get(AutoColumnSize.prototype.__proto__||Object.getPrototypeOf(AutoColumnSize.prototype),"disablePlugin",this).call(this)}},{key:"calculateColumnsWidth",value:function(){var colRange=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},_this3=this,rowRange=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},force=2<arguments.length&&void 0!==arguments[2]&&arguments[2];"number"==typeof colRange&&(colRange={from:colRange,to:colRange}),"number"==typeof rowRange&&(rowRange={from:rowRange,to:rowRange}),(0,_number.rangeEach)(colRange.from,colRange.to,function(col){(force||void 0===_this3.widths[col]&&!_this3.hot._getColWidthFromSettings(col))&&_this3.samplesGenerator.generateColumnSamples(col,rowRange).forEach(function(sample,col){return _this3.ghostTable.addColumn(col,sample)})}),this.ghostTable.columns.length&&(this.ghostTable.getWidths(function(col,width){_this3.widths[col]=width}),this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var _this4=this,rowRange=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},current=0,length=this.hot.countCols()-1,timer=null;this.inProgress=!0;this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateColumnsWidth({from:0,to:this.getSyncCalculationLimit()},rowRange),this.firstCalculation=!1,current=this.getSyncCalculationLimit()+1),current<length?function loop(){if(!_this4.hot)return(0,_feature.cancelAnimationFrame)(timer),void(_this4.inProgress=!1);_this4.calculateColumnsWidth({from:current,to:Math.min(current+AutoColumnSize.CALCULATION_STEP,length)},rowRange),(current=current+AutoColumnSize.CALCULATION_STEP+1)<length?timer=(0,_feature.requestAnimationFrame)(loop):((0,_feature.cancelAnimationFrame)(timer),_this4.inProgress=!1,_this4.hot.view.wt.wtOverlays.adjustElementsSize(!0),_this4.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&_this4.hot.view.wt.wtOverlays.leftOverlay.clone.draw())}():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var setting=this.hot.getSettings().autoColumnSize,samplingRatio=setting&&(0,_object.hasOwnProperty)(setting,"samplingRatio")?this.hot.getSettings().autoColumnSize.samplingRatio:void 0,allowSampleDuplicates=setting&&(0,_object.hasOwnProperty)(setting,"allowSampleDuplicates")?this.hot.getSettings().autoColumnSize.allowSampleDuplicates:void 0;samplingRatio&&!isNaN(samplingRatio)&&this.samplesGenerator.setSampleCount(parseInt(samplingRatio,10)),allowSampleDuplicates&&this.samplesGenerator.setAllowDuplicates(allowSampleDuplicates)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&(0,_element.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var limit=AutoColumnSize.SYNC_CALCULATION_LIMIT,colsLimit=this.hot.countCols()-1;return(0,_object.isObject)(this.hot.getSettings().autoColumnSize)&&(limit=this.hot.getSettings().autoColumnSize.syncLimit,(0,_string.isPercentValue)(limit)?limit=(0,_number.valueAccordingPercent)(colsLimit,limit):limit>>=0),Math.min(limit,colsLimit)}},{key:"getColumnWidth",value:function(col){var defaultWidth=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,keepMinimum=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],width=defaultWidth;return void 0===width&&(width=this.widths[col],keepMinimum&&"number"==typeof width&&(width=Math.max(width,_src.ViewportColumnsCalculator.DEFAULT_WIDTH))),width}},{key:"getFirstVisibleColumn",value:function(){var wot=this.hot.view.wt;return wot.wtViewport.columnsVisibleCalculator?wot.wtTable.getFirstVisibleColumn():wot.wtViewport.columnsRenderCalculator?wot.wtTable.getFirstRenderedColumn():-1}},{key:"getLastVisibleColumn",value:function(){var wot=this.hot.view.wt;return wot.wtViewport.columnsVisibleCalculator?wot.wtTable.getLastVisibleColumn():wot.wtViewport.columnsRenderCalculator?wot.wtTable.getLastRenderedColumn():-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var columnHeaders=this.hot.getColHeader(),cachedColumnHeaders=privatePool.get(this).cachedColumnHeaders;return(0,_array.arrayReduce)(columnHeaders,function(acc,columnTitle,physicalColumn){var cachedColumnsLength=cachedColumnHeaders.length;return(cachedColumnsLength-1<physicalColumn||cachedColumnHeaders[physicalColumn]!==columnTitle)&&acc.push(physicalColumn),cachedColumnsLength-1<physicalColumn?cachedColumnHeaders.push(columnTitle):cachedColumnHeaders[physicalColumn]=columnTitle,acc},[])}},{key:"clearCache",value:function(){var _this5=this,columns=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];columns.length?(0,_array.arrayEach)(columns,function(physicalIndex){_this5.widths[physicalIndex]=void 0}):this.widths.length=0}},{key:"isNeedRecalculate",value:function(){return!!(0,_array.arrayFilter)(this.widths,function(item){return void 0===item}).length}},{key:"onBeforeRender",value:function(){var force=this.hot.renderCall;this.hot.countRows()&&(this.calculateColumnsWidth({from:this.getFirstVisibleColumn(),to:this.getLastVisibleColumn()},void 0,force),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth())}},{key:"onAfterLoadData",value:function(){var _this6=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){_this6.hot&&_this6.recalculateAllColumnsWidth()},0)}},{key:"onBeforeChange",value:function(changes){var _this7=this,changedColumns=(0,_array.arrayMap)(changes,function(_ref){var _ref2=_slicedToArray(_ref,2),column=(_ref2[0],_ref2[1]);return _this7.hot.propToCol(column)});this.clearCache(changedColumns)}},{key:"onBeforeColumnResize",value:function(col,size,isDblClick){return isDblClick&&(this.calculateColumnsWidth(col,void 0,!0),size=this.getColumnWidth(col,void 0,!1)),size}},{key:"onAfterInit",value:function(){privatePool.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"destroy",value:function(){this.ghostTable.clean(),_get(AutoColumnSize.prototype.__proto__||Object.getPrototypeOf(AutoColumnSize.prototype),"destroy",this).call(this)}}]),AutoColumnSize}();(0,_plugins.registerPlugin)("autoColumnSize",AutoColumnSize),exports.default=AutoColumnSize},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _base2=_interopRequireDefault(__webpack_require__(13)),_pluginHooks2=_interopRequireDefault(__webpack_require__(7)),_element=__webpack_require__(0),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_plugins=__webpack_require__(5),_src=__webpack_require__(12),_utils=__webpack_require__(250);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_pluginHooks2.default.getSingleton().register("modifyAutofillRange"),_pluginHooks2.default.getSingleton().register("beforeAutofill");var Autofill=function(_BasePlugin){function Autofill(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Autofill);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Autofill.__proto__||Object.getPrototypeOf(Autofill)).call(this,hotInstance));return _this.eventManager=new _eventManager2.default(_this),_this.addingStarted=!1,_this.mouseDownOnCellCorner=!1,_this.mouseDragOutside=!1,_this.handleDraggedCells=0,_this.directions=[],_this.autoInsertRow=!1,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Autofill,_base2.default),_createClass(Autofill,[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var _this2=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(event){return _this2.onAfterCellCornerMouseDown(event)}),this.addHook("afterOnCellCornerDblClick",function(event){return _this2.onCellCornerDblClick(event)}),this.addHook("beforeOnCellMouseOver",function(event,coords,TD){return _this2.onBeforeCellMouseOver(coords)}),_get(Autofill.prototype.__proto__||Object.getPrototypeOf(Autofill.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),_get(Autofill.prototype.__proto__||Object.getPrototypeOf(Autofill.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),_get(Autofill.prototype.__proto__||Object.getPrototypeOf(Autofill.prototype),"disablePlugin",this).call(this)}},{key:"getSelectionData",value:function(){var selRange={from:this.hot.getSelectedRange().from,to:this.hot.getSelectedRange().to};return this.hot.getData(selRange.from.row,selRange.from.col,selRange.to.row,selRange.to.col)}},{key:"fillIn",value:function(){if(this.hot.view.wt.selections.fill.isEmpty())return!1;var cornersOfSelectionAndDragAreas=this.hot.view.wt.selections.fill.getCorners();this.resetSelectionOfDraggedArea();var cornersOfSelectedCells=this.getCornersOfSelectedCells(),_getDragDirectionAndR=(0,_utils.getDragDirectionAndRange)(cornersOfSelectedCells,cornersOfSelectionAndDragAreas),directionOfDrag=_getDragDirectionAndR.directionOfDrag,startOfDragCoords=_getDragDirectionAndR.startOfDragCoords,endOfDragCoords=_getDragDirectionAndR.endOfDragCoords;if(this.hot.runHooks("modifyAutofillRange",cornersOfSelectedCells,cornersOfSelectionAndDragAreas),startOfDragCoords&&-1<startOfDragCoords.row&&-1<startOfDragCoords.col){var selectionData=this.getSelectionData(),deltas=(0,_utils.getDeltas)(startOfDragCoords,endOfDragCoords,selectionData,directionOfDrag),fillData=selectionData;if(this.hot.runHooks("beforeAutofill",startOfDragCoords,endOfDragCoords,selectionData),-1<["up","left"].indexOf(directionOfDrag)){fillData=[];var dragLength=null,fillOffset=null;if("up"===directionOfDrag){fillOffset=(dragLength=endOfDragCoords.row-startOfDragCoords.row+1)%selectionData.length;for(var i=0;i<dragLength;i++)fillData.push(selectionData[(i+(selectionData.length-fillOffset))%selectionData.length])}else{fillOffset=(dragLength=endOfDragCoords.col-startOfDragCoords.col+1)%selectionData[0].length;for(var _i=0;_i<selectionData.length;_i++){fillData.push([]);for(var j=0;j<dragLength;j++)fillData[_i].push(selectionData[_i][(j+(selectionData[_i].length-fillOffset))%selectionData[_i].length])}}}this.hot.populateFromArray(startOfDragCoords.row,startOfDragCoords.col,fillData,endOfDragCoords.row,endOfDragCoords.col,this.pluginName+".fill",null,directionOfDrag,deltas),this.setSelection(cornersOfSelectionAndDragAreas)}else this.hot.selection.refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(coords){return coords.row<0&&(coords.row=0),coords.col<0&&(coords.col=0),coords}},{key:"getCoordsOfDragAndDropBorders",value:function(coordsOfSelection){var topLeftCorner=this.hot.getSelectedRange().getTopLeftCorner(),bottomRightCorner=this.hot.getSelectedRange().getBottomRightCorner(),coords=void 0;if(this.directions.includes(_utils.DIRECTIONS.vertical)&&(bottomRightCorner.row<coordsOfSelection.row||topLeftCorner.row>coordsOfSelection.row))coords=new _src.CellCoords(coordsOfSelection.row,bottomRightCorner.col);else{if(!this.directions.includes(_utils.DIRECTIONS.horizontal))return;coords=new _src.CellCoords(bottomRightCorner.row,coordsOfSelection.col)}return this.reduceSelectionAreaIfNeeded(coords)}},{key:"showBorder",value:function(coordsOfSelection){var coordsOfDragAndDropBorders=this.getCoordsOfDragAndDropBorders(coordsOfSelection);coordsOfDragAndDropBorders&&this.redrawBorders(coordsOfDragAndDropBorders)}},{key:"addRow",value:function(){var _this3=this;this.hot._registerTimeout(setTimeout(function(){_this3.hot.alter("insert_row",void 0,1,_this3.pluginName+".fill"),_this3.addingStarted=!1},200))}},{key:"addNewRowIfNeeded",value:function(){if(this.hot.view.wt.selections.fill.cellRange&&!1===this.addingStarted&&this.autoInsertRow){var cornersOfSelectedCells=this.hot.getSelected(),cornersOfSelectedDragArea=this.hot.view.wt.selections.fill.getCorners(),nrOfTableRows=this.hot.countRows();cornersOfSelectedCells[2]<nrOfTableRows-1&&cornersOfSelectedDragArea[2]===nrOfTableRows-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getCornersOfSelectedCells",value:function(){return this.hot.selection.isMultiple()?this.hot.view.wt.selections.area.getCorners():this.hot.view.wt.selections.current.getCorners()}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(cornersOfSelectedCells){for(var data=this.hot.getData(),nrOfTableRows=this.hot.countRows(),lastFilledInRowIndex=void 0,rowIndex=cornersOfSelectedCells[2]+1;rowIndex<nrOfTableRows;rowIndex++){for(var columnIndex=cornersOfSelectedCells[1];columnIndex<=cornersOfSelectedCells[3];columnIndex++){if(data[rowIndex][columnIndex])return-1}var dataInNextLeftCell=data[rowIndex][cornersOfSelectedCells[1]-1],dataInNextRightCell=data[rowIndex][cornersOfSelectedCells[3]+1];(dataInNextLeftCell||dataInNextRightCell)&&(lastFilledInRowIndex=rowIndex)}return lastFilledInRowIndex}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(selectStartArea,rowIndex){this.hot.view.wt.selections.fill.clear(),this.hot.view.wt.selections.fill.add(new _src.CellCoords(selectStartArea[0],selectStartArea[1])),this.hot.view.wt.selections.fill.add(new _src.CellCoords(rowIndex,selectStartArea[3]))}},{key:"setSelection",value:function(cornersOfArea){this.hot.selection.setRangeStart(new _src.CellCoords(cornersOfArea[0],cornersOfArea[1])),this.hot.selection.setRangeEnd(new _src.CellCoords(cornersOfArea[2],cornersOfArea[3]))}},{key:"selectAdjacent",value:function(){var cornersOfSelectedCells=this.getCornersOfSelectedCells(),lastFilledInRowIndex=this.getIndexOfLastAdjacentFilledInRow(cornersOfSelectedCells);return-1!==lastFilledInRowIndex&&(this.addSelectionFromStartAreaToSpecificRowIndex(cornersOfSelectedCells,lastFilledInRowIndex),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.view.wt.selections.fill.clear()}},{key:"redrawBorders",value:function(coords){this.hot.view.wt.selections.fill.clear(),this.hot.view.wt.selections.fill.add(this.hot.getSelectedRange().from),this.hot.view.wt.selections.fill.add(this.hot.getSelectedRange().to),this.hot.view.wt.selections.fill.add(coords),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(event){var tableBottom=(0,_element.offset)(this.hot.table).top-(window.pageYOffset||document.documentElement.scrollTop)+(0,_element.outerHeight)(this.hot.table),tableRight=(0,_element.offset)(this.hot.table).left-(window.pageXOffset||document.documentElement.scrollLeft)+(0,_element.outerWidth)(this.hot.table);return event.clientY>tableBottom&&event.clientX<=tableRight}},{key:"registerEvents",value:function(){var _this4=this;this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return _this4.onMouseUp()}),this.eventManager.addEventListener(document.documentElement,"mousemove",function(event){return _this4.onMouseMove(event)})}},{key:"onCellCornerDblClick",value:function(){this.selectAdjacent()&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(coords){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells++,this.showBorder(coords),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(1<this.handleDraggedCells&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(event){var mouseWasDraggedOutside=this.getIfMouseWasDraggedOutside(event);!1===this.addingStarted&&0<this.handleDraggedCells&&mouseWasDraggedOutside?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var mappedSettings=(0,_utils.getMappedFillHandleSetting)(this.hot.getSettings().fillHandle);this.directions=mappedSettings.directions,this.autoInsertRow=mappedSettings.autoInsertRow}},{key:"destroy",value:function(){_get(Autofill.prototype.__proto__||Object.getPrototypeOf(Autofill.prototype),"destroy",this).call(this)}}]),Autofill}();(0,_plugins.registerPlugin)("autofill",Autofill),exports.default=Autofill},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.DIRECTIONS=void 0,exports.getDeltas=function(start,end,data,direction){var rowsLength=data.length,columnsLength=data?data[0].length:0,deltas=[],diffRow=end.row-start.row,diffCol=end.col-start.col;if(-1!==["down","up"].indexOf(direction)){for(var arr=[],col=0;col<=diffCol;col++){var startValue=parseInt(data[0][col],10),endValue=parseInt(data[rowsLength-1][col],10),delta=("down"===direction?endValue-startValue:startValue-endValue)/(rowsLength-1)||0;arr.push(delta)}deltas.push(arr)}if(-1!==["right","left"].indexOf(direction))for(var row=0;row<=diffRow;row++){var _startValue=parseInt(data[row][0],10),_endValue=parseInt(data[row][columnsLength-1],10),_delta=("right"===direction?_endValue-_startValue:_startValue-_endValue)/(columnsLength-1)||0;deltas.push([_delta])}return deltas},exports.getDragDirectionAndRange=function(startSelection,endSelection){var startOfDragCoords=void 0,endOfDragCoords=void 0,directionOfDrag=void 0;endSelection[0]===startSelection[0]&&endSelection[1]<startSelection[1]?(directionOfDrag="left",startOfDragCoords=new _src.CellCoords(endSelection[0],endSelection[1]),endOfDragCoords=new _src.CellCoords(endSelection[2],startSelection[1]-1)):endSelection[0]===startSelection[0]&&endSelection[3]>startSelection[3]?(directionOfDrag="right",startOfDragCoords=new _src.CellCoords(endSelection[0],startSelection[3]+1),endOfDragCoords=new _src.CellCoords(endSelection[2],endSelection[3])):endSelection[0]<startSelection[0]&&endSelection[1]===startSelection[1]?(directionOfDrag="up",startOfDragCoords=new _src.CellCoords(endSelection[0],endSelection[1]),endOfDragCoords=new _src.CellCoords(startSelection[0]-1,endSelection[3])):endSelection[2]>startSelection[2]&&endSelection[1]===startSelection[1]&&(directionOfDrag="down",startOfDragCoords=new _src.CellCoords(startSelection[2]+1,endSelection[1]),endOfDragCoords=new _src.CellCoords(endSelection[2],endSelection[3]));return{directionOfDrag:directionOfDrag,startOfDragCoords:startOfDragCoords,endOfDragCoords:endOfDragCoords}},exports.getMappedFillHandleSetting=function(fillHandle){var mappedSettings={};!0===fillHandle?(mappedSettings.directions=Object.keys(DIRECTIONS),mappedSettings.autoInsertRow=!0):(0,_object.isObject)(fillHandle)?((0,_mixed.isDefined)(fillHandle.autoInsertRow)?fillHandle.direction===DIRECTIONS.horizontal?mappedSettings.autoInsertRow=!1:mappedSettings.autoInsertRow=fillHandle.autoInsertRow:mappedSettings.autoInsertRow=!1,(0,_mixed.isDefined)(fillHandle.direction)?mappedSettings.directions=[fillHandle.direction]:mappedSettings.directions=Object.keys(DIRECTIONS)):"string"==typeof fillHandle?(mappedSettings.directions=[fillHandle],mappedSettings.autoInsertRow=!0):(mappedSettings.directions=[],mappedSettings.autoInsertRow=!1);return mappedSettings};var _object=__webpack_require__(1),_mixed=__webpack_require__(22),_src=__webpack_require__(12),DIRECTIONS=exports.DIRECTIONS={horizontal:"horizontal",vertical:"vertical"}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _base2=_interopRequireDefault(__webpack_require__(13)),_array=__webpack_require__(2),_feature=__webpack_require__(34),_element=__webpack_require__(0),_ghostTable2=_interopRequireDefault(__webpack_require__(85)),_object=__webpack_require__(1),_number=__webpack_require__(6),_plugins=__webpack_require__(5),_samplesGenerator2=_interopRequireDefault(__webpack_require__(175)),_string=__webpack_require__(32);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AutoRowSize=function(_BasePlugin){function AutoRowSize(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AutoRowSize);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(AutoRowSize.__proto__||Object.getPrototypeOf(AutoRowSize)).call(this,hotInstance));return _this.heights=[],_this.ghostTable=new _ghostTable2.default(_this.hot),_this.samplesGenerator=new _samplesGenerator2.default(function(row,col){return 0<=row?_this.hot.getDataAtCell(row,col):-1===row?_this.hot.getColHeader(col):null}),_this.firstCalculation=!0,_this.inProgress=!1,_this.addHook("beforeRowResize",function(row,size,isDblClick){return _this.onBeforeRowResize(row,size,isDblClick)}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(AutoRowSize,_base2.default),_createClass(AutoRowSize,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}]),_createClass(AutoRowSize,[{key:"isEnabled",value:function(){return!0===this.hot.getSettings().autoRowSize||(0,_object.isObject)(this.hot.getSettings().autoRowSize)}},{key:"enablePlugin",value:function(){var _this2=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){return _this2.onAfterLoadData()}),this.addHook("beforeChange",function(changes){return _this2.onBeforeChange(changes)}),this.addHook("beforeColumnMove",function(){return _this2.recalculateAllRowsHeight()}),this.addHook("beforeColumnResize",function(){return _this2.recalculateAllRowsHeight()}),this.addHook("beforeColumnSort",function(){return _this2.clearCache()}),this.addHook("beforeRender",function(force){return _this2.onBeforeRender(force)}),this.addHook("beforeRowMove",function(rowStart,rowEnd){return _this2.onBeforeRowMove(rowStart,rowEnd)}),this.addHook("modifyRowHeight",function(height,row){return _this2.getRowHeight(row,height)}),this.addHook("modifyColumnHeaderHeight",function(){return _this2.getColumnHeaderHeight()}),_get(AutoRowSize.prototype.__proto__||Object.getPrototypeOf(AutoRowSize.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){_get(AutoRowSize.prototype.__proto__||Object.getPrototypeOf(AutoRowSize.prototype),"disablePlugin",this).call(this)}},{key:"calculateRowsHeight",value:function(){var rowRange=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},_this3=this,colRange=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},force=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if("number"==typeof rowRange&&(rowRange={from:rowRange,to:rowRange}),"number"==typeof colRange&&(colRange={from:colRange,to:colRange}),null!==this.hot.getColHeader(0)){var samples=this.samplesGenerator.generateRowSamples(-1,colRange);this.ghostTable.addColumnHeadersRow(samples.get(-1))}(0,_number.rangeEach)(rowRange.from,rowRange.to,function(row){!force&&void 0!==_this3.heights[row]||_this3.samplesGenerator.generateRowSamples(row,colRange).forEach(function(sample,row){_this3.ghostTable.addRow(row,sample)})}),this.ghostTable.rows.length&&(this.ghostTable.getHeights(function(row,height){_this3.heights[row]=height}),this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var _this4=this,colRange=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},current=0,length=this.hot.countRows()-1,timer=null;this.inProgress=!0;this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateRowsHeight({from:0,to:this.getSyncCalculationLimit()},colRange),this.firstCalculation=!1,current=this.getSyncCalculationLimit()+1),current<length?function loop(){if(!_this4.hot)return(0,_feature.cancelAnimationFrame)(timer),void(_this4.inProgress=!1);_this4.calculateRowsHeight({from:current,to:Math.min(current+AutoRowSize.CALCULATION_STEP,length)},colRange),(current=current+AutoRowSize.CALCULATION_STEP+1)<length?timer=(0,_feature.requestAnimationFrame)(loop):((0,_feature.cancelAnimationFrame)(timer),_this4.inProgress=!1,_this4.hot.view.wt.wtOverlays.adjustElementsSize(!0),_this4.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&_this4.hot.view.wt.wtOverlays.leftOverlay.clone.draw())}():(this.inProgress=!1,this.hot.view.wt.wtOverlays.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var setting=this.hot.getSettings().autoRowSize,samplingRatio=setting&&(0,_object.hasOwnProperty)(setting,"samplingRatio")?this.hot.getSettings().autoRowSize.samplingRatio:void 0,allowSampleDuplicates=setting&&(0,_object.hasOwnProperty)(setting,"allowSampleDuplicates")?this.hot.getSettings().autoRowSize.allowSampleDuplicates:void 0;samplingRatio&&!isNaN(samplingRatio)&&this.samplesGenerator.setSampleCount(parseInt(samplingRatio,10)),allowSampleDuplicates&&this.samplesGenerator.setAllowDuplicates(allowSampleDuplicates)}},{key:"recalculateAllRowsHeight",value:function(){(0,_element.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var limit=AutoRowSize.SYNC_CALCULATION_LIMIT,rowsLimit=this.hot.countRows()-1;return(0,_object.isObject)(this.hot.getSettings().autoRowSize)&&(limit=this.hot.getSettings().autoRowSize.syncLimit,(0,_string.isPercentValue)(limit)?limit=(0,_number.valueAccordingPercent)(rowsLimit,limit):limit>>=0),Math.min(limit,rowsLimit)}},{key:"getRowHeight",value:function(row){var defaultHeight=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,height=defaultHeight;return void 0!==this.heights[row]&&this.heights[row]>(defaultHeight||0)&&(height=this.heights[row]),height}},{key:"getColumnHeaderHeight",value:function(){return this.heights[-1]}},{key:"getFirstVisibleRow",value:function(){var wot=this.hot.view.wt;return wot.wtViewport.rowsVisibleCalculator?wot.wtTable.getFirstVisibleRow():wot.wtViewport.rowsRenderCalculator?wot.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var wot=this.hot.view.wt;return wot.wtViewport.rowsVisibleCalculator?wot.wtTable.getLastVisibleRow():wot.wtViewport.rowsRenderCalculator?wot.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.heights.length=0,this.heights[-1]=void 0}},{key:"clearCacheByRange",value:function(range){var _this5=this;"number"==typeof range&&(range={from:range,to:range}),(0,_number.rangeEach)(Math.min(range.from,range.to),Math.max(range.from,range.to),function(row){_this5.heights[row]=void 0})}},{key:"isNeedRecalculate",value:function(){return!!(0,_array.arrayFilter)(this.heights,function(item){return void 0===item}).length}},{key:"onBeforeRender",value:function(){var force=this.hot.renderCall;this.calculateRowsHeight({from:this.getFirstVisibleRow(),to:this.getLastVisibleRow()},void 0,force);var fixedRowsBottom=this.hot.getSettings().fixedRowsBottom;if(fixedRowsBottom){var totalRows=this.hot.countRows()-1;this.calculateRowsHeight({from:totalRows-fixedRowsBottom,to:totalRows})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}},{key:"onBeforeRowMove",value:function(from,to){this.clearCacheByRange({from:from,to:to}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(row,size,isDblClick){return isDblClick&&(this.calculateRowsHeight(row,void 0,!0),size=this.getRowHeight(row)),size}},{key:"onAfterLoadData",value:function(){var _this6=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){_this6.hot&&_this6.recalculateAllRowsHeight()},0)}},{key:"onBeforeChange",value:function(changes){var range=null;1===changes.length?range=changes[0][0]:1<changes.length&&(range={from:changes[0][0],to:changes[changes.length-1][0]}),null!==range&&this.clearCacheByRange(range)}},{key:"destroy",value:function(){this.ghostTable.clean(),_get(AutoRowSize.prototype.__proto__||Object.getPrototypeOf(AutoRowSize.prototype),"destroy",this).call(this)}}]),AutoRowSize}();(0,_plugins.registerPlugin)("autoRowSize",AutoRowSize),exports.default=AutoRowSize},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _moment2=_interopRequireDefault(__webpack_require__(50)),_element=__webpack_require__(0),_array=__webpack_require__(2),_mixed=__webpack_require__(22),_object=__webpack_require__(1),_base2=_interopRequireDefault(__webpack_require__(13)),_plugins=__webpack_require__(5),_mergeSort2=_interopRequireDefault(__webpack_require__(253)),_pluginHooks2=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_pluginHooks2.default.getSingleton().register("beforeColumnSort"),_pluginHooks2.default.getSingleton().register("afterColumnSort");var ColumnSorting=function(_BasePlugin){function ColumnSorting(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ColumnSorting);var _this2=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ColumnSorting.__proto__||Object.getPrototypeOf(ColumnSorting)).call(this,hotInstance));return _this2.sortIndicators=[],_this2.lastSortedColumn=null,_this2.sortEmptyCells=!1,_this2}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ColumnSorting,_base2.default),_createClass(ColumnSorting,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().columnSorting}},{key:"enablePlugin",value:function(){var _this3=this;if(!this.enabled){this.setPluginOptions();var _this=this;this.hot.sortIndex=[],this.hot.sort=function(){var args=Array.prototype.slice.call(arguments);return _this.sortByColumn.apply(_this,function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(args))},void 0===this.hot.getSettings().observeChanges&&this.enableObserveChangesPlugin(),this.addHook("afterTrimRow",function(row){return _this3.sort()}),this.addHook("afterUntrimRow",function(row){return _this3.sort()}),this.addHook("modifyRow",function(row){return _this3.translateRow(row)}),this.addHook("unmodifyRow",function(row){return _this3.untranslateRow(row)}),this.addHook("afterUpdateSettings",function(){return _this3.onAfterUpdateSettings()}),this.addHook("afterGetColHeader",function(col,TH){return _this3.getColHeader(col,TH)}),this.addHook("afterOnCellMouseDown",function(event,target){return _this3.onAfterOnCellMouseDown(event,target)}),this.addHook("afterCreateRow",function(){_this.afterCreateRow.apply(_this,arguments)}),this.addHook("afterRemoveRow",function(){_this.afterRemoveRow.apply(_this,arguments)}),this.addHook("afterInit",function(){return _this3.sortBySettings()}),this.addHook("afterLoadData",function(){_this3.hot.sortIndex=[],_this3.hot.view&&_this3.sortBySettings()}),this.hot.view&&this.sortBySettings(),_get(ColumnSorting.prototype.__proto__||Object.getPrototypeOf(ColumnSorting.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.sort=void 0,_get(ColumnSorting.prototype.__proto__||Object.getPrototypeOf(ColumnSorting.prototype),"disablePlugin",this).call(this)}},{key:"onAfterUpdateSettings",value:function(){this.sortBySettings()}},{key:"sortBySettings",value:function(){var sortingSettings=this.hot.getSettings().columnSorting,loadedSortingState=this.loadSortingState(),sortingColumn=void 0,sortingOrder=void 0;sortingOrder=void 0===loadedSortingState?(sortingColumn=sortingSettings.column,sortingSettings.sortOrder):(sortingColumn=loadedSortingState.sortColumn,loadedSortingState.sortOrder),"number"==typeof sortingColumn&&(this.lastSortedColumn=sortingColumn,this.sortByColumn(sortingColumn,sortingOrder))}},{key:"setSortingColumn",value:function(col,order){if(void 0===col)return this.hot.sortColumn=void 0,void(this.hot.sortOrder=void 0);this.hot.sortColumn===col&&void 0===order?!1===this.hot.sortOrder?this.hot.sortOrder=void 0:this.hot.sortOrder=!this.hot.sortOrder:this.hot.sortOrder=void 0===order||order,this.hot.sortColumn=col}},{key:"sortByColumn",value:function(col,order){this.setSortingColumn(col,order),void 0!==this.hot.sortColumn&&(!1!==this.hot.runHooks("beforeColumnSort",this.hot.sortColumn,this.hot.sortOrder)&&this.sort(),this.updateOrderClass(),this.updateSortIndicator(),this.hot.runHooks("afterColumnSort",this.hot.sortColumn,this.hot.sortOrder),this.hot.render(),this.saveSortingState())}},{key:"saveSortingState",value:function(){var sortingState={};void 0!==this.hot.sortColumn&&(sortingState.sortColumn=this.hot.sortColumn),void 0!==this.hot.sortOrder&&(sortingState.sortOrder=this.hot.sortOrder),((0,_object.hasOwnProperty)(sortingState,"sortColumn")||(0,_object.hasOwnProperty)(sortingState,"sortOrder"))&&this.hot.runHooks("persistentStateSave","columnSorting",sortingState)}},{key:"loadSortingState",value:function(){var storedState={};return this.hot.runHooks("persistentStateLoad","columnSorting",storedState),storedState.value}},{key:"updateOrderClass",value:function(){var orderClass=void 0;!0===this.hot.sortOrder?orderClass="ascending":!1===this.hot.sortOrder&&(orderClass="descending"),this.sortOrderClass=orderClass}},{key:"enableObserveChangesPlugin",value:function(){var _this=this;this.hot._registerTimeout(setTimeout(function(){_this.hot.updateSettings({observeChanges:!0})},0))}},{key:"defaultSort",value:function(sortOrder,columnMeta){return function(a,b){return"string"==typeof a[1]&&(a[1]=a[1].toLowerCase()),"string"==typeof b[1]&&(b[1]=b[1].toLowerCase()),a[1]===b[1]?0:(0,_mixed.isEmpty)(a[1])?(0,_mixed.isEmpty)(b[1])?0:columnMeta.columnSorting.sortEmptyCells&&sortOrder?-1:1:(0,_mixed.isEmpty)(b[1])?(0,_mixed.isEmpty)(a[1])?0:columnMeta.columnSorting.sortEmptyCells&&sortOrder?1:-1:isNaN(a[1])&&!isNaN(b[1])?sortOrder?1:-1:!isNaN(a[1])&&isNaN(b[1])?sortOrder?-1:1:(isNaN(a[1])||isNaN(b[1])||(a[1]=parseFloat(a[1]),b[1]=parseFloat(b[1])),a[1]<b[1]?sortOrder?-1:1:a[1]>b[1]?sortOrder?1:-1:0)}}},{key:"dateSort",value:function(sortOrder,columnMeta){return function(a,b){if(a[1]===b[1])return 0;if((0,_mixed.isEmpty)(a[1]))return(0,_mixed.isEmpty)(b[1])?0:columnMeta.columnSorting.sortEmptyCells&&sortOrder?-1:1;if((0,_mixed.isEmpty)(b[1]))return(0,_mixed.isEmpty)(a[1])?0:columnMeta.columnSorting.sortEmptyCells&&sortOrder?1:-1;var aDate=(0,_moment2.default)(a[1],columnMeta.dateFormat),bDate=(0,_moment2.default)(b[1],columnMeta.dateFormat);return aDate.isValid()?bDate.isValid()?bDate.isAfter(aDate)?sortOrder?-1:1:bDate.isBefore(aDate)?sortOrder?1:-1:0:-1:1}}},{key:"numericSort",value:function(sortOrder,columnMeta){return function(a,b){var parsedA=parseFloat(a[1]),parsedB=parseFloat(b[1]);if(parsedA===parsedB||isNaN(parsedA)&&isNaN(parsedB))return 0;if(columnMeta.columnSorting.sortEmptyCells){if((0,_mixed.isEmpty)(a[1]))return sortOrder?-1:1;if((0,_mixed.isEmpty)(b[1]))return sortOrder?1:-1}return isNaN(parsedA)?1:isNaN(parsedB)?-1:parsedA<parsedB?sortOrder?-1:1:parsedB<parsedA?sortOrder?1:-1:0}}},{key:"sort",value:function(){if(void 0!==this.hot.sortOrder){var colMeta=this.hot.getCellMeta(0,this.hot.sortColumn),emptyRows=this.hot.countEmptyRows(),sortFunction=void 0;this.hot.sortingEnabled=!1,void(this.hot.sortIndex.length=0)===colMeta.columnSorting.sortEmptyCells&&(colMeta.columnSorting={sortEmptyCells:this.sortEmptyCells});for(var i=0,ilen=this.hot.getSettings().maxRows===Number.POSITIVE_INFINITY?this.hot.countRows()-this.hot.getSettings().minSpareRows:this.hot.countRows()-emptyRows;i<ilen;i++)this.hot.sortIndex.push([i,this.hot.getDataAtCell(i,this.hot.sortColumn)]);if(colMeta.sortFunction)sortFunction=colMeta.sortFunction;else switch(colMeta.type){case"date":sortFunction=this.dateSort;break;case"numeric":sortFunction=this.numericSort;break;default:sortFunction=this.defaultSort}(0,_mergeSort2.default)(this.hot.sortIndex,sortFunction(this.hot.sortOrder,colMeta));for(var _i=this.hot.sortIndex.length;_i<this.hot.countRows();_i++)this.hot.sortIndex.push([_i,this.hot.getDataAtCell(_i,this.hot.sortColumn)]);this.hot.sortingEnabled=!0}else this.hot.sortIndex.length=0}},{key:"updateSortIndicator",value:function(){if(void 0!==this.hot.sortOrder){var colMeta=this.hot.getCellMeta(0,this.hot.sortColumn);this.sortIndicators[this.hot.sortColumn]=colMeta.sortIndicator}}},{key:"translateRow",value:function(row){return this.hot.sortingEnabled&&void 0!==this.hot.sortOrder&&this.hot.sortIndex&&this.hot.sortIndex.length&&this.hot.sortIndex[row]?this.hot.sortIndex[row][0]:row}},{key:"untranslateRow",value:function(row){if(this.hot.sortingEnabled&&this.hot.sortIndex&&this.hot.sortIndex.length)for(var i=0;i<this.hot.sortIndex.length;i++)if(this.hot.sortIndex[i][0]==row)return i}},{key:"getColHeader",value:function(col,TH){if(col<0||!TH.parentNode)return!1;var headerLink=TH.querySelector(".colHeader"),TRs=(TH.getAttribute("colspan"),TH.parentNode.parentNode.childNodes),headerLevel=Array.prototype.indexOf.call(TRs,TH.parentNode);headerLevel-=TRs.length,headerLink&&(this.hot.getSettings().columnSorting&&0<=col&&-1==headerLevel&&(0,_element.addClass)(headerLink,"columnSorting"),(0,_element.removeClass)(headerLink,"descending"),(0,_element.removeClass)(headerLink,"ascending"),this.sortIndicators[col]&&col===this.hot.sortColumn&&("ascending"===this.sortOrderClass?(0,_element.addClass)(headerLink,"ascending"):"descending"===this.sortOrderClass&&(0,_element.addClass)(headerLink,"descending")))}},{key:"isSorted",value:function(){return void 0!==this.hot.sortColumn}},{key:"afterCreateRow",value:function(index,amount){if(this.isSorted()){for(var i=0;i<this.hot.sortIndex.length;i++)this.hot.sortIndex[i][0]>=index&&(this.hot.sortIndex[i][0]+=amount);for(var _i2=0;_i2<amount;_i2++)this.hot.sortIndex.splice(index+_i2,0,[index+_i2,this.hot.getSourceData()[index+_i2][this.hot.sortColumn+this.hot.colOffset()]]);this.saveSortingState()}}},{key:"afterRemoveRow",value:function(index,amount){if(this.isSorted()){var removedRows=this.hot.sortIndex.splice(index,amount);removedRows=(0,_array.arrayMap)(removedRows,function(row){return row[0]}),this.hot.sortIndex=(0,_array.arrayMap)(this.hot.sortIndex,function(logicalRow,physicalRow){var rowShift=function(logicalRow){return(0,_array.arrayReduce)(removedRows,function(count,removedLogicalRow){return removedLogicalRow<logicalRow&&count++,count},0)}(logicalRow[0]);return rowShift&&(logicalRow[0]-=rowShift),logicalRow}),this.saveSortingState()}}},{key:"setPluginOptions",value:function(){var columnSorting=this.hot.getSettings().columnSorting;"object"===(void 0===columnSorting?"undefined":_typeof(columnSorting))?this.sortEmptyCells=columnSorting.sortEmptyCells||!1:this.sortEmptyCells=!1}},{key:"onAfterOnCellMouseDown",value:function(event,coords){-1<coords.row||(0,_element.hasClass)(event.realTarget,"columnSorting")&&(coords.col!==this.lastSortedColumn&&(this.hot.sortOrder=!0),this.lastSortedColumn=coords.col,this.sortByColumn(coords.col))}}]),ColumnSorting}();(0,_plugins.registerPlugin)("columnSorting",ColumnSorting),exports.default=ColumnSorting},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function mergeSort(array){var compareFunction=1<arguments.length&&void 0!==arguments[1]?arguments[1]:defaultCompareFunction;var startIndex=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;var endIndex=3<arguments.length&&void 0!==arguments[3]?arguments[3]:array.length;if(Math.abs(endIndex-startIndex)<=1)return[];var middleIndex=Math.ceil((startIndex+endIndex)/2);mergeSort(array,compareFunction,startIndex,middleIndex);mergeSort(array,compareFunction,middleIndex,endIndex);return merge(array,compareFunction,startIndex,middleIndex,endIndex)},exports.merge=merge;var obj,_linkedList=__webpack_require__(254),_linkedList2=(obj=_linkedList)&&obj.__esModule?obj:{default:obj};var defaultCompareFunction=function(a,b){var firstValue=a.toString(),secondValue=b.toString();return firstValue===secondValue?0:firstValue<secondValue?-1:1};function merge(array,compareFunction,startIndex,middleIndex,endIndex){for(var leftElements=new _linkedList2.default,rightElements=new _linkedList2.default,leftSize=middleIndex-startIndex,rightSize=endIndex-middleIndex,maxSize=Math.max(leftSize,rightSize),size=endIndex-startIndex,_i=0;_i<maxSize;_i+=1)_i<leftSize&&leftElements.push(array[startIndex+_i]),_i<rightSize&&rightElements.push(array[middleIndex+_i]);for(var i=0;i<size;)leftElements.first&&rightElements.first?0<compareFunction(leftElements.first.data,rightElements.first.data)?array[startIndex+i]=rightElements.shift().data:array[startIndex+i]=leftElements.shift().data:leftElements.first?array[startIndex+i]=leftElements.shift().data:array[startIndex+i]=rightElements.shift().data,i+=1;return array}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function NodeStructure(data){_classCallCheck(this,NodeStructure),this.data=data,this.next=null,this.prev=null}var LinkedList=function(){function LinkedList(){_classCallCheck(this,LinkedList),this.first=null,this.last=null}return _createClass(LinkedList,[{key:"push",value:function(data){var node=new NodeStructure(data);if(null===this.first)this.first=node,this.last=node;else{var temp=this.last;((this.last=node).prev=temp).next=node}}},{key:"unshift",value:function(data){var node=new NodeStructure(data);if(null===this.first)this.first=node,this.last=node;else{var temp=this.first;((this.first=node).next=temp).prev=node}}},{key:"inorder",value:function(callback){for(var temp=this.first;temp;)callback(temp),temp=temp.next}},{key:"remove",value:function(data){if(null===this.first)return!1;for(var temp=this.first,next=void 0,prev=void 0;temp;){if(temp.data===data)return next=temp.next,prev=temp.prev,next&&(next.prev=prev),prev&&(prev.next=next),temp===this.first&&(this.first=next),temp===this.last&&(this.last=prev),!0;temp=temp.next}return!1}},{key:"hasCycle",value:function(){for(var fast=this.first,slow=this.first;;){if(null===fast)return!1;if(null===(fast=fast.next))return!1;if((fast=fast.next)===(slow=slow.next))return!0}}},{key:"pop",value:function(){if(null===this.last)return null;var temp=this.last;return this.last=this.last.prev,temp}},{key:"shift",value:function(){if(null===this.first)return null;var temp=this.first;return this.first=this.first.next,temp}},{key:"recursiveReverse",value:function(){if(this.first){!function inverse(current,next){next&&(inverse(next,next.next),next.next=current)}(this.first,this.first.next),this.first.next=null;var temp=this.first;this.first=this.last,this.last=temp}}},{key:"reverse",value:function(){if(this.first&&this.first.next){for(var current=this.first.next,prev=this.first,temp=void 0;current;)temp=current.next,prev=(current.next=prev).prev=current,current=temp;this.first.next=null,this.last.prev=null,temp=this.first,this.first=prev,this.last=temp}}}]),LinkedList}();exports.NodeStructure=NodeStructure,exports.default=LinkedList},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _element=__webpack_require__(0),_object=__webpack_require__(1),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_src=__webpack_require__(12),_plugins=__webpack_require__(5),_base2=_interopRequireDefault(__webpack_require__(13)),_commentEditor2=_interopRequireDefault(__webpack_require__(256)),_utils=__webpack_require__(19),_displaySwitch2=_interopRequireDefault(__webpack_require__(257));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__(258);var privatePool=new WeakMap,Comments=function(_BasePlugin){function Comments(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Comments);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Comments.__proto__||Object.getPrototypeOf(Comments)).call(this,hotInstance));return _this.editor=null,_this.displaySwitch=null,_this.eventManager=null,_this.range={},_this.mouseDown=!1,_this.contextMenuEvent=!1,_this.timer=null,privatePool.set(_this,{tempEditorDimensions:{},cellBelowCursor:null}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Comments,_base2.default),_createClass(Comments,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().comments}},{key:"enablePlugin",value:function(){var _this2=this;this.enabled||(this.editor||(this.editor=new _commentEditor2.default),this.eventManager||(this.eventManager=new _eventManager2.default(this)),this.displaySwitch||(this.displaySwitch=new _displaySwitch2.default(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",function(options){return _this2.addToContextMenu(options)}),this.addHook("afterRenderer",function(TD,row,col,prop,value,cellProperties){return _this2.onAfterRenderer(TD,cellProperties)}),this.addHook("afterScrollHorizontally",function(){return _this2.hide()}),this.addHook("afterScrollVertically",function(){return _this2.hide()}),this.addHook("afterBeginEditing",function(args){return _this2.onAfterBeginEditing(args)}),this.displaySwitch.addLocalHook("hide",function(){return _this2.hide()}),this.displaySwitch.addLocalHook("show",function(row,col){return _this2.showAtCell(row,col)}),this.registerListeners(),_get(Comments.prototype.__proto__||Object.getPrototypeOf(Comments.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),_get(Comments.prototype.__proto__||Object.getPrototypeOf(Comments.prototype),"updatePlugin",this).call(this),this.displaySwitch.updateDelay(this.getDisplayDelaySetting())}},{key:"disablePlugin",value:function(){_get(Comments.prototype.__proto__||Object.getPrototypeOf(Comments.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var _this3=this;this.eventManager.addEventListener(document,"mouseover",function(event){return _this3.onMouseOver(event)}),this.eventManager.addEventListener(document,"mousedown",function(event){return _this3.onMouseDown(event)}),this.eventManager.addEventListener(document,"mouseup",function(event){return _this3.onMouseUp(event)}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(event){return _this3.onEditorBlur(event)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(event){return _this3.onEditorMouseDown(event)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(event){return _this3.onEditorMouseUp(event)})}},{key:"setRange",value:function(range){this.range=range}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(event){var closestCell=(0,_element.closest)(event.target,"TD","TBODY");return!!(closestCell&&(0,_element.hasClass)(closestCell,"htCommentCell")&&(0,_element.closest)(closestCell,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(event){return this.editor.getInputElement()===event.target}},{key:"setComment",value:function(value){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var editorValue=this.editor.getValue(),comment="";null!=value?comment=value:null!=editorValue&&(comment=editorValue);var row=this.range.from.row,col=this.range.from.col;this.updateCommentMeta(row,col,_defineProperty({},"value",comment)),this.hot.render()}},{key:"setCommentAtCell",value:function(row,col,value){this.setRange({from:new _src.CellCoords(row,col)}),this.setComment(value)}},{key:"removeComment",value:function(){var forceRender=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,"comment",void 0),forceRender&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(row,col){var forceRender=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];this.setRange({from:new _src.CellCoords(row,col)}),this.removeComment(forceRender)}},{key:"getComment",value:function(){var row=this.range.from.row,column=this.range.from.col;return this.getCommentMeta(row,column,"value")}},{key:"getCommentAtCell",value:function(row,column){return this.getCommentMeta(row,column,"value")}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var meta=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditor(!0),this.editor.setValue(meta.comment?meta.comment.value:""),this.editor.hidden&&this.editor.show(),!0}},{key:"showAtCell",value:function(row,col){return this.setRange({from:new _src.CellCoords(row,col)}),this.show()}},{key:"hide",value:function(){this.editor.hidden||this.editor.hide()}},{key:"refreshEditor",value:function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||this.range.from&&this.editor.isVisible()){var scrollableElement=(0,_element.getScrollableElement)(this.hot.view.wt.wtTable.TABLE),TD=this.hot.view.wt.wtTable.getCell(this.range.from),row=this.range.from.row,column=this.range.from.col,cellOffset=(0,_element.offset)(TD),lastColWidth=this.hot.view.wt.wtTable.getStretchedColumnWidth(column),cellTopOffset=cellOffset.top<0?0:cellOffset.top,cellLeftOffset=cellOffset.left;this.hot.view.wt.wtViewport.hasVerticalScroll()&&scrollableElement!==window&&(cellTopOffset-=this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition()),this.hot.view.wt.wtViewport.hasHorizontalScroll()&&scrollableElement!==window&&(cellLeftOffset-=this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition());var x=cellLeftOffset+lastColWidth,y=cellTopOffset,commentStyle=this.getCommentMeta(row,column,"style"),readOnly=this.getCommentMeta(row,column,"readOnly");commentStyle?this.editor.setSize(commentStyle.width,commentStyle.height):this.editor.resetSize(),this.editor.setReadOnlyState(readOnly),this.editor.setPosition(x,y)}}},{key:"checkSelectionCommentsConsistency",value:function(){var selected=this.hot.getSelectedRange();if(!selected)return!1;var hasComment=!1,cell=selected.from;return this.getCommentMeta(cell.row,cell.col,"value")&&(hasComment=!0),hasComment}},{key:"updateCommentMeta",value:function(row,column,metaObject){var oldComment=this.hot.getCellMeta(row,column).comment,newComment=void 0;oldComment?(newComment=(0,_object.deepClone)(oldComment),(0,_object.deepExtend)(newComment,metaObject)):newComment=metaObject,this.hot.setCellMeta(row,column,"comment",newComment)}},{key:"getCommentMeta",value:function(row,column,property){var cellMeta=this.hot.getCellMeta(row,column);if(cellMeta.comment)return cellMeta.comment[property]}},{key:"onMouseDown",value:function(event){if(this.mouseDown=!0,this.hot.view&&this.hot.view.wt){if(!this.contextMenuEvent&&!this.targetIsCommentTextArea(event)){var eventCell=(0,_element.closest)(event.target,"TD","TBODY"),coordinates=null;eventCell&&(coordinates=this.hot.view.wt.wtTable.getCoords(eventCell)),eventCell&&(!this.range.from||!coordinates||this.range.from.row===coordinates.row&&this.range.from.col===coordinates.col)||this.hide()}this.contextMenuEvent=!1}}},{key:"onMouseOver",value:function(event){var priv=privatePool.get(this);if(priv.cellBelowCursor=document.elementFromPoint(event.clientX,event.clientY),!(this.mouseDown||this.editor.isFocused()||(0,_element.hasClass)(event.target,"wtBorder")||priv.cellBelowCursor!==event.target)&&this.editor)if(this.targetIsCellWithComment(event)){var coordinates=this.hot.view.wt.wtTable.getCoords(event.target),range={from:new _src.CellCoords(coordinates.row,coordinates.col)};this.displaySwitch.show(range)}else(0,_element.isChildOf)(event.target,document)&&!this.targetIsCommentTextArea(event)&&this.displaySwitch.hide()}},{key:"onMouseUp",value:function(event){this.mouseDown=!1}},{key:"onAfterRenderer",value:function(TD,cellProperties){cellProperties.comment&&cellProperties.comment.value&&(0,_element.addClass)(TD,cellProperties.commentedCellClassName)}},{key:"onEditorBlur",value:function(event){this.setComment()}},{key:"onEditorMouseDown",value:function(event){privatePool.get(this).tempEditorDimensions={width:(0,_element.outerWidth)(event.target),height:(0,_element.outerHeight)(event.target)}}},{key:"onEditorMouseUp",value:function(event){var priv=privatePool.get(this),currentWidth=(0,_element.outerWidth)(event.target),currentHeight=(0,_element.outerHeight)(event.target);currentWidth===priv.tempEditorDimensions.width+1&&currentHeight===priv.tempEditorDimensions.height+2||this.updateCommentMeta(this.range.from.row,this.range.from.col,_defineProperty({},"style",{width:currentWidth,height:currentHeight}))}},{key:"onContextMenuAddComment",value:function(){var _this4=this;this.displaySwitch.cancelHiding();var coords=this.hot.getSelectedRange();this.contextMenuEvent=!0,this.setRange({from:coords.from}),this.show(),setTimeout(function(){_this4.hot&&(_this4.hot.deselectCell(),_this4.editor.focus())},10)}},{key:"onContextMenuRemoveComment",value:function(selection){this.contextMenuEvent=!0;for(var i=selection.start.row;i<=selection.end.row;i++)for(var j=selection.start.col;j<=selection.end.col;j++)this.removeCommentAtCell(i,j,!1);this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(selection){this.contextMenuEvent=!0;for(var i=selection.start.row;i<=selection.end.row;i++)for(var j=selection.start.col;j<=selection.end.col;j++){var currentState=!!this.getCommentMeta(i,j,"readOnly");this.updateCommentMeta(i,j,_defineProperty({},"readOnly",!currentState))}}},{key:"addToContextMenu",value:function(defaultOptions){var _this5=this;defaultOptions.items.push({name:"---------"},{key:"commentsAddEdit",name:function(){return _this5.checkSelectionCommentsConsistency()?"Edit comment":"Add comment"},callback:function(){return _this5.onContextMenuAddComment()},disabled:function(){return!(this.getSelected()&&!this.selection.selectedHeader.corner)}},{key:"commentsRemove",name:function(){return"Delete comment"},callback:function(key,selection){return _this5.onContextMenuRemoveComment(selection)},disabled:function(){return _this5.hot.selection.selectedHeader.corner}},{key:"commentsReadOnly",name:function(){var _this6=this,label="Read only comment";return(0,_utils.checkSelectionConsistency)(this.getSelectedRange(),function(row,col){var readOnlyProperty=_this6.getCellMeta(row,col).comment;if(readOnlyProperty&&(readOnlyProperty=readOnlyProperty.readOnly),readOnlyProperty)return!0})&&(label=(0,_utils.markLabelAsSelected)(label)),label},callback:function(key,selection){return _this5.onContextMenuMakeReadOnly(selection)},disabled:function(){return _this5.hot.selection.selectedHeader.corner||!_this5.checkSelectionCommentsConsistency()}})}},{key:"getDisplayDelaySetting",value:function(){var commentSetting=this.hot.getSettings().comments;if((0,_object.isObject)(commentSetting))return commentSetting.displayDelay}},{key:"onAfterBeginEditing",value:function(row,column){this.hide()}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),this.displaySwitch&&this.displaySwitch.destroy(),_get(Comments.prototype.__proto__||Object.getPrototypeOf(Comments.prototype),"destroy",this).call(this)}}]),Comments}();(0,_plugins.registerPlugin)("comments",Comments),exports.default=Comments},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0);var CommentEditor=function(){function CommentEditor(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CommentEditor),this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}return _createClass(CommentEditor,null,[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}]),_createClass(CommentEditor,[{key:"setPosition",value:function(x,y){this.editorStyle.left=x+"px",this.editorStyle.top=y+"px"}},{key:"setSize",value:function(width,height){if(width&&height){var input=this.getInputElement();input.style.width=width+"px",input.style.height=height+"px"}}},{key:"resetSize",value:function(){var input=this.getInputElement();input.style.width="",input.style.height=""}},{key:"setReadOnlyState",value:function(state){this.getInputElement().readOnly=state}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.editorStyle.display="none",this.hidden=!0}},{key:"isVisible",value:function(){return"block"===this.editorStyle.display}},{key:"setValue",value:function(){var value=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";value=value||"",this.getInputElement().value=value}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return document.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var textArea,container=document.querySelector("."+CommentEditor.CLASS_EDITOR_CONTAINER),editor=void 0;return container||(container=document.createElement("div"),(0,_element.addClass)(container,CommentEditor.CLASS_EDITOR_CONTAINER),document.body.appendChild(container)),editor=document.createElement("div"),(0,_element.addClass)(editor,CommentEditor.CLASS_EDITOR),textArea=document.createElement("textarea"),(0,_element.addClass)(textArea,CommentEditor.CLASS_INPUT),editor.appendChild(textArea),container.appendChild(editor),editor}},{key:"getInputElement",value:function(){return this.editor.querySelector("."+CommentEditor.CLASS_INPUT)}},{key:"destroy",value:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}}]),CommentEditor}();exports.default=CommentEditor},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_function=__webpack_require__(35),_object=__webpack_require__(1),_localHooks=__webpack_require__(87),_localHooks2=(obj=_localHooks)&&obj.__esModule?obj:{default:obj};var DisplaySwitch=function(){function DisplaySwitch(displayDelay){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DisplaySwitch),this.wasLastActionShow=!0,this.showDebounced=null,this.hidingTimer=null,this.updateDelay(displayDelay)}return _createClass(DisplaySwitch,[{key:"hide",value:function(){var _this=this;this.wasLastActionShow=!1,this.hidingTimer=setTimeout(function(){!1===_this.wasLastActionShow&&_this.runLocalHooks("hide")},250)}},{key:"show",value:function(range){this.wasLastActionShow=!0,this.showDebounced(range)}},{key:"cancelHiding",value:function(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}},{key:"updateDelay",value:function(){var _this2=this,displayDelay=0<arguments.length&&void 0!==arguments[0]?arguments[0]:250;this.showDebounced=(0,_function.debounce)(function(range){_this2.wasLastActionShow&&_this2.runLocalHooks("show",range.from.row,range.from.col)},displayDelay)}},{key:"destroy",value:function(){this.clearLocalHooks()}}]),DisplaySwitch}();(0,_object.mixin)(DisplaySwitch,_localHooks2.default),exports.default=DisplaySwitch},function(module,exports){},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _base2=_interopRequireDefault(__webpack_require__(13)),_pluginHooks2=_interopRequireDefault(__webpack_require__(7)),_array=__webpack_require__(2),_commandExecutor2=_interopRequireDefault(__webpack_require__(260)),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_itemsFactory2=_interopRequireDefault(__webpack_require__(261)),_menu2=_interopRequireDefault(__webpack_require__(273)),_plugins=__webpack_require__(5),_event=__webpack_require__(10),_element=__webpack_require__(0),_predefinedItems=__webpack_require__(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(275),_pluginHooks2.default.getSingleton().register("afterContextMenuDefaultOptions"),_pluginHooks2.default.getSingleton().register("afterContextMenuShow"),_pluginHooks2.default.getSingleton().register("afterContextMenuHide"),_pluginHooks2.default.getSingleton().register("afterContextMenuExecute");var ContextMenu=function(_BasePlugin){function ContextMenu(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ContextMenu);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ContextMenu.__proto__||Object.getPrototypeOf(ContextMenu)).call(this,hotInstance));return _this.eventManager=new _eventManager2.default(_this),_this.commandExecutor=new _commandExecutor2.default(_this.hot),_this.itemsFactory=null,_this.menu=null,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ContextMenu,_base2.default),_createClass(ContextMenu,null,[{key:"DEFAULT_ITEMS",get:function(){return[_predefinedItems.ROW_ABOVE,_predefinedItems.ROW_BELOW,_predefinedItems.SEPARATOR,_predefinedItems.COLUMN_LEFT,_predefinedItems.COLUMN_RIGHT,_predefinedItems.SEPARATOR,_predefinedItems.REMOVE_ROW,_predefinedItems.REMOVE_COLUMN,_predefinedItems.SEPARATOR,_predefinedItems.UNDO,_predefinedItems.REDO,_predefinedItems.SEPARATOR,_predefinedItems.READ_ONLY,_predefinedItems.SEPARATOR,_predefinedItems.ALIGNMENT]}}]),_createClass(ContextMenu,[{key:"isEnabled",value:function(){return this.hot.getSettings().contextMenu}},{key:"enablePlugin",value:function(){var _this2=this;if(!this.enabled){this.itemsFactory=new _itemsFactory2.default(this.hot,ContextMenu.DEFAULT_ITEMS);var settings=this.hot.getSettings().contextMenu,predefinedItems={items:this.itemsFactory.getItems(settings)};this.registerEvents(),"function"==typeof settings.callback&&this.commandExecutor.setCommonCallback(settings.callback),_get(ContextMenu.prototype.__proto__||Object.getPrototypeOf(ContextMenu.prototype),"enablePlugin",this).call(this),this.callOnPluginsReady(function(){_this2.hot.runHooks("afterContextMenuDefaultOptions",predefinedItems),_this2.itemsFactory.setPredefinedItems(predefinedItems.items);var menuItems=_this2.itemsFactory.getItems(settings);_this2.menu=new _menu2.default(_this2.hot,{className:"htContextMenu",keepInViewport:!0}),_this2.hot.runHooks("beforeContextMenuSetItems",menuItems),_this2.menu.setMenuItems(menuItems),_this2.menu.addLocalHook("afterOpen",function(){return _this2.onMenuAfterOpen()}),_this2.menu.addLocalHook("afterClose",function(){return _this2.onMenuAfterClose()}),_this2.menu.addLocalHook("executeCommand",function(){for(var _len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];return _this2.executeCommand.apply(_this2,params)}),(0,_array.arrayEach)(menuItems,function(command){return _this2.commandExecutor.registerCommand(command.key,command)})})}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),_get(ContextMenu.prototype.__proto__||Object.getPrototypeOf(ContextMenu.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),_get(ContextMenu.prototype.__proto__||Object.getPrototypeOf(ContextMenu.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var _this3=this;this.eventManager.addEventListener(this.hot.rootElement,"contextmenu",function(event){return _this3.onContextMenu(event)})}},{key:"open",value:function(event){this.menu&&(this.menu.open(),this.menu.setPosition({top:parseInt((0,_event.pageY)(event),10)-(0,_element.getWindowScrollTop)(),left:parseInt((0,_event.pageX)(event),10)-(0,_element.getWindowScrollLeft)()}),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv)}},{key:"close",value:function(){this.menu&&this.menu.close()}},{key:"executeCommand",value:function(){for(var _len2=arguments.length,params=Array(_len2),_key2=0;_key2<_len2;_key2++)params[_key2]=arguments[_key2];this.commandExecutor.execute.apply(this.commandExecutor,params)}},{key:"onContextMenu",value:function(event){var settings=this.hot.getSettings(),showRowHeaders=settings.rowHeaders,showColHeaders=settings.colHeaders;var element=event.realTarget;this.close(),(0,_element.hasClass)(element,"handsontableInput")||(event.preventDefault(),(0,_event.stopPropagation)(event),(showRowHeaders||showColHeaders||function(element){return"TD"===element.nodeName||"TD"===element.parentNode.nodeName}(element)||(0,_element.hasClass)(element,"current")&&(0,_element.hasClass)(element,"wtBorder"))&&this.open(event))}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),_get(ContextMenu.prototype.__proto__||Object.getPrototypeOf(ContextMenu.prototype),"destroy",this).call(this)}}]),ContextMenu}();ContextMenu.SEPARATOR={name:_predefinedItems.SEPARATOR},(0,_plugins.registerPlugin)("contextMenu",ContextMenu),exports.default=ContextMenu},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _array=__webpack_require__(2),_object=__webpack_require__(1);var CommandExecutor=function(){function CommandExecutor(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CommandExecutor),this.hot=hotInstance,this.commands={},this.commonCallback=null}return _createClass(CommandExecutor,[{key:"registerCommand",value:function(name,commandDescriptor){this.commands[name]=commandDescriptor}},{key:"setCommonCallback",value:function(callback){this.commonCallback=callback}},{key:"execute",value:function(commandName){for(var _this=this,_len=arguments.length,params=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];var commandSplit=commandName.split(":");commandName=commandSplit[0];var subCommandName=2===commandSplit.length?commandSplit[1]:null,command=this.commands[commandName];if(!command)throw new Error("Menu command '"+commandName+"' not exists.");if(subCommandName&&command.submenu&&(command=function(subCommandName,subCommands){var command=void 0;return(0,_array.arrayEach)(subCommands,function(cmd){var cmds=cmd.key?cmd.key.split(":"):null;if(Array.isArray(cmds)&&cmds[1]===subCommandName)return command=cmd,!1}),command}(subCommandName,command.submenu.items)),!0!==command.disabled&&("function"!=typeof command.disabled||!0!==command.disabled.call(this.hot))&&!(0,_object.hasOwnProperty)(command,"submenu")){var callbacks=[];"function"==typeof command.callback&&callbacks.push(command.callback),"function"==typeof this.commonCallback&&callbacks.push(this.commonCallback),params.unshift(commandSplit.join(":")),(0,_array.arrayEach)(callbacks,function(callback){return callback.apply(_this.hot,params)})}}}]),CommandExecutor}();exports.default=CommandExecutor},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _object=__webpack_require__(1),_array=__webpack_require__(2),_predefinedItems=__webpack_require__(88);var ItemsFactory=function(){function ItemsFactory(hotInstance){var orderPattern=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ItemsFactory),this.hot=hotInstance,this.predefinedItems=(0,_predefinedItems.predefinedItems)(),this.defaultOrderPattern=orderPattern}return _createClass(ItemsFactory,[{key:"setPredefinedItems",value:function(predefinedItems){var _this=this,items={};(this.defaultOrderPattern.length=0,_object.objectEach)(predefinedItems,function(value,key){var menuItemKey="";menuItemKey=value.name===_predefinedItems.SEPARATOR?(items[_predefinedItems.SEPARATOR]=value,_predefinedItems.SEPARATOR):isNaN(parseInt(key,10))?(value.key=void 0===value.key?key:value.key,(items[key]=value).key):(items[value.key]=value).key,_this.defaultOrderPattern.push(menuItemKey)}),this.predefinedItems=items}},{key:"getItems",value:function(){return function(){var pattern=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,defaultPattern=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],items=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},result=[];pattern&&pattern.items?pattern=pattern.items:Array.isArray(pattern)||(pattern=defaultPattern);(0,_object.isObject)(pattern)?(0,_object.objectEach)(pattern,function(value,key){var item=items["string"==typeof value?value:key];item||(item=value),(0,_object.isObject)(value)?(0,_object.extend)(item,value):"string"==typeof item&&(item={name:item}),void 0===item.key&&(item.key=key),result.push(item)}):(0,_array.arrayEach)(pattern,function(name,key){var item=items[name];!item&&0<=_predefinedItems.ITEMS.indexOf(name)||(item||(item={name:name,key:""+key}),(0,_object.isObject)(name)&&(0,_object.extend)(item,name),void 0===item.key&&(item.key=key),result.push(item))});return result}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,this.defaultOrderPattern,this.predefinedItems)}}]),ItemsFactory}();exports.default=ItemsFactory},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.KEY=void 0,exports.default=function(){return{key:KEY,name:"Alignment",disabled:function(){return!(this.getSelectedRange()&&!this.selection.selectedHeader.corner)},submenu:{items:[{key:KEY+":left",name:function(){var _this=this,label="Left",hasClass=(0,_utils.checkSelectionConsistency)(this.getSelectedRange(),function(row,col){var className=_this.getCellMeta(row,col).className;if(className&&-1!==className.indexOf("htLeft"))return!0});return hasClass&&(label=(0,_utils.markLabelAsSelected)(label)),label},callback:function(){var _this2=this,range=this.getSelectedRange(),stateBefore=(0,_utils.getAlignmentClasses)(range,function(row,col){return _this2.getCellMeta(row,col).className});this.runHooks("beforeCellAlignment",stateBefore,range,"horizontal","htLeft"),(0,_utils.align)(range,"horizontal","htLeft",function(row,col){return _this2.getCellMeta(row,col)},function(row,col,key,value){return _this2.setCellMeta(row,col,key,value)}),this.render()},disabled:!1},{key:KEY+":center",name:function(){var _this3=this,label="Center",hasClass=(0,_utils.checkSelectionConsistency)(this.getSelectedRange(),function(row,col){var className=_this3.getCellMeta(row,col).className;if(className&&-1!==className.indexOf("htCenter"))return!0});return hasClass&&(label=(0,_utils.markLabelAsSelected)(label)),label},callback:function(){var _this4=this,range=this.getSelectedRange(),stateBefore=(0,_utils.getAlignmentClasses)(range,function(row,col){return _this4.getCellMeta(row,col).className});this.runHooks("beforeCellAlignment",stateBefore,range,"horizontal","htCenter"),(0,_utils.align)(range,"horizontal","htCenter",function(row,col){return _this4.getCellMeta(row,col)},function(row,col,key,value){return _this4.setCellMeta(row,col,key,value)}),this.render()},disabled:!1},{key:KEY+":right",name:function(){var _this5=this,label="Right",hasClass=(0,_utils.checkSelectionConsistency)(this.getSelectedRange(),function(row,col){var className=_this5.getCellMeta(row,col).className;if(className&&-1!==className.indexOf("htRight"))return!0});return hasClass&&(label=(0,_utils.markLabelAsSelected)(label)),label},callback:function(){var _this6=this,range=this.getSelectedRange(),stateBefore=(0,_utils.getAlignmentClasses)(range,function(row,col){return _this6.getCellMeta(row,col).className});this.runHooks("beforeCellAlignment",stateBefore,range,"horizontal","htRight"),(0,_utils.align)(range,"horizontal","htRight",function(row,col){return _this6.getCellMeta(row,col)},function(row,col,key,value){return _this6.setCellMeta(row,col,key,value)}),this.render()},disabled:!1},{key:KEY+":justify",name:function(){var _this7=this,label="Justify",hasClass=(0,_utils.checkSelectionConsistency)(this.getSelectedRange(),function(row,col){var className=_this7.getCellMeta(row,col).className;if(className&&-1!==className.indexOf("htJustify"))return!0});return hasClass&&(label=(0,_utils.markLabelAsSelected)(label)),label},callback:function(){var _this8=this,range=this.getSelectedRange(),stateBefore=(0,_utils.getAlignmentClasses)(range,function(row,col){return _this8.getCellMeta(row,col).className});this.runHooks("beforeCellAlignment",stateBefore,range,"horizontal","htJustify"),(0,_utils.align)(range,"horizontal","htJustify",function(row,col){return _this8.getCellMeta(row,col)},function(row,col,key,value){return _this8.setCellMeta(row,col,key,value)}),this.render()},disabled:!1},{name:_separator.KEY},{key:KEY+":top",name:function(){var _this9=this,label="Top",hasClass=(0,_utils.checkSelectionConsistency)(this.getSelectedRange(),function(row,col){var className=_this9.getCellMeta(row,col).className;if(className&&-1!==className.indexOf("htTop"))return!0});return hasClass&&(label=(0,_utils.markLabelAsSelected)(label)),label},callback:function(){var _this10=this,range=this.getSelectedRange(),stateBefore=(0,_utils.getAlignmentClasses)(range,function(row,col){return _this10.getCellMeta(row,col).className});this.runHooks("beforeCellAlignment",stateBefore,range,"vertical","htTop"),(0,_utils.align)(range,"vertical","htTop",function(row,col){return _this10.getCellMeta(row,col)},function(row,col,key,value){return _this10.setCellMeta(row,col,key,value)}),this.render()},disabled:!1},{key:KEY+":middle",name:function(){var _this11=this,label="Middle",hasClass=(0,_utils.checkSelectionConsistency)(this.getSelectedRange(),function(row,col){var className=_this11.getCellMeta(row,col).className;if(className&&-1!==className.indexOf("htMiddle"))return!0});return hasClass&&(label=(0,_utils.markLabelAsSelected)(label)),label},callback:function(){var _this12=this,range=this.getSelectedRange(),stateBefore=(0,_utils.getAlignmentClasses)(range,function(row,col){return _this12.getCellMeta(row,col).className});this.runHooks("beforeCellAlignment",stateBefore,range,"vertical","htMiddle"),(0,_utils.align)(range,"vertical","htMiddle",function(row,col){return _this12.getCellMeta(row,col)},function(row,col,key,value){return _this12.setCellMeta(row,col,key,value)}),this.render()},disabled:!1},{key:KEY+":bottom",name:function(){var _this13=this,label="Bottom",hasClass=(0,_utils.checkSelectionConsistency)(this.getSelectedRange(),function(row,col){var className=_this13.getCellMeta(row,col).className;if(className&&-1!==className.indexOf("htBottom"))return!0});return hasClass&&(label=(0,_utils.markLabelAsSelected)(label)),label},callback:function(){var _this14=this,range=this.getSelectedRange(),stateBefore=(0,_utils.getAlignmentClasses)(range,function(row,col){return _this14.getCellMeta(row,col).className});this.runHooks("beforeCellAlignment",stateBefore,range,"vertical","htBottom"),(0,_utils.align)(range,"vertical","htBottom",function(row,col){return _this14.getCellMeta(row,col)},function(row,col,key,value){return _this14.setCellMeta(row,col,key,value)}),this.render()},disabled:!1}]}}};var _utils=__webpack_require__(19),_separator=__webpack_require__(86),KEY=exports.KEY="alignment"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.KEY=void 0,exports.default=function(){return{key:KEY,name:"Clear column",callback:function(key,selection){var column=selection.start.col;this.countRows()&&this.populateFromArray(0,column,[[null]],Math.max(selection.start.row,selection.end.row),column,"ContextMenu.clearColumn")},disabled:function(){var selected=(0,_utils.getValidSelection)(this);if(!selected)return!0;var entireRowSelection=[selected[0],0,selected[0],this.countCols()-1],rowSelected=entireRowSelection.join(",")==selected.join(",");return selected[1]<0||this.countCols()>=this.getSettings().maxCols||rowSelected}}};var _utils=__webpack_require__(19),KEY=exports.KEY="clear_column"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.KEY=void 0,exports.default=function(){return{key:KEY,name:"Insert column on the left",callback:function(key,selection){this.alter("insert_col",selection.start.col,1,"ContextMenu.columnLeft")},disabled:function(){var selected=(0,_utils.getValidSelection)(this);if(!selected)return!0;if(!this.isColumnModificationAllowed())return!0;var entireRowSelection=[selected[0],0,selected[0],this.countCols()-1],rowSelected=entireRowSelection.join(",")==selected.join(","),onlyOneColumn=1===this.countCols();return selected[1]<0||this.countCols()>=this.getSettings().maxCols||!onlyOneColumn&&rowSelected},hidden:function(){return!this.getSettings().allowInsertColumn}}};var _utils=__webpack_require__(19),KEY=exports.KEY="col_left"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.KEY=void 0,exports.default=function(){return{key:KEY,name:"Insert column on the right",callback:function(key,selection){this.alter("insert_col",selection.end.col+1,1,"ContextMenu.columnRight")},disabled:function(){var selected=(0,_utils.getValidSelection)(this);if(!selected)return!0;if(!this.isColumnModificationAllowed())return!0;var entireRowSelection=[selected[0],0,selected[0],this.countCols()-1],rowSelected=entireRowSelection.join(",")==selected.join(","),onlyOneColumn=1===this.countCols();return selected[1]<0||this.countCols()>=this.getSettings().maxCols||!onlyOneColumn&&rowSelected},hidden:function(){return!this.getSettings().allowInsertColumn}}};var _utils=__webpack_require__(19),KEY=exports.KEY="col_right"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.KEY=void 0,exports.default=function(){return{key:KEY,name:function(){var _this=this,label="Read only",atLeastOneReadOnly=(0,_utils.checkSelectionConsistency)(this.getSelectedRange(),function(row,col){return _this.getCellMeta(row,col).readOnly});return atLeastOneReadOnly&&(label=(0,_utils.markLabelAsSelected)(label)),label},callback:function(){var _this2=this,range=this.getSelectedRange(),atLeastOneReadOnly=(0,_utils.checkSelectionConsistency)(range,function(row,col){return _this2.getCellMeta(row,col).readOnly});range.forAll(function(row,col){_this2.setCellMeta(row,col,"readOnly",!atLeastOneReadOnly)}),this.render()},disabled:function(){return!(this.getSelectedRange()&&!this.selection.selectedHeader.corner)}}};var _utils=__webpack_require__(19),KEY=exports.KEY="make_read_only"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(){return{key:KEY,name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}}};var KEY=exports.KEY="redo"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.KEY=void 0,exports.default=function(){return{key:KEY,name:"Remove column",callback:function(key,selection){var amount=selection.end.col-selection.start.col+1;this.alter("remove_col",selection.start.col,amount,"ContextMenu.removeColumn")},disabled:function(){var selected=(0,_utils.getValidSelection)(this),totalColumns=this.countCols();return!selected||this.selection.selectedHeader.rows||this.selection.selectedHeader.corner||!this.isColumnModificationAllowed()||!totalColumns},hidden:function(){return!this.getSettings().allowRemoveColumn}}};var _utils=__webpack_require__(19),KEY=exports.KEY="remove_col"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.KEY=void 0,exports.default=function(){return{key:KEY,name:"Remove row",callback:function(key,selection){var amount=selection.end.row-selection.start.row+1;this.alter("remove_row",selection.start.row,amount,"ContextMenu.removeRow")},disabled:function(){var selected=(0,_utils.getValidSelection)(this),totalRows=this.countRows();return!selected||this.selection.selectedHeader.cols||this.selection.selectedHeader.corner||!totalRows},hidden:function(){return!this.getSettings().allowRemoveRow}}};var _utils=__webpack_require__(19),KEY=exports.KEY="remove_row"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.KEY=void 0,exports.default=function(){return{key:KEY,name:"Insert row above",callback:function(key,selection){this.alter("insert_row",selection.start.row,1,"ContextMenu.rowAbove")},disabled:function(){var selected=(0,_utils.getValidSelection)(this);return!selected||this.selection.selectedHeader.cols||this.countRows()>=this.getSettings().maxRows},hidden:function(){return!this.getSettings().allowInsertRow}}};var _utils=__webpack_require__(19),KEY=exports.KEY="row_above"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.KEY=void 0,exports.default=function(){return{key:KEY,name:"Insert row below",callback:function(key,selection){this.alter("insert_row",selection.end.row+1,1,"ContextMenu.rowBelow")},disabled:function(){var selected=(0,_utils.getValidSelection)(this);return!selected||this.selection.selectedHeader.cols||this.countRows()>=this.getSettings().maxRows},hidden:function(){return!this.getSettings().allowInsertRow}}};var _utils=__webpack_require__(19),KEY=exports.KEY="row_below"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(){return{key:KEY,name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}}};var KEY=exports.KEY="undo"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _core2=_interopRequireDefault(__webpack_require__(82)),_element=__webpack_require__(0),_array=__webpack_require__(2),_cursor2=_interopRequireDefault(__webpack_require__(274)),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_object=__webpack_require__(1),_function=__webpack_require__(35),_utils=__webpack_require__(19),_unicode=__webpack_require__(18),_localHooks2=_interopRequireDefault(__webpack_require__(87)),_predefinedItems=__webpack_require__(88),_event=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Menu=function(){function Menu(hotInstance,options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Menu),this.hot=hotInstance,this.options=options||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1},this.eventManager=new _eventManager2.default(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}return _createClass(Menu,[{key:"registerEvents",value:function(){var _this=this;this.eventManager.addEventListener(document.documentElement,"mousedown",function(event){return _this.onDocumentMouseDown(event)})}},{key:"setMenuItems",value:function(menuItems){this.menuItems=menuItems}},{key:"setOffset",value:function(area){var offset=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;this.offset[area]=offset}},{key:"isSubMenu",value:function(){return null!==this.parentMenu}},{key:"open",value:function(){var _this2=this;this.container.removeAttribute("style"),this.container.style.display="block";var delayedOpenSubMenu=(0,_function.debounce)(function(row){return _this2.openSubMenu(row)},300),filteredItems=(0,_array.arrayFilter)(this.menuItems,function(item){return(0,_utils.isItemHidden)(item,_this2.hot)}),settings={data:filteredItems=(0,_utils.filterSeparators)(filteredItems,_predefinedItems.SEPARATOR),colHeaders:!1,colWidths:[200],autoRowSize:!1,readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:function(hot,TD,row,col,prop,value){return _this2.menuItemRenderer(hot,TD,row,col,prop,value)}}],renderAllRows:!0,fragmentSelection:"cell",disableVisualSelection:"area",beforeKeyDown:function(event){return _this2.onBeforeKeyDown(event)},afterOnCellMouseOver:function(event,coords,TD){_this2.isAllSubMenusClosed()?delayedOpenSubMenu(coords.row):_this2.openSubMenu(coords.row)},rowHeights:function(row){return filteredItems[row].name===_predefinedItems.SEPARATOR?1:23}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new _core2.default(this.container,settings),this.hotMenu.addHook("afterInit",function(){return _this2.onAfterInit()}),this.hotMenu.addHook("afterSelection",function(r,c,r2,c2,preventScrolling){return _this2.onAfterSelection(r,c,r2,c2,preventScrolling)}),this.hotMenu.init(),this.hotMenu.listen(),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var closeParent=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.isOpened()&&(closeParent&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))}},{key:"openSubMenu",value:function(row){if(!this.hotMenu)return!1;var cell=this.hotMenu.getCell(row,0);if(this.closeAllSubMenus(),!cell||!(0,_utils.hasSubMenu)(cell))return!1;var dataItem=this.hotMenu.getSourceDataAtRow(row),subMenu=new Menu(this.hot,{parent:this,name:dataItem.name,className:this.options.className,keepInViewport:!0});return subMenu.setMenuItems(dataItem.submenu.items),subMenu.open(),subMenu.setPosition(cell.getBoundingClientRect()),this.hotSubMenus[dataItem.key]=subMenu}},{key:"closeSubMenu",value:function(row){var dataItem=this.hotMenu.getSourceDataAtRow(row),menus=this.hotSubMenus[dataItem.key];menus&&(menus.destroy(),delete this.hotSubMenus[dataItem.key])}},{key:"closeAllSubMenus",value:function(){var _this3=this;(0,_array.arrayEach)(this.hotMenu.getData(),function(value,row){return _this3.closeSubMenu(row)})}},{key:"isAllSubMenusClosed",value:function(){return 0===Object.keys(this.hotSubMenus).length}},{key:"destroy",value:function(){this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy()}},{key:"isOpened",value:function(){return null!==this.hotMenu}},{key:"executeCommand",value:function(event){if(this.isOpened()&&this.hotMenu.getSelected()){var selectedItem=this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelected()[0]);if(this.runLocalHooks("select",selectedItem,event),!1!==selectedItem.isCommand&&selectedItem.name!==_predefinedItems.SEPARATOR){var selRange=this.hot.getSelectedRange(),normalizedSelection=selRange?(0,_utils.normalizeSelection)(selRange):{},autoClose=!0;(!0===selectedItem.disabled||"function"==typeof selectedItem.disabled&&!0===selectedItem.disabled.call(this.hot)||selectedItem.submenu)&&(autoClose=!1),this.runLocalHooks("executeCommand",selectedItem.key,normalizedSelection,event),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",selectedItem.key,normalizedSelection,event),autoClose&&this.close(!0)}}}},{key:"setPosition",value:function(coords){var cursor=new _cursor2.default(coords);this.options.keepInViewport?(cursor.fitsBelow(this.container)?this.setPositionBelowCursor(cursor):cursor.fitsAbove(this.container)?this.setPositionAboveCursor(cursor):this.setPositionBelowCursor(cursor),cursor.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(cursor):this.setPositionOnLeftOfCursor(cursor)):(this.setPositionBelowCursor(cursor),this.setPositionOnRightOfCursor(cursor))}},{key:"setPositionAboveCursor",value:function(cursor){var top=this.offset.above+cursor.top-this.container.offsetHeight;this.isSubMenu()&&(top=cursor.top+cursor.cellHeight-this.container.offsetHeight+3),this.container.style.top=top+"px"}},{key:"setPositionBelowCursor",value:function(cursor){var top=this.offset.below+cursor.top;this.isSubMenu()&&(top=cursor.top-1),this.container.style.top=top+"px"}},{key:"setPositionOnRightOfCursor",value:function(cursor){var left=void 0;left=this.isSubMenu()?1+cursor.left+cursor.cellWidth:this.offset.right+1+cursor.left,this.container.style.left=left+"px"}},{key:"setPositionOnLeftOfCursor",value:function(cursor){var left=this.offset.left+cursor.left-this.container.offsetWidth+(0,_element.getScrollbarWidth)()+4;this.container.style.left=left+"px"}},{key:"selectFirstCell",value:function(){var cell=this.hotMenu.getCell(0,0);(0,_utils.isSeparator)(cell)||(0,_utils.isDisabled)(cell)||(0,_utils.isSelectionDisabled)(cell)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var lastRow=this.hotMenu.countRows()-1,cell=this.hotMenu.getCell(lastRow,0);(0,_utils.isSeparator)(cell)||(0,_utils.isDisabled)(cell)||(0,_utils.isSelectionDisabled)(cell)?this.selectPrevCell(lastRow,0):this.hotMenu.selectCell(lastRow,0)}},{key:"selectNextCell",value:function(row,col){var nextRow=row+1,cell=nextRow<this.hotMenu.countRows()?this.hotMenu.getCell(nextRow,col):null;cell&&((0,_utils.isSeparator)(cell)||(0,_utils.isDisabled)(cell)||(0,_utils.isSelectionDisabled)(cell)?this.selectNextCell(nextRow,col):this.hotMenu.selectCell(nextRow,col))}},{key:"selectPrevCell",value:function(row,col){var prevRow=row-1,cell=0<=prevRow?this.hotMenu.getCell(prevRow,col):null;cell&&((0,_utils.isSeparator)(cell)||(0,_utils.isDisabled)(cell)||(0,_utils.isSelectionDisabled)(cell)?this.selectPrevCell(prevRow,col):this.hotMenu.selectCell(prevRow,col))}},{key:"menuItemRenderer",value:function(hot,TD,row,col,prop,value){var _this4=this,item=hot.getSourceDataAtRow(row),wrapper=document.createElement("div"),itemIsSelectionDisabled=function(item){return item.disableSelection};"function"==typeof value&&(value=value.call(this.hot)),(0,_element.empty)(TD),(0,_element.addClass)(wrapper,"htItemWrapper"),TD.appendChild(wrapper),!function(item){return new RegExp(_predefinedItems.SEPARATOR,"i").test(item.name)}(item)?"function"==typeof item.renderer?((0,_element.addClass)(TD,"htCustomMenuRenderer"),TD.appendChild(item.renderer(hot,wrapper,row,col,prop,value))):(0,_element.fastInnerHTML)(wrapper,value):(0,_element.addClass)(TD,"htSeparator"),!function(item){return!0===item.disabled||"function"==typeof item.disabled&&!0===item.disabled.call(_this4.hot)}(item)?itemIsSelectionDisabled(item)?((0,_element.addClass)(TD,"htSelectionDisabled"),this.eventManager.addEventListener(TD,"mouseenter",function(){return hot.deselectCell()})):(!function(item){return(0,_object.hasOwnProperty)(item,"submenu")}(item)?((0,_element.removeClass)(TD,"htSubmenu"),(0,_element.removeClass)(TD,"htDisabled")):(0,_element.addClass)(TD,"htSubmenu"),itemIsSelectionDisabled(item)?this.eventManager.addEventListener(TD,"mouseenter",function(){return hot.deselectCell()}):this.eventManager.addEventListener(TD,"mouseenter",function(){return hot.selectCell(row,col,void 0,void 0,!1,!1)})):((0,_element.addClass)(TD,"htDisabled"),this.eventManager.addEventListener(TD,"mouseenter",function(){return hot.deselectCell()}))}},{key:"createContainer",value:function(){var name=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;name&&(name=name.replace(/[^A-z0-9]/g,"_"),name=this.options.className+"Sub_"+name);var container=void 0;return(container=name?document.querySelector("."+this.options.className+"."+name):document.querySelector("."+this.options.className))||(container=document.createElement("div"),(0,_element.addClass)(container,"htMenu "+this.options.className),name&&(0,_element.addClass)(container,name),document.getElementsByTagName("body")[0].appendChild(container)),container}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onBeforeKeyDown",value:function(event){var selection=this.hotMenu.getSelected(),stopEvent=!1;switch(this.keyEvent=!0,event.keyCode){case _unicode.KEY_CODES.ESCAPE:this.close(),stopEvent=!0;break;case _unicode.KEY_CODES.ENTER:selection&&(this.hotMenu.getSourceDataAtRow(selection[0]).submenu?stopEvent=!0:(this.executeCommand(event),this.close(!0)));break;case _unicode.KEY_CODES.ARROW_DOWN:selection?this.selectNextCell(selection[0],selection[1]):this.selectFirstCell(),stopEvent=!0;break;case _unicode.KEY_CODES.ARROW_UP:selection?this.selectPrevCell(selection[0],selection[1]):this.selectLastCell(),stopEvent=!0;break;case _unicode.KEY_CODES.ARROW_RIGHT:if(selection){var menu=this.openSubMenu(selection[0]);menu&&menu.selectFirstCell()}stopEvent=!0;break;case _unicode.KEY_CODES.ARROW_LEFT:selection&&this.isSubMenu()&&(this.close(),this.parentMenu&&this.parentMenu.hotMenu.listen(),stopEvent=!0)}stopEvent&&(event.preventDefault(),(0,_event.stopImmediatePropagation)(event)),this.keyEvent=!1}},{key:"onAfterInit",value:function(){var data=this.hotMenu.getSettings().data,hiderStyle=this.hotMenu.view.wt.wtTable.hider.style,holderStyle=this.hotMenu.view.wt.wtTable.holder.style,currentHiderWidth=parseInt(hiderStyle.width,10),realHeight=(0,_array.arrayReduce)(data,function(accumulator,value){return accumulator+(value.name===_predefinedItems.SEPARATOR?1:26)},0);holderStyle.width=currentHiderWidth+22+"px",holderStyle.height=realHeight+4+"px",hiderStyle.height=holderStyle.height}},{key:"onAfterSelection",value:function(r,c,r2,c2,preventScrolling){!1===this.keyEvent&&(preventScrolling.value=!0)}},{key:"onDocumentMouseDown",value:function(event){this.isOpened()&&(this.container&&(0,_element.isChildOf)(event.target,this.container)&&this.executeCommand(event),this.options.standalone&&this.hotMenu&&!(0,_element.isChildOf)(event.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!(0,_element.isChildOf)(event.target,".htMenu")&&(0,_element.isChildOf)(event.target,document)&&this.close(!0))}}]),Menu}();(0,_object.mixin)(Menu,_localHooks2.default),exports.default=Menu},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _element=__webpack_require__(0),_event=__webpack_require__(10);var Cursor=function(){function Cursor(object){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Cursor);var windowScrollTop=(0,_element.getWindowScrollTop)(),windowScrollLeft=(0,_element.getWindowScrollLeft)(),top=void 0,topRelative=void 0,left=void 0,leftRelative=void 0,cellHeight=void 0,cellWidth=void 0;this.type=this.getSourceType(object),"literal"===this.type?(top=parseInt(object.top,10),left=parseInt(object.left,10),cellHeight=object.height||0,cellWidth=object.width||0,topRelative=top,leftRelative=left,top+=windowScrollTop,left+=windowScrollLeft):"event"===this.type&&(top=parseInt((0,_event.pageY)(object),10),left=parseInt((0,_event.pageX)(object),10),cellHeight=object.target.clientHeight,cellWidth=object.target.clientWidth,topRelative=top-windowScrollTop,leftRelative=left-windowScrollLeft),this.top=top,this.topRelative=topRelative,this.left=left,this.leftRelative=leftRelative,this.scrollTop=windowScrollTop,this.scrollLeft=windowScrollLeft,this.cellHeight=cellHeight,this.cellWidth=cellWidth}return _createClass(Cursor,[{key:"getSourceType",value:function(object){var type="literal";return object instanceof Event&&(type="event"),type}},{key:"fitsAbove",value:function(element){return this.topRelative>=element.offsetHeight}},{key:"fitsBelow",value:function(element){var viewportHeight=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.innerHeight;return this.topRelative+element.offsetHeight<=viewportHeight}},{key:"fitsOnRight",value:function(element){var viewportWidth=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.innerWidth;return this.leftRelative+this.cellWidth+element.offsetWidth<=viewportWidth}},{key:"fitsOnLeft",value:function(element){return this.leftRelative>=element.offsetWidth}}]),Cursor}();exports.default=Cursor},function(module,exports){},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _base2=_interopRequireDefault(__webpack_require__(13)),_pluginHooks2=_interopRequireDefault(__webpack_require__(7)),_SheetClip2=_interopRequireDefault(__webpack_require__(171)),_src=__webpack_require__(12),_element=__webpack_require__(0),_array=__webpack_require__(2),_number=__webpack_require__(6),_plugins=__webpack_require__(5),_textarea2=_interopRequireDefault(__webpack_require__(277)),_copy2=_interopRequireDefault(__webpack_require__(278)),_cut2=_interopRequireDefault(__webpack_require__(279)),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_pasteEvent2=_interopRequireDefault(__webpack_require__(280));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(282),_pluginHooks2.default.getSingleton().register("afterCopyLimit"),_pluginHooks2.default.getSingleton().register("modifyCopyableRange"),_pluginHooks2.default.getSingleton().register("beforeCut"),_pluginHooks2.default.getSingleton().register("afterCut"),_pluginHooks2.default.getSingleton().register("beforePaste"),_pluginHooks2.default.getSingleton().register("afterPaste"),_pluginHooks2.default.getSingleton().register("beforeCopy"),_pluginHooks2.default.getSingleton().register("afterCopy");var privatePool=new WeakMap,CopyPaste=function(_BasePlugin){function CopyPaste(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CopyPaste);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(CopyPaste.__proto__||Object.getPrototypeOf(CopyPaste)).call(this,hotInstance));return _this.eventManager=new _eventManager2.default(_this),_this.columnsLimit=1e3,_this.copyableRanges=[],_this.pasteMode="overwrite",_this.rowsLimit=1e3,_this.textarea=void 0,privatePool.set(_this,{isTriggeredByCopy:!1,isTriggeredByCut:!1,isBeginEditing:!1,isFragmentSelectionEnabled:!1}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(CopyPaste,_base2.default),_createClass(CopyPaste,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().copyPaste}},{key:"enablePlugin",value:function(){var _this2=this;if(!this.enabled){var settings=this.hot.getSettings(),priv=privatePool.get(this);this.textarea=_textarea2.default.getSingleton(),priv.isFragmentSelectionEnabled=settings.fragmentSelection,"object"===_typeof(settings.copyPaste)&&(this.pasteMode=settings.copyPaste.pasteMode||this.pasteMode,this.rowsLimit=settings.copyPaste.rowsLimit||this.rowsLimit,this.columnsLimit=settings.copyPaste.columnsLimit||this.columnsLimit),this.addHook("afterContextMenuDefaultOptions",function(options){return _this2.onAfterContextMenuDefaultOptions(options)}),this.addHook("afterSelectionEnd",function(){return _this2.onAfterSelectionEnd()}),this.registerEvents(),_get(CopyPaste.prototype.__proto__||Object.getPrototypeOf(CopyPaste.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),_get(CopyPaste.prototype.__proto__||Object.getPrototypeOf(CopyPaste.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.textarea&&this.textarea.destroy(),_get(CopyPaste.prototype.__proto__||Object.getPrototypeOf(CopyPaste.prototype),"disablePlugin",this).call(this)}},{key:"setCopyableText",value:function(){var selRange=this.hot.getSelectedRange();if(selRange){var topLeft=selRange.getTopLeftCorner(),bottomRight=selRange.getBottomRightCorner(),startRow=topLeft.row,startCol=topLeft.col,endRow=bottomRight.row,endCol=bottomRight.col,finalEndRow=Math.min(endRow,startRow+this.rowsLimit-1),finalEndCol=Math.min(endCol,startCol+this.columnsLimit-1);this.copyableRanges.length=0,this.copyableRanges.push({startRow:startRow,startCol:startCol,endRow:finalEndRow,endCol:finalEndCol}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges),endRow===finalEndRow&&endCol===finalEndCol||this.hot.runHooks("afterCopyLimit",endRow-startRow+1,endCol-startCol+1,this.rowsLimit,this.columnsLimit)}}},{key:"getRangedCopyableData",value:function(ranges){var _this3=this,dataSet=[],copyableRows=[],copyableColumns=[];return(0,_array.arrayEach)(ranges,function(range){(0,_number.rangeEach)(range.startRow,range.endRow,function(row){-1===copyableRows.indexOf(row)&&copyableRows.push(row)}),(0,_number.rangeEach)(range.startCol,range.endCol,function(column){-1===copyableColumns.indexOf(column)&&copyableColumns.push(column)})}),(0,_array.arrayEach)(copyableRows,function(row){var rowSet=[];(0,_array.arrayEach)(copyableColumns,function(column){rowSet.push(_this3.hot.getCopyableData(row,column))}),dataSet.push(rowSet)}),_SheetClip2.default.stringify(dataSet)}},{key:"getRangedData",value:function(ranges){var _this4=this,dataSet=[],copyableRows=[],copyableColumns=[];return(0,_array.arrayEach)(ranges,function(range){(0,_number.rangeEach)(range.startRow,range.endRow,function(row){-1===copyableRows.indexOf(row)&&copyableRows.push(row)}),(0,_number.rangeEach)(range.startCol,range.endCol,function(column){-1===copyableColumns.indexOf(column)&&copyableColumns.push(column)})}),(0,_array.arrayEach)(copyableRows,function(row){var rowSet=[];(0,_array.arrayEach)(copyableColumns,function(column){rowSet.push(_this4.hot.getCopyableData(row,column))}),dataSet.push(rowSet)}),dataSet}},{key:"copy",value:function(){privatePool.get(this).isTriggeredByCopy=!0,this.textarea.select(),document.execCommand("copy")}},{key:"cut",value:function(){privatePool.get(this).isTriggeredByCut=!0,this.textarea.select(),document.execCommand("cut")}},{key:"paste",value:function(){var value=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",pasteData=new _pasteEvent2.default;pasteData.clipboardData.setData("text/plain",value),this.onPaste(pasteData)}},{key:"registerEvents",value:function(){var _this5=this;this.eventManager.addEventListener(this.textarea.element,"paste",function(event){return _this5.onPaste(event)}),this.eventManager.addEventListener(this.textarea.element,"cut",function(event){return _this5.onCut(event)}),this.eventManager.addEventListener(this.textarea.element,"copy",function(event){return _this5.onCopy(event)})}},{key:"onCopy",value:function(event){var priv=privatePool.get(this);if(this.hot.isListening()||priv.isTriggeredByCopy){this.setCopyableText(),priv.isTriggeredByCopy=!1;var rangedData=this.getRangedData(this.copyableRanges),value="";!!this.hot.runHooks("beforeCopy",rangedData,this.copyableRanges)&&(value=_SheetClip2.default.stringify(rangedData),event&&event.clipboardData?event.clipboardData.setData("text/plain",value):"undefined"==typeof ClipboardEvent&&window.clipboardData.setData("Text",value),this.hot.runHooks("afterCopy",rangedData,this.copyableRanges)),event.preventDefault()}}},{key:"onCut",value:function(event){var priv=privatePool.get(this);if(this.hot.isListening()||priv.isTriggeredByCut){this.setCopyableText(),priv.isTriggeredByCut=!1;var rangedData=this.getRangedData(this.copyableRanges),value=void 0;!!this.hot.runHooks("beforeCut",rangedData,this.copyableRanges)&&(value=_SheetClip2.default.stringify(rangedData),event&&event.clipboardData?event.clipboardData.setData("text/plain",value):"undefined"==typeof ClipboardEvent&&window.clipboardData.setData("Text",value),this.hot.selection.empty(),this.hot.runHooks("afterCut",rangedData,this.copyableRanges)),event.preventDefault()}}},{key:"onPaste",value:function(event){var _this6=this;if(this.hot.isListening()){event&&event.preventDefault&&event.preventDefault();var inputArray;if(event&&void 0!==event.clipboardData?this.textarea.setValue(event.clipboardData.getData("text/plain")):"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&this.textarea.setValue(window.clipboardData.getData("Text")),inputArray=_SheetClip2.default.parse(this.textarea.getValue()),this.textarea.setValue(" "),0!==inputArray.length)if(!!this.hot.runHooks("beforePaste",inputArray,this.copyableRanges)){var selected=this.hot.getSelected(),coordsFrom=new _src.CellCoords(selected[0],selected[1]),coordsTo=new _src.CellCoords(selected[2],selected[3]),cellRange=new _src.CellRange(coordsFrom,coordsFrom,coordsTo),topLeftCorner=cellRange.getTopLeftCorner(),bottomRightCorner=cellRange.getBottomRightCorner(),areaStart=topLeftCorner,areaEnd=new _src.CellCoords(Math.max(bottomRightCorner.row,inputArray.length-1+topLeftCorner.row),Math.max(bottomRightCorner.col,inputArray[0].length-1+topLeftCorner.col)),isSelRowAreaCoverInputValue=coordsTo.row-coordsFrom.row>=inputArray.length-1,isSelColAreaCoverInputValue=coordsTo.col-coordsFrom.col>=inputArray[0].length-1;this.hot.addHookOnce("afterChange",function(changes){var changesLength=changes?changes.length:0;if(changesLength){var offset={row:0,col:0},highestColumnIndex=-1;(0,_array.arrayEach)(changes,function(change,index){var nextChange=index+1<changesLength?changes[index+1]:null;nextChange&&(isSelRowAreaCoverInputValue||(offset.row+=Math.max(nextChange[0]-change[0]-1,0)),!isSelColAreaCoverInputValue&&change[1]>highestColumnIndex&&(highestColumnIndex=change[1],offset.col+=Math.max(nextChange[1]-change[1]-1,0)))}),_this6.hot.selectCell(areaStart.row,areaStart.col,areaEnd.row+offset.row,areaEnd.col+offset.col)}}),this.hot.populateFromArray(areaStart.row,areaStart.col,inputArray,areaEnd.row,areaEnd.col,"CopyPaste.paste",this.pasteMode),this.hot.runHooks("afterPaste",inputArray,this.copyableRanges)}}}},{key:"onAfterContextMenuDefaultOptions",value:function(options){options.items.push({name:"---------"},(0,_copy2.default)(this),(0,_cut2.default)(this))}},{key:"onAfterSelectionEnd",value:function(){var priv=privatePool.get(this),editor=this.hot.getActiveEditor();editor&&void 0!==editor.isOpened&&editor.isOpened()||priv.isFragmentSelectionEnabled&&!this.textarea.isActive()&&(0,_element.getSelectionText)()||(this.setCopyableText(),this.textarea.select())}},{key:"destroy",value:function(){this.textarea&&this.textarea.destroy(),_get(CopyPaste.prototype.__proto__||Object.getPrototypeOf(CopyPaste.prototype),"destroy",this).call(this)}}]),CopyPaste}();(0,_plugins.registerPlugin)("CopyPaste",CopyPaste),exports.default=CopyPaste},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Textarea=function(){function Textarea(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Textarea),this.element=void 0,this.isAppended=!1,this.refCounter=0}return _createClass(Textarea,null,[{key:"getSingleton",value:function(){return globalSingleton.append(),globalSingleton}}]),_createClass(Textarea,[{key:"append",value:function(){this.hasBeenDestroyed()&&this.create(),this.refCounter++,!this.isAppended&&document.body&&document.body&&(this.isAppended=!0,document.body.appendChild(this.element))}},{key:"create",value:function(){this.element=document.createElement("textarea"),this.element.id="HandsontableCopyPaste",this.element.className="copyPaste",this.element.tabIndex=-1,this.element.autocomplete="off",this.element.wrap="hard",this.element.value=" "}},{key:"deselect",value:function(){this.element===document.activeElement&&document.activeElement.blur()}},{key:"destroy",value:function(){this.refCounter--,this.refCounter=this.refCounter<0?0:this.refCounter,this.hasBeenDestroyed()&&this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.element=null,this.isAppended=!1)}},{key:"getValue",value:function(){return this.element.value}},{key:"hasBeenDestroyed",value:function(){return this.refCounter<1}},{key:"isActive",value:function(){return this.element===document.activeElement}},{key:"select",value:function(){this.element.focus(),this.element.select()}},{key:"setValue",value:function(data){this.element.value=data}}]),Textarea}(),globalSingleton=new Textarea;exports.default=Textarea},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(copyPastePlugin){return{key:"copy",name:"Copy",callback:function(){copyPastePlugin.copy()},disabled:function(){return!copyPastePlugin.hot.getSelected()},hidden:!1}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(copyPastePlugin){return{key:"cut",name:"Cut",callback:function(){copyPastePlugin.cut()},disabled:function(){return!copyPastePlugin.hot.getSelected()},hidden:!1}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_clipboardData=__webpack_require__(281),_clipboardData2=(obj=_clipboardData)&&obj.__esModule?obj:{default:obj};exports.default=function PasteEvent(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PasteEvent),this.clipboardData=new _clipboardData2.default}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ClipboardData=function(){function ClipboardData(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ClipboardData),this.data={}}return _createClass(ClipboardData,[{key:"setData",value:function(type,value){this.data[type]=value}},{key:"getData",value:function(type){return this.data[type]||void 0}}]),ClipboardData}();exports.default=ClipboardData},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var obj,instance,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_pluginHooks=__webpack_require__(7),_pluginHooks2=(obj=_pluginHooks)&&obj.__esModule?obj:{default:obj},_object=(__webpack_require__(5),__webpack_require__(1)),_src=__webpack_require__(12);function CustomBorders(){}var insertBorderIntoSettings=function(border){var coordinates={row:border.row,col:border.col},selection=new _src.Selection(border,new _src.CellRange(coordinates,coordinates,coordinates)),index=function(className){for(var i=0;i<instance.view.wt.selections.length;i++)if(instance.view.wt.selections[i].settings.className==className)return i;return-1}(border.className);0<=index?instance.view.wt.selections[index]=selection:instance.view.wt.selections.push(selection)},prepareBorderFromCustomAdded=function(row,col,borderObj){var border=createEmptyBorders(row,col);border=extendDefaultBorder(border,borderObj),this.setCellMeta(row,col,"borders",border),insertBorderIntoSettings(border)},prepareBorderFromCustomAddedRange=function(rowObj){for(var range=rowObj.range,row=range.from.row;row<=range.to.row;row++)for(var col=range.from.col;col<=range.to.col;col++){var border=createEmptyBorders(row,col),add=0;row==range.from.row&&(add++,(0,_object.hasOwnProperty)(rowObj,"top")&&(border.top=rowObj.top)),row==range.to.row&&(add++,(0,_object.hasOwnProperty)(rowObj,"bottom")&&(border.bottom=rowObj.bottom)),col==range.from.col&&(add++,(0,_object.hasOwnProperty)(rowObj,"left")&&(border.left=rowObj.left)),col==range.to.col&&(add++,(0,_object.hasOwnProperty)(rowObj,"right")&&(border.right=rowObj.right)),0<add&&(this.setCellMeta(row,col,"borders",border),insertBorderIntoSettings(border))}},createClassName=function(row,col){return"border_row"+row+"col"+col},createEmptyBorders=function(row,col){return{className:createClassName(row,col),border:{width:1,color:"#000",cornerVisible:!1},row:row,col:col,top:{hide:!0},right:{hide:!0},bottom:{hide:!0},left:{hide:!0}}},extendDefaultBorder=function(defaultBorder,customBorder){return(0,_object.hasOwnProperty)(customBorder,"border")&&(defaultBorder.border=customBorder.border),(0,_object.hasOwnProperty)(customBorder,"top")&&(defaultBorder.top=customBorder.top),(0,_object.hasOwnProperty)(customBorder,"right")&&(defaultBorder.right=customBorder.right),(0,_object.hasOwnProperty)(customBorder,"bottom")&&(defaultBorder.bottom=customBorder.bottom),(0,_object.hasOwnProperty)(customBorder,"left")&&(defaultBorder.left=customBorder.left),defaultBorder},removeBordersFromDom=function(borderClassName){for(var borders=document.querySelectorAll("."+borderClassName),i=0;i<borders.length;i++)if(borders[i]&&"TD"!=borders[i].nodeName){var parent=borders[i].parentNode;parent.parentNode&&parent.parentNode.removeChild(parent)}},removeAllBorders=function(row,col){var borderClassName=createClassName(row,col);removeBordersFromDom(borderClassName),this.removeCellMeta(row,col,"borders")},setBorder=function(row,col,place,remove){var bordersMeta=this.getCellMeta(row,col).borders;bordersMeta&&null!=bordersMeta.border||(bordersMeta=createEmptyBorders(row,col)),bordersMeta[place]=remove?{hide:!0}:{width:1,color:"#000"},this.setCellMeta(row,col,"borders",bordersMeta);var borderClassName=createClassName(row,col);removeBordersFromDom(borderClassName),insertBorderIntoSettings(bordersMeta),this.render()},prepareBorder=function(range,place,remove){if(range.from.row==range.to.row&&range.from.col==range.to.col)"noBorders"==place?removeAllBorders.call(this,range.from.row,range.from.col):setBorder.call(this,range.from.row,range.from.col,place,remove);else switch(place){case"noBorders":for(var column=range.from.col;column<=range.to.col;column++)for(var row=range.from.row;row<=range.to.row;row++)removeAllBorders.call(this,row,column);break;case"top":for(var topCol=range.from.col;topCol<=range.to.col;topCol++)setBorder.call(this,range.from.row,topCol,place,remove);break;case"right":for(var rowRight=range.from.row;rowRight<=range.to.row;rowRight++)setBorder.call(this,rowRight,range.to.col,place);break;case"bottom":for(var bottomCol=range.from.col;bottomCol<=range.to.col;bottomCol++)setBorder.call(this,range.to.row,bottomCol,place);break;case"left":for(var rowLeft=range.from.row;rowLeft<=range.to.row;rowLeft++)setBorder.call(this,rowLeft,range.from.col,place)}},checkSelectionBorders=function(hot,direction){var atLeastOneHasBorder=!1;return hot.getSelectedRange().forAll(function(r,c){var metaBorders=hot.getCellMeta(r,c).borders;if(metaBorders){if(!direction)return!(atLeastOneHasBorder=!0);if(!(0,_object.hasOwnProperty)(metaBorders[direction],"hide"))return!(atLeastOneHasBorder=!0)}}),atLeastOneHasBorder},markSelected=function(label){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+label};_pluginHooks2.default.getSingleton().add("beforeInit",function(){!function(customBorders){return"boolean"==typeof customBorders&&!0===customBorders||"object"===(void 0===customBorders?"undefined":_typeof(customBorders))&&0<customBorders.length}(this.getSettings().customBorders)||this.customBorders||((instance=this).customBorders=new CustomBorders)}),_pluginHooks2.default.getSingleton().add("afterContextMenuDefaultOptions",function(defaultOptions){this.getSettings().customBorders&&(defaultOptions.items.push({name:"---------"}),defaultOptions.items.push({key:"borders",name:"Borders",disabled:function(){return this.selection.selectedHeader.corner},submenu:{items:[{key:"borders:top",name:function(){var label="Top";return checkSelectionBorders(this,"top")&&(label=markSelected(label)),label},callback:function(){var hasBorder=checkSelectionBorders(this,"top");prepareBorder.call(this,this.getSelectedRange(),"top",hasBorder)}},{key:"borders:right",name:function(){var label="Right";return checkSelectionBorders(this,"right")&&(label=markSelected(label)),label},callback:function(){var hasBorder=checkSelectionBorders(this,"right");prepareBorder.call(this,this.getSelectedRange(),"right",hasBorder)}},{key:"borders:bottom",name:function(){var label="Bottom";return checkSelectionBorders(this,"bottom")&&(label=markSelected(label)),label},callback:function(){var hasBorder=checkSelectionBorders(this,"bottom");prepareBorder.call(this,this.getSelectedRange(),"bottom",hasBorder)}},{key:"borders:left",name:function(){var label="Left";return checkSelectionBorders(this,"left")&&(label=markSelected(label)),label},callback:function(){var hasBorder=checkSelectionBorders(this,"left");prepareBorder.call(this,this.getSelectedRange(),"left",hasBorder)}},{key:"borders:no_borders",name:"Remove border(s)",callback:function(){prepareBorder.call(this,this.getSelectedRange(),"noBorders")},disabled:function(){return!checkSelectionBorders(this)}}]}}))}),_pluginHooks2.default.getSingleton().add("afterInit",function(){var customBorders=this.getSettings().customBorders;if(customBorders){for(var i=0;i<customBorders.length;i++)customBorders[i].range?prepareBorderFromCustomAddedRange.call(this,customBorders[i]):prepareBorderFromCustomAdded.call(this,customBorders[i].row,customBorders[i].col,customBorders[i]);this.render(),this.view.wt.draw(!0)}})},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var dragToScroll,_pluginHooks2=_interopRequireDefault(__webpack_require__(7)),_eventManager2=_interopRequireDefault(__webpack_require__(4));__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DragToScroll(){this.boundaries=null,this.callback=null}DragToScroll.prototype.setBoundaries=function(boundaries){this.boundaries=boundaries},DragToScroll.prototype.setCallback=function(callback){this.callback=callback},DragToScroll.prototype.check=function(x,y){var diffX=0,diffY=0;y<this.boundaries.top?diffY=y-this.boundaries.top:y>this.boundaries.bottom&&(diffY=y-this.boundaries.bottom),x<this.boundaries.left?diffX=x-this.boundaries.left:x>this.boundaries.right&&(diffX=x-this.boundaries.right),this.callback(diffX,diffY)};var setupListening=function(instance){instance.dragToScrollListening=!1;var scrollHandler=instance.view.wt.wtTable.holder;dragToScroll=new DragToScroll,scrollHandler!==window&&(dragToScroll.setBoundaries(scrollHandler.getBoundingClientRect()),dragToScroll.setCallback(function(scrollX,scrollY){scrollX<0?scrollHandler.scrollLeft-=50:0<scrollX&&(scrollHandler.scrollLeft+=50),scrollY<0?scrollHandler.scrollTop-=20:0<scrollY&&(scrollHandler.scrollTop+=20)}),instance.dragToScrollListening=!0)};_pluginHooks2.default.getSingleton().add("afterInit",function(){var instance=this,eventManager=new _eventManager2.default(this);eventManager.addEventListener(document,"mouseup",function(){instance.dragToScrollListening=!1}),eventManager.addEventListener(document,"mousemove",function(event){instance.dragToScrollListening&&dragToScroll.check(event.clientX,event.clientY)})}),_pluginHooks2.default.getSingleton().add("afterDestroy",function(){new _eventManager2.default(this).clear()}),_pluginHooks2.default.getSingleton().add("afterOnCellMouseDown",function(){setupListening(this)}),_pluginHooks2.default.getSingleton().add("afterOnCellCornerMouseDown",function(){setupListening(this)}),exports.default=DragToScroll},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _base2=_interopRequireDefault(__webpack_require__(13)),_plugins=__webpack_require__(5),_array=__webpack_require__(2),_freezeColumn2=_interopRequireDefault(__webpack_require__(286)),_unfreezeColumn2=_interopRequireDefault(__webpack_require__(287));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(288);var privatePool=new WeakMap,ManualColumnFreeze=function(_BasePlugin){function ManualColumnFreeze(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ManualColumnFreeze);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ManualColumnFreeze.__proto__||Object.getPrototypeOf(ManualColumnFreeze)).call(this,hotInstance));return privatePool.set(_this,{moveByFreeze:!1,afterFirstUse:!1}),_this.frozenColumnsBasePositions=[],_this.manualColumnMovePlugin=void 0,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ManualColumnFreeze,_base2.default),_createClass(ManualColumnFreeze,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnFreeze}},{key:"enablePlugin",value:function(){var _this2=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(options){return _this2.addContextMenuEntry(options)}),this.addHook("afterInit",function(){return _this2.onAfterInit()}),this.addHook("beforeColumnMove",function(rows,target){return _this2.onBeforeColumnMove(rows,target)}),_get(ManualColumnFreeze.prototype.__proto__||Object.getPrototypeOf(ManualColumnFreeze.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var priv=privatePool.get(this);priv.afterFirstUse=!1,priv.moveByFreeze=!1,_get(ManualColumnFreeze.prototype.__proto__||Object.getPrototypeOf(ManualColumnFreeze.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),_get(ManualColumnFreeze.prototype.__proto__||Object.getPrototypeOf(ManualColumnFreeze.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(column){var priv=privatePool.get(this),settings=this.hot.getSettings();priv.afterFirstUse||(priv.afterFirstUse=!0),settings.fixedColumnsLeft===this.hot.countCols()||column<=settings.fixedColumnsLeft-1||(priv.moveByFreeze=!0,column!==this.getMovePlugin().columnsMapper.getValueByIndex(column)&&(this.frozenColumnsBasePositions[settings.fixedColumnsLeft]=column),this.getMovePlugin().moveColumn(column,settings.fixedColumnsLeft++))}},{key:"unfreezeColumn",value:function(column){var priv=privatePool.get(this),settings=this.hot.getSettings();if(priv.afterFirstUse||(priv.afterFirstUse=!0),!(settings.fixedColumnsLeft<=0||column>settings.fixedColumnsLeft-1)){var returnCol=this.getBestColumnReturnPosition(column);priv.moveByFreeze=!0,settings.fixedColumnsLeft--,this.getMovePlugin().moveColumn(column,returnCol+1)}}},{key:"getMovePlugin",value:function(){return this.manualColumnMovePlugin||(this.manualColumnMovePlugin=this.hot.getPlugin("manualColumnMove")),this.manualColumnMovePlugin}},{key:"getBestColumnReturnPosition",value:function(column){var movePlugin=this.getMovePlugin(),i=this.hot.getSettings().fixedColumnsLeft,j=movePlugin.columnsMapper.getValueByIndex(i),initialCol=void 0;if(null==this.frozenColumnsBasePositions[column])for(initialCol=movePlugin.columnsMapper.getValueByIndex(column);j<initialCol;)i++,j=movePlugin.columnsMapper.getValueByIndex(i);else{for(initialCol=this.frozenColumnsBasePositions[column],this.frozenColumnsBasePositions[column]=void 0;j<=initialCol;)i++,j=movePlugin.columnsMapper.getValueByIndex(i);i=j}return i-1}},{key:"addContextMenuEntry",value:function(options){options.items.push({name:"---------"},(0,_freezeColumn2.default)(this),(0,_unfreezeColumn2.default)(this))}},{key:"onAfterInit",value:function(){this.getMovePlugin().isEnabled()||this.getMovePlugin().enablePlugin()}},{key:"onBeforeColumnMove",value:function(rows,target){var priv=privatePool.get(this);if(priv.afterFirstUse&&!priv.moveByFreeze){var frozenLen=this.hot.getSettings().fixedColumnsLeft,disallowMoving=target<frozenLen;if(disallowMoving||(0,_array.arrayEach)(rows,function(value,index,array){if(value<frozenLen)return!(disallowMoving=!0)}),disallowMoving)return!1}priv.moveByFreeze&&(priv.moveByFreeze=!1)}},{key:"destroy",value:function(){_get(ManualColumnFreeze.prototype.__proto__||Object.getPrototypeOf(ManualColumnFreeze.prototype),"destroy",this).call(this)}}]),ManualColumnFreeze}();(0,_plugins.registerPlugin)("manualColumnFreeze",ManualColumnFreeze),exports.default=ManualColumnFreeze},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(manualColumnFreezePlugin){return{key:"freeze_column",name:"Freeze this column",callback:function(){var selectedColumn=this.getSelectedRange().from.col;manualColumnFreezePlugin.freezeColumn(selectedColumn),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var selection=this.getSelectedRange(),hide=!1;return void 0===selection?hide=!0:(selection.from.col!==selection.to.col||selection.from.col<=this.getSettings().fixedColumnsLeft-1)&&(hide=!0),hide}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(manualColumnFreezePlugin){return{key:"unfreeze_column",name:"Unfreeze this column",callback:function(){var selectedColumn=this.getSelectedRange().from.col;manualColumnFreezePlugin.unfreezeColumn(selectedColumn),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var selection=this.getSelectedRange(),hide=!1;return void 0===selection?hide=!0:(selection.from.col!==selection.to.col||selection.from.col>=this.getSettings().fixedColumnsLeft)&&(hide=!0),hide}}}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _base2=_interopRequireDefault(__webpack_require__(13)),_pluginHooks2=_interopRequireDefault(__webpack_require__(7)),_array=__webpack_require__(2),_element=__webpack_require__(0),_number=__webpack_require__(6),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_plugins=__webpack_require__(5),_columnsMapper2=_interopRequireDefault(__webpack_require__(290)),_backlight2=_interopRequireDefault(__webpack_require__(291)),_guideline2=_interopRequireDefault(__webpack_require__(292)),_src=__webpack_require__(12);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(293),_pluginHooks2.default.getSingleton().register("beforeColumnMove"),_pluginHooks2.default.getSingleton().register("afterColumnMove"),_pluginHooks2.default.getSingleton().register("unmodifyCol");var privatePool=new WeakMap,ManualColumnMove=function(_BasePlugin){function ManualColumnMove(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ManualColumnMove);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ManualColumnMove.__proto__||Object.getPrototypeOf(ManualColumnMove)).call(this,hotInstance));return privatePool.set(_this,{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,disallowMoving:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0}}),_this.removedColumns=[],_this.columnsMapper=new _columnsMapper2.default(_this),_this.eventManager=new _eventManager2.default(_this),_this.backlight=new _backlight2.default(hotInstance),_this.guideline=new _guideline2.default(hotInstance),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ManualColumnMove,_base2.default),_createClass(ManualColumnMove,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnMove}},{key:"enablePlugin",value:function(){var _this2=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(event,coords,TD,blockCalculations){return _this2.onBeforeOnCellMouseDown(event,coords,TD,blockCalculations)}),this.addHook("beforeOnCellMouseOver",function(event,coords,TD,blockCalculations){return _this2.onBeforeOnCellMouseOver(event,coords,TD,blockCalculations)}),this.addHook("afterScrollVertically",function(){return _this2.onAfterScrollVertically()}),this.addHook("modifyCol",function(row,source){return _this2.onModifyCol(row,source)}),this.addHook("beforeRemoveCol",function(index,amount){return _this2.onBeforeRemoveCol(index,amount)}),this.addHook("afterRemoveCol",function(){return _this2.onAfterRemoveCol()}),this.addHook("afterCreateCol",function(index,amount){return _this2.onAfterCreateCol(index,amount)}),this.addHook("afterLoadData",function(){return _this2.onAfterLoadData()}),this.addHook("unmodifyCol",function(column){return _this2.onUnmodifyCol(column)}),this.registerEvents(),(0,_element.addClass)(this.hot.rootElement,"ht__manualColumnMove"),_get(ManualColumnMove.prototype.__proto__||Object.getPrototypeOf(ManualColumnMove.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),_get(ManualColumnMove.prototype.__proto__||Object.getPrototypeOf(ManualColumnMove.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var pluginSettings=this.hot.getSettings().manualColumnMove;Array.isArray(pluginSettings)&&this.columnsMapper.clearMap(),(0,_element.removeClass)(this.hot.rootElement,"ht__manualColumnMove"),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),_get(ManualColumnMove.prototype.__proto__||Object.getPrototypeOf(ManualColumnMove.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(column,target){this.moveColumns([column],target)}},{key:"moveColumns",value:function(columns,target){var _this3=this,priv=privatePool.get(this),beforeColumnHook=this.hot.runHooks("beforeColumnMove",columns,target);priv.disallowMoving=!beforeColumnHook,!1!==beforeColumnHook&&((0,_array.arrayEach)(columns,function(column,index,array){array[index]=_this3.columnsMapper.getValueByIndex(column)}),(0,_array.arrayEach)(columns,function(column,index){var actualPosition=_this3.columnsMapper.getIndexByValue(column);actualPosition!==target&&_this3.columnsMapper.moveColumn(actualPosition,target+index)}),this.columnsMapper.clearNull()),this.hot.runHooks("afterColumnMove",columns,target)}},{key:"changeSelection",value:function(startColumn,endColumn){var selection=this.hot.selection,lastRowIndex=this.hot.countRows()-1;selection.setRangeStartOnly(new _src.CellCoords(0,startColumn)),selection.setRangeEnd(new _src.CellCoords(lastRowIndex,endColumn),!1)}},{key:"getColumnsWidth",value:function(from,to){for(var width=0,i=from;i<to;i++){width+=i<0?this.hot.view.wt.wtViewport.getRowHeaderWidth()||0:this.hot.view.wt.wtTable.getStretchedColumnWidth(i)||0}return width}},{key:"initialSettings",value:function(){var pluginSettings=this.hot.getSettings().manualColumnMove;Array.isArray(pluginSettings)?this.moveColumns(pluginSettings,0):void 0!==pluginSettings&&this.persistentStateLoad()}},{key:"isFixedColumnsLeft",value:function(column){return column<this.hot.getSettings().fixedColumnsLeft}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.columnsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var storedState={};this.hot.runHooks("persistentStateLoad","manualColumnMove",storedState),storedState.value&&(this.columnsMapper._arrayMap=storedState.value)}},{key:"prepareColumnsToMoving",value:function(start,end){var selectedColumns=[];return(0,_number.rangeEach)(start,end,function(i){selectedColumns.push(i)}),selectedColumns}},{key:"refreshPositions",value:function(){var priv=privatePool.get(this),firstVisible=this.hot.view.wt.wtTable.getFirstVisibleColumn(),lastVisible=this.hot.view.wt.wtTable.getLastVisibleColumn(),wtTable=this.hot.view.wt.wtTable,scrollableElement=this.hot.view.wt.wtOverlays.scrollableElement,scrollLeft="number"==typeof scrollableElement.scrollX?scrollableElement.scrollX:scrollableElement.scrollLeft,tdOffsetLeft=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,priv.coordsColumn),mouseOffsetLeft=priv.target.eventPageX-(priv.rootElementOffset-(void 0===scrollableElement.scrollX?scrollLeft:0)),hiderWidth=wtTable.hider.offsetWidth,tbodyOffsetLeft=wtTable.TBODY.offsetLeft,backlightElemMarginLeft=this.backlight.getOffset().left,backlightElemWidth=this.backlight.getSize().width,rowHeaderWidth=0;if(priv.rootElementOffset+wtTable.holder.offsetWidth+scrollLeft<priv.target.eventPageX&&priv.coordsColumn<priv.countCols&&priv.coordsColumn++,priv.hasRowHeaders&&(rowHeaderWidth=this.hot.view.wt.wtOverlays.leftOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsLeft(priv.coordsColumn)&&(tdOffsetLeft+=scrollLeft),tdOffsetLeft+=rowHeaderWidth,priv.coordsColumn<0)0<priv.fixedColumns?priv.target.col=0:priv.target.col=0<firstVisible?firstVisible-1:firstVisible;else if(priv.target.TD.offsetWidth/2+tdOffsetLeft<=mouseOffsetLeft){var newCoordsCol=priv.coordsColumn>=priv.countCols?priv.countCols-1:priv.coordsColumn;priv.target.col=newCoordsCol+1,tdOffsetLeft+=priv.target.TD.offsetWidth,priv.target.col>lastVisible&&this.hot.scrollViewportTo(void 0,lastVisible+1,void 0,!0)}else priv.target.col=priv.coordsColumn,priv.target.col<=firstVisible&&priv.target.col>=priv.fixedColumns&&this.hot.scrollViewportTo(void 0,firstVisible-1);priv.target.col<=firstVisible&&priv.target.col>=priv.fixedColumns&&this.hot.scrollViewportTo(void 0,firstVisible-1);var backlightLeft=mouseOffsetLeft,guidelineLeft=tdOffsetLeft;hiderWidth<=mouseOffsetLeft+backlightElemWidth+backlightElemMarginLeft?backlightLeft=hiderWidth-backlightElemWidth-backlightElemMarginLeft:mouseOffsetLeft+backlightElemMarginLeft<tbodyOffsetLeft+rowHeaderWidth&&(backlightLeft=tbodyOffsetLeft+rowHeaderWidth+Math.abs(backlightElemMarginLeft)),hiderWidth-1<=tdOffsetLeft?guidelineLeft=hiderWidth-1:0===guidelineLeft?guidelineLeft=1:void 0!==scrollableElement.scrollX&&priv.coordsColumn<priv.fixedColumns&&(guidelineLeft-=priv.rootElementOffset<=scrollableElement.scrollX?priv.rootElementOffset:0),this.backlight.setPosition(null,backlightLeft),this.guideline.setPosition(null,guidelineLeft)}},{key:"updateColumnsMapper",value:function(){var countCols=this.hot.countSourceCols(),columnsMapperLen=this.columnsMapper._arrayMap.length;if(0===columnsMapperLen)this.columnsMapper.createMap(countCols||this.hot.getSettings().startCols);else if(columnsMapperLen<countCols){var diff=countCols-columnsMapperLen;this.columnsMapper.insertItems(columnsMapperLen,diff)}else if(countCols<columnsMapperLen){var maxIndex=countCols-1,columnsToRemove=[];(0,_array.arrayEach)(this.columnsMapper._arrayMap,function(value,index){maxIndex<value&&columnsToRemove.push(index)}),this.columnsMapper.removeItems(columnsToRemove)}}},{key:"registerEvents",value:function(){var _this4=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(event){return _this4.onMouseMove(event)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return _this4.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(event,coords,TD,blockCalculations){var wtTable=this.hot.view.wt.wtTable,isHeaderSelection=this.hot.selection.selectedHeader.cols,selection=this.hot.getSelectedRange(),priv=privatePool.get(this),isSortingElement=-1<event.realTarget.className.indexOf("columnSorting");if(!selection||!isHeaderSelection||priv.pressed||0!==event.button||isSortingElement)return priv.pressed=!1,void(priv.columnsToMove.length=0,_element.removeClass)(this.hot.rootElement,["on-moving--columns","show-ui"]);var guidelineIsNotReady=this.guideline.isBuilt()&&!this.guideline.isAppended(),backlightIsNotReady=this.backlight.isBuilt()&&!this.backlight.isAppended();guidelineIsNotReady&&backlightIsNotReady&&(this.guideline.appendTo(wtTable.hider),this.backlight.appendTo(wtTable.hider));var from=selection.from,to=selection.to,start=Math.min(from.col,to.col),end=Math.max(from.col,to.col);if(coords.row<0&&coords.col>=start&&coords.col<=end){blockCalculations.column=!0,priv.pressed=!0,priv.target.eventPageX=event.pageX,priv.coordsColumn=coords.col,priv.target.TD=TD,priv.target.col=coords.col,priv.columnsToMove=this.prepareColumnsToMoving(start,end),priv.hasRowHeaders=!!this.hot.getSettings().rowHeaders,priv.countCols=this.hot.countCols(),priv.fixedColumns=this.hot.getSettings().fixedColumnsLeft,priv.rootElementOffset=(0,_element.offset)(this.hot.rootElement).left;var countColumnsFrom=priv.hasRowHeaders?-1:0,topPos=wtTable.holder.scrollTop+wtTable.getColumnHeaderHeight(0)+1,fixedColumns=coords.col<priv.fixedColumns,scrollableElement=this.hot.view.wt.wtOverlays.scrollableElement,wrapperIsWindow=scrollableElement.scrollX?scrollableElement.scrollX-priv.rootElementOffset:0,mouseOffset=event.layerX-(fixedColumns?wrapperIsWindow:0),leftOffset=Math.abs(this.getColumnsWidth(start,coords.col)+mouseOffset);this.backlight.setPosition(topPos,this.getColumnsWidth(countColumnsFrom,start)+leftOffset),this.backlight.setSize(this.getColumnsWidth(start,end+1),wtTable.hider.offsetHeight-topPos),this.backlight.setOffset(null,-1*leftOffset),(0,_element.addClass)(this.hot.rootElement,"on-moving--columns")}else(0,_element.removeClass)(this.hot.rootElement,"after-selection--columns"),priv.pressed=!1,priv.columnsToMove.length=0}},{key:"onMouseMove",value:function(event){var priv=privatePool.get(this);if(priv.pressed){if(event.realTarget===this.backlight.element){var width=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(width)})}priv.target.eventPageX=event.pageX,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(event,coords,TD,blockCalculations){var selectedRange=this.hot.getSelectedRange(),priv=privatePool.get(this);selectedRange&&priv.pressed&&(-1<priv.columnsToMove.indexOf(coords.col)?(0,_element.removeClass)(this.hot.rootElement,"show-ui"):(0,_element.addClass)(this.hot.rootElement,"show-ui"),blockCalculations.row=!0,blockCalculations.column=!0,blockCalculations.cell=!0,priv.coordsColumn=coords.col,priv.target.TD=TD)}},{key:"onMouseUp",value:function(){var priv=privatePool.get(this);if(priv.coordsColumn=void 0,priv.pressed=!1,(priv.backlightWidth=0,_element.removeClass)(this.hot.rootElement,["on-moving--columns","show-ui","after-selection--columns"]),this.hot.selection.selectedHeader.cols&&(0,_element.addClass)(this.hot.rootElement,"after-selection--columns"),!(priv.columnsToMove.length<1||void 0===priv.target.col||-1<priv.columnsToMove.indexOf(priv.target.col))){if(this.moveColumns(priv.columnsToMove,priv.target.col),this.persistentStateSave(),this.hot.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),!priv.disallowMoving){var selectionStart=this.columnsMapper.getIndexByValue(priv.columnsToMove[0]),selectionEnd=this.columnsMapper.getIndexByValue(priv.columnsToMove[priv.columnsToMove.length-1]);this.changeSelection(selectionStart,selectionEnd)}priv.columnsToMove.length=0}}},{key:"onAfterScrollVertically",value:function(){var wtTable=this.hot.view.wt.wtTable,posTop=wtTable.getColumnHeaderHeight(0)+1+wtTable.holder.scrollTop;this.backlight.setPosition(posTop),this.backlight.setSize(null,wtTable.hider.offsetHeight-posTop)}},{key:"onAfterCreateCol",value:function(index,amount){this.columnsMapper.shiftItems(index,amount)}},{key:"onBeforeRemoveCol",value:function(index,amount){var _this5=this;this.removedColumns.length=0,!1!==index&&(0,_number.rangeEach)(index,index+amount-1,function(removedIndex){_this5.removedColumns.push(_this5.hot.runHooks("modifyCol",removedIndex,_this5.pluginName))})}},{key:"onAfterRemoveCol",value:function(){this.columnsMapper.unshiftItems(this.removedColumns)}},{key:"onAfterLoadData",value:function(){this.updateColumnsMapper()}},{key:"onModifyCol",value:function(column,source){if(source!==this.pluginName){var columnInMapper=this.columnsMapper.getValueByIndex(column);column=null===columnInMapper?column:columnInMapper}return column}},{key:"onUnmodifyCol",value:function(column){var indexInMapper=this.columnsMapper.getIndexByValue(column);return null===indexInMapper?column:indexInMapper}},{key:"onAfterPluginsInitialized",value:function(){this.updateColumnsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),_get(ManualColumnMove.prototype.__proto__||Object.getPrototypeOf(ManualColumnMove.prototype),"destroy",this).call(this)}}]),ManualColumnMove}();(0,_plugins.registerPlugin)("ManualColumnMove",ManualColumnMove),exports.default=ManualColumnMove},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_arrayMapper=__webpack_require__(176),_arrayMapper2=(obj=_arrayMapper)&&obj.__esModule?obj:{default:obj},_array=__webpack_require__(2),_object=__webpack_require__(1),_number=__webpack_require__(6);var ColumnsMapper=function(){function ColumnsMapper(manualColumnMove){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ColumnsMapper),this.manualColumnMove=manualColumnMove}return _createClass(ColumnsMapper,[{key:"createMap",value:function(length){var _this=this,originLength=void 0===length?this._arrayMap.length:length;(this._arrayMap.length=0,_number.rangeEach)(originLength-1,function(itemIndex){_this._arrayMap[itemIndex]=itemIndex})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveColumn",value:function(from,to){var indexToMove=this._arrayMap[from];this._arrayMap[from]=null,this._arrayMap.splice(to,0,indexToMove)}},{key:"clearNull",value:function(){this._arrayMap=(0,_array.arrayFilter)(this._arrayMap,function(i){return null!==i})}}]),ColumnsMapper}();(0,_object.mixin)(ColumnsMapper,_arrayMapper2.default),exports.default=ColumnsMapper},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_base=__webpack_require__(177),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj},_element=__webpack_require__(0);var BacklightUI=function(_BaseUI){function BacklightUI(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BacklightUI),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(BacklightUI.__proto__||Object.getPrototypeOf(BacklightUI)).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(BacklightUI,_base2.default),_createClass(BacklightUI,[{key:"build",value:function(){(function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0})(BacklightUI.prototype.__proto__||Object.getPrototypeOf(BacklightUI.prototype),"build",this).call(this),(0,_element.addClass)(this._element,"ht__manualColumnMove--backlight")}}]),BacklightUI}();exports.default=BacklightUI},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_base=__webpack_require__(177),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj},_element=__webpack_require__(0);var GuidelineUI=function(_BaseUI){function GuidelineUI(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GuidelineUI),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(GuidelineUI.__proto__||Object.getPrototypeOf(GuidelineUI)).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(GuidelineUI,_base2.default),_createClass(GuidelineUI,[{key:"build",value:function(){(function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0})(GuidelineUI.prototype.__proto__||Object.getPrototypeOf(GuidelineUI.prototype),"build",this).call(this),(0,_element.addClass)(this._element,"ht__manualColumnMove--guideline")}}]),GuidelineUI}();exports.default=GuidelineUI},function(module,exports){},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _base2=_interopRequireDefault(__webpack_require__(13)),_element=__webpack_require__(0),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_event=__webpack_require__(10),_array=__webpack_require__(2),_number=__webpack_require__(6),_plugins=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ManualColumnResize=function(_BasePlugin){function ManualColumnResize(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ManualColumnResize);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ManualColumnResize.__proto__||Object.getPrototypeOf(ManualColumnResize)).call(this,hotInstance));return _this.currentTH=null,_this.currentCol=null,_this.selectedCols=[],_this.currentWidth=null,_this.newSize=null,_this.startY=null,_this.startWidth=null,_this.startOffset=null,_this.handle=document.createElement("DIV"),_this.guide=document.createElement("DIV"),_this.eventManager=new _eventManager2.default(_this),_this.pressed=null,_this.dblclick=0,_this.autoresizeTimeout=null,_this.manualColumnWidths=[],(0,_element.addClass)(_this.handle,"manualColumnResizer"),(0,_element.addClass)(_this.guide,"manualColumnResizerGuide"),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ManualColumnResize,_base2.default),_createClass(ManualColumnResize,[{key:"isEnabled",value:function(){return this.hot.getSettings().manualColumnResize}},{key:"enablePlugin",value:function(){var _this2=this;if(!this.enabled){this.manualColumnWidths=[];var initialColumnWidth=this.hot.getSettings().manualColumnResize,loadedManualColumnWidths=this.loadManualColumnWidths();this.addHook("modifyColWidth",function(width,col){return _this2.onModifyColWidth(width,col)}),this.addHook("beforeStretchingColumnWidth",function(stretchedWidth,column){return _this2.onBeforeStretchingColumnWidth(stretchedWidth,column)}),this.addHook("beforeColumnResize",function(currentColumn,newSize,isDoubleClick){return _this2.onBeforeColumnResize(currentColumn,newSize,isDoubleClick)}),void 0!==loadedManualColumnWidths?this.manualColumnWidths=loadedManualColumnWidths:Array.isArray(initialColumnWidth)?this.manualColumnWidths=initialColumnWidth:this.manualColumnWidths=[],this.bindEvents(),_get(ManualColumnResize.prototype.__proto__||Object.getPrototypeOf(ManualColumnResize.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var initialColumnWidth=this.hot.getSettings().manualColumnResize;Array.isArray(initialColumnWidth)?this.manualColumnWidths=initialColumnWidth:initialColumnWidth||(this.manualColumnWidths=[])}},{key:"disablePlugin",value:function(){_get(ManualColumnResize.prototype.__proto__||Object.getPrototypeOf(ManualColumnResize.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave","manualColumnWidths",this.manualColumnWidths)}},{key:"loadManualColumnWidths",value:function(){var storedState={};return this.hot.runHooks("persistentStateLoad","manualColumnWidths",storedState),storedState.value}},{key:"setupHandlePosition",value:function(TH){var _this3=this;if(!TH.parentNode)return!1;this.currentTH=TH;var col=this.hot.view.wt.wtTable.getCoords(TH).col,headerHeight=(0,_element.outerHeight)(this.currentTH);if(0<=col){var box=this.currentTH.getBoundingClientRect();if(this.currentCol=col,this.selectedCols=[],this.hot.selection.isSelected()&&this.hot.selection.selectedHeader.cols){var _hot$getSelectedRange=this.hot.getSelectedRange(),from=_hot$getSelectedRange.from,to=_hot$getSelectedRange.to,start=from.col,end=to.col;end<=start&&(start=to.col,end=from.col),this.currentCol>=start&&this.currentCol<=end?(0,_number.rangeEach)(start,end,function(i){return _this3.selectedCols.push(i)}):this.selectedCols.push(this.currentCol)}else this.selectedCols.push(this.currentCol);this.startOffset=box.left-6,this.startWidth=parseInt(box.width,10),this.handle.style.top=box.top+"px",this.handle.style.left=this.startOffset+this.startWidth+"px",this.handle.style.height=headerHeight+"px",this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.left=this.startOffset+this.currentWidth+"px"}},{key:"setupGuidePosition",value:function(){var handleHeight=parseInt((0,_element.outerHeight)(this.handle),10),handleBottomPosition=parseInt(this.handle.style.top,10)+handleHeight,maximumVisibleElementHeight=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);(0,_element.addClass)(this.handle,"active"),(0,_element.addClass)(this.guide,"active"),this.guide.style.top=handleBottomPosition+"px",this.guide.style.left=this.handle.style.left,this.guide.style.height=maximumVisibleElementHeight-handleHeight+"px",this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.left=this.handle.style.left}},{key:"hideHandleAndGuide",value:function(){(0,_element.removeClass)(this.handle,"active"),(0,_element.removeClass)(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(element){if(element==this.hot.rootElement)return!1;var parent=element.parentNode;return"THEAD"===parent.tagName||this.checkIfColumnHeader(parent)}},{key:"getTHFromTargetElement",value:function(element){return"TABLE"!=element.tagName?"TH"==element.tagName?element:this.getTHFromTargetElement(element.parentNode):null}},{key:"onMouseOver",value:function(event){if(this.checkIfColumnHeader(event.target)){var th=this.getTHFromTargetElement(event.target);if(!th)return;var colspan=th.getAttribute("colspan");!th||null!==colspan&&1!==colspan||this.pressed||this.setupHandlePosition(th)}}},{key:"afterMouseDownTimeout",value:function(){var _this4=this,render=function(){_this4.hot.forceFullRender=!0,_this4.hot.view.render(),_this4.hot.view.wt.wtOverlays.adjustElementsSize(!0)},resize=function(selectedCol,forceRender){var hookNewSize=_this4.hot.runHooks("beforeColumnResize",selectedCol,_this4.newSize,!0);void 0!==hookNewSize&&(_this4.newSize=hookNewSize),"all"===_this4.hot.getSettings().stretchH?_this4.clearManualSize(selectedCol):_this4.setManualSize(selectedCol,_this4.newSize),forceRender&&render(),_this4.saveManualColumnWidths(),_this4.hot.runHooks("afterColumnResize",selectedCol,_this4.newSize,!0)};2<=this.dblclick&&(1<this.selectedCols.length?((0,_array.arrayEach)(this.selectedCols,function(selectedCol){resize(selectedCol)}),render()):(0,_array.arrayEach)(this.selectedCols,function(selectedCol){resize(selectedCol,!0)}));this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(event){var _this5=this;(0,_element.hasClass)(event.target,"manualColumnResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return _this5.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startX=(0,_event.pageX)(event),this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(event){var _this6=this;this.pressed&&(this.currentWidth=this.startWidth+((0,_event.pageX)(event)-this.startX),(0,_array.arrayEach)(this.selectedCols,function(selectedCol){_this6.newSize=_this6.setManualSize(selectedCol,_this6.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(event){var _this7=this,render=function(){_this7.hot.forceFullRender=!0,_this7.hot.view.render(),_this7.hot.view.wt.wtOverlays.adjustElementsSize(!0)},resize=function(selectedCol,forceRender){_this7.hot.runHooks("beforeColumnResize",selectedCol,_this7.newSize),forceRender&&render(),_this7.saveManualColumnWidths(),_this7.hot.runHooks("afterColumnResize",selectedCol,_this7.newSize)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startWidth)1<this.selectedCols.length?((0,_array.arrayEach)(this.selectedCols,function(selectedCol){resize(selectedCol)}),render()):(0,_array.arrayEach)(this.selectedCols,function(selectedCol){resize(selectedCol,!0)});this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var _this8=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return _this8.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return _this8.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return _this8.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return _this8.onMouseUp(e)})}},{key:"setManualSize",value:function(column,width){return width=Math.max(width,20),column=this.hot.runHooks("modifyCol",column),this.manualColumnWidths[column]=width}},{key:"clearManualSize",value:function(column){column=this.hot.runHooks("modifyCol",column),this.manualColumnWidths[column]=void 0}},{key:"onModifyColWidth",value:function(width,column){return this.enabled&&(column=this.hot.runHooks("modifyCol",column),this.hot.getSettings().manualColumnResize&&this.manualColumnWidths[column])?this.manualColumnWidths[column]:width}},{key:"onBeforeStretchingColumnWidth",value:function(stretchedWidth,column){var width=this.manualColumnWidths[column];return void 0===width&&(width=stretchedWidth),width}},{key:"onBeforeColumnResize",value:function(){this.hot.view.wt.wtViewport.hasOversizedColumnHeadersMarked={}}}]),ManualColumnResize}();(0,_plugins.registerPlugin)("manualColumnResize",ManualColumnResize),exports.default=ManualColumnResize},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _base2=_interopRequireDefault(__webpack_require__(13)),_pluginHooks2=_interopRequireDefault(__webpack_require__(7)),_array=__webpack_require__(2),_element=__webpack_require__(0),_number=__webpack_require__(6),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_plugins=__webpack_require__(5),_rowsMapper2=_interopRequireDefault(__webpack_require__(296)),_backlight2=_interopRequireDefault(__webpack_require__(297)),_guideline2=_interopRequireDefault(__webpack_require__(298)),_src=__webpack_require__(12);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(299),_pluginHooks2.default.getSingleton().register("beforeRowMove"),_pluginHooks2.default.getSingleton().register("afterRowMove"),_pluginHooks2.default.getSingleton().register("unmodifyRow");var privatePool=new WeakMap,ManualRowMove=function(_BasePlugin){function ManualRowMove(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ManualRowMove);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ManualRowMove.__proto__||Object.getPrototypeOf(ManualRowMove)).call(this,hotInstance));return privatePool.set(_this,{rowsToMove:[],pressed:void 0,disallowMoving:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0}}),_this.removedRows=[],_this.rowsMapper=new _rowsMapper2.default(_this),_this.eventManager=new _eventManager2.default(_this),_this.backlight=new _backlight2.default(hotInstance),_this.guideline=new _guideline2.default(hotInstance),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ManualRowMove,_base2.default),_createClass(ManualRowMove,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualRowMove}},{key:"enablePlugin",value:function(){var _this2=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(event,coords,TD,blockCalculations){return _this2.onBeforeOnCellMouseDown(event,coords,TD,blockCalculations)}),this.addHook("beforeOnCellMouseOver",function(event,coords,TD,blockCalculations){return _this2.onBeforeOnCellMouseOver(event,coords,TD,blockCalculations)}),this.addHook("afterScrollHorizontally",function(){return _this2.onAfterScrollHorizontally()}),this.addHook("modifyRow",function(row,source){return _this2.onModifyRow(row,source)}),this.addHook("beforeRemoveRow",function(index,amount){return _this2.onBeforeRemoveRow(index,amount)}),this.addHook("afterRemoveRow",function(){return _this2.onAfterRemoveRow()}),this.addHook("afterCreateRow",function(index,amount){return _this2.onAfterCreateRow(index,amount)}),this.addHook("afterLoadData",function(){return _this2.onAfterLoadData()}),this.addHook("beforeColumnSort",function(column,order){return _this2.onBeforeColumnSort(column,order)}),this.addHook("unmodifyRow",function(row){return _this2.onUnmodifyRow(row)}),this.registerEvents(),(0,_element.addClass)(this.hot.rootElement,"ht__manualRowMove"),_get(ManualRowMove.prototype.__proto__||Object.getPrototypeOf(ManualRowMove.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),_get(ManualRowMove.prototype.__proto__||Object.getPrototypeOf(ManualRowMove.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var pluginSettings=this.hot.getSettings().manualRowMove;Array.isArray(pluginSettings)&&this.rowsMapper.clearMap(),(0,_element.removeClass)(this.hot.rootElement,"ht__manualRowMove"),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),_get(ManualRowMove.prototype.__proto__||Object.getPrototypeOf(ManualRowMove.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(row,target){this.moveRows([row],target)}},{key:"moveRows",value:function(rows,target){var _this3=this,priv=privatePool.get(this),beforeMoveHook=this.hot.runHooks("beforeRowMove",rows,target);priv.disallowMoving=!1===beforeMoveHook,priv.disallowMoving||((0,_array.arrayEach)(rows,function(row,index,array){array[index]=_this3.rowsMapper.getValueByIndex(row)}),(0,_array.arrayEach)(rows,function(row,index){var actualPosition=_this3.rowsMapper.getIndexByValue(row);actualPosition!==target&&_this3.rowsMapper.moveRow(actualPosition,target+index)}),this.rowsMapper.clearNull()),this.hot.runHooks("afterRowMove",rows,target)}},{key:"changeSelection",value:function(startRow,endRow){var selection=this.hot.selection,lastColIndex=this.hot.countCols()-1;selection.setRangeStartOnly(new _src.CellCoords(startRow,0)),selection.setRangeEnd(new _src.CellCoords(endRow,lastColIndex),!1)}},{key:"getRowsHeight",value:function(from,to){for(var height=0,i=from;i<to;i++){height+=this.hot.view.wt.wtTable.getRowHeight(i)||23}return height}},{key:"initialSettings",value:function(){var pluginSettings=this.hot.getSettings().manualRowMove;if(Array.isArray(pluginSettings))this.moveRows(pluginSettings,0);else if(void 0!==pluginSettings){var persistentState=this.persistentStateLoad();persistentState.length&&this.moveRows(persistentState,0)}}},{key:"isFixedRowTop",value:function(row){return row<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(row){return row>this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.rowsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var storedState={};return this.hot.runHooks("persistentStateLoad","manualRowMove",storedState),storedState.value?storedState.value:[]}},{key:"prepareRowsToMoving",value:function(){var selection=this.hot.getSelectedRange(),selectedRows=[];if(!selection)return selectedRows;var from=selection.from,to=selection.to,start=Math.min(from.row,to.row),end=Math.max(from.row,to.row);return(0,_number.rangeEach)(start,end,function(i){selectedRows.push(i)}),selectedRows}},{key:"refreshPositions",value:function(){var priv=privatePool.get(this),coords=priv.target.coords,firstVisible=this.hot.view.wt.wtTable.getFirstVisibleRow(),lastVisible=this.hot.view.wt.wtTable.getLastVisibleRow(),fixedRows=this.hot.getSettings().fixedRowsTop,countRows=this.hot.countRows();coords.row<fixedRows&&0<firstVisible&&this.hot.scrollViewportTo(firstVisible-1),coords.row>=lastVisible&&lastVisible<countRows&&this.hot.scrollViewportTo(lastVisible+1,void 0,!0);var wtTable=this.hot.view.wt.wtTable,TD=priv.target.TD,rootElementOffset=(0,_element.offset)(this.hot.rootElement),tdOffsetTop=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,coords.row),mouseOffsetTop=priv.target.eventPageY-rootElementOffset.top+wtTable.holder.scrollTop,hiderHeight=wtTable.hider.offsetHeight,tbodyOffsetTop=wtTable.TBODY.offsetTop,backlightElemMarginTop=this.backlight.getOffset().top,backlightElemHeight=this.backlight.getSize().height;this.isFixedRowTop(coords.row)&&(tdOffsetTop+=wtTable.holder.scrollTop),coords.row<0?priv.target.row=0<firstVisible?firstVisible-1:firstVisible:TD.offsetHeight/2+tdOffsetTop<=mouseOffsetTop?(priv.target.row=coords.row+1,tdOffsetTop+=0===coords.row?TD.offsetHeight-1:TD.offsetHeight):priv.target.row=coords.row;var backlightTop=mouseOffsetTop,guidelineTop=tdOffsetTop;hiderHeight<=mouseOffsetTop+backlightElemHeight+backlightElemMarginTop?backlightTop=hiderHeight-backlightElemHeight-backlightElemMarginTop:mouseOffsetTop+backlightElemMarginTop<tbodyOffsetTop&&(backlightTop=tbodyOffsetTop+Math.abs(backlightElemMarginTop)),hiderHeight-1<=tdOffsetTop&&(guidelineTop=hiderHeight-1);var topOverlayHeight=0;this.hot.view.wt.wtOverlays.topOverlay&&(topOverlayHeight=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.TABLE.offsetHeight),coords.row>=fixedRows&&guidelineTop-wtTable.holder.scrollTop<topOverlayHeight&&this.hot.scrollViewportTo(coords.row),this.backlight.setPosition(backlightTop),this.guideline.setPosition(guidelineTop)}},{key:"updateRowsMapper",value:function(){var countRows=this.hot.countSourceRows(),rowsMapperLen=this.rowsMapper._arrayMap.length;if(0===rowsMapperLen)this.rowsMapper.createMap(countRows||this.hot.getSettings().startRows);else if(rowsMapperLen<countRows){var diff=countRows-rowsMapperLen;this.rowsMapper.insertItems(rowsMapperLen,diff)}else if(countRows<rowsMapperLen){var maxIndex=countRows-1,rowsToRemove=[];(0,_array.arrayEach)(this.rowsMapper._arrayMap,function(value,index){maxIndex<value&&rowsToRemove.push(index)}),this.rowsMapper.removeItems(rowsToRemove)}}},{key:"registerEvents",value:function(){var _this4=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(event){return _this4.onMouseMove(event)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return _this4.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeColumnSort",value:function(column,order){privatePool.get(this).disallowMoving=void 0!==order}},{key:"onBeforeOnCellMouseDown",value:function(event,coords,TD,blockCalculations){var wtTable=this.hot.view.wt.wtTable,isHeaderSelection=this.hot.selection.selectedHeader.rows,selection=this.hot.getSelectedRange(),priv=privatePool.get(this);if(!selection||!isHeaderSelection||priv.pressed||0!==event.button)return priv.pressed=!1,void(priv.rowsToMove.length=0,_element.removeClass)(this.hot.rootElement,["on-moving--rows","show-ui"]);var guidelineIsNotReady=this.guideline.isBuilt()&&!this.guideline.isAppended(),backlightIsNotReady=this.backlight.isBuilt()&&!this.backlight.isAppended();guidelineIsNotReady&&backlightIsNotReady&&(this.guideline.appendTo(wtTable.hider),this.backlight.appendTo(wtTable.hider));var from=selection.from,to=selection.to,start=Math.min(from.row,to.row),end=Math.max(from.row,to.row);if(coords.col<0&&coords.row>=start&&coords.row<=end){blockCalculations.row=!0,priv.pressed=!0,priv.target.eventPageY=event.pageY,priv.target.coords=coords,priv.target.TD=TD,priv.rowsToMove=this.prepareRowsToMoving();var leftPos=wtTable.holder.scrollLeft+this.hot.view.wt.wtViewport.getRowHeaderWidth();this.backlight.setPosition(null,leftPos),this.backlight.setSize(wtTable.hider.offsetWidth-leftPos,this.getRowsHeight(start,end+1)),this.backlight.setOffset(-1*(this.getRowsHeight(start,coords.row)+event.layerY),null),(0,_element.addClass)(this.hot.rootElement,"on-moving--rows"),this.refreshPositions()}else(0,_element.removeClass)(this.hot.rootElement,"after-selection--rows"),priv.pressed=!1,priv.rowsToMove.length=0}},{key:"onMouseMove",value:function(event){var priv=privatePool.get(this);if(priv.pressed){if(event.realTarget===this.backlight.element){var height=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,height)})}priv.target.eventPageY=event.pageY,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(event,coords,TD,blockCalculations){var selectedRange=this.hot.getSelectedRange(),priv=privatePool.get(this);selectedRange&&priv.pressed&&(-1<priv.rowsToMove.indexOf(coords.row)?(0,_element.removeClass)(this.hot.rootElement,"show-ui"):(0,_element.addClass)(this.hot.rootElement,"show-ui"),blockCalculations.row=!0,blockCalculations.column=!0,blockCalculations.cell=!0,priv.target.coords=coords,priv.target.TD=TD)}},{key:"onMouseUp",value:function(){var priv=privatePool.get(this),target=priv.target.row,rowsLen=priv.rowsToMove.length;if(priv.pressed=!1,(priv.backlightHeight=0,_element.removeClass)(this.hot.rootElement,["on-moving--rows","show-ui","after-selection--rows"]),this.hot.selection.selectedHeader.rows&&(0,_element.addClass)(this.hot.rootElement,"after-selection--rows"),!(rowsLen<1||void 0===target||-1<priv.rowsToMove.indexOf(target)||priv.rowsToMove[rowsLen-1]===target-1)){if(this.moveRows(priv.rowsToMove,target),this.persistentStateSave(),this.hot.render(),!priv.disallowMoving){var selectionStart=this.rowsMapper.getIndexByValue(priv.rowsToMove[0]),selectionEnd=this.rowsMapper.getIndexByValue(priv.rowsToMove[rowsLen-1]);this.changeSelection(selectionStart,selectionEnd)}priv.rowsToMove.length=0}}},{key:"onAfterScrollHorizontally",value:function(){var wtTable=this.hot.view.wt.wtTable,posLeft=this.hot.view.wt.wtViewport.getRowHeaderWidth()+wtTable.holder.scrollLeft;this.backlight.setPosition(null,posLeft),this.backlight.setSize(wtTable.hider.offsetWidth-posLeft)}},{key:"onAfterCreateRow",value:function(index,amount){this.rowsMapper.shiftItems(index,amount)}},{key:"onBeforeRemoveRow",value:function(index,amount){var _this5=this;this.removedRows.length=0,!1!==index&&(0,_number.rangeEach)(index,index+amount-1,function(removedIndex){_this5.removedRows.push(_this5.hot.runHooks("modifyRow",removedIndex,_this5.pluginName))})}},{key:"onAfterRemoveRow",value:function(){this.rowsMapper.unshiftItems(this.removedRows)}},{key:"onAfterLoadData",value:function(){this.updateRowsMapper()}},{key:"onModifyRow",value:function(row,source){if(source!==this.pluginName){var rowInMapper=this.rowsMapper.getValueByIndex(row);row=null===rowInMapper?row:rowInMapper}return row}},{key:"onUnmodifyRow",value:function(row){var indexInMapper=this.rowsMapper.getIndexByValue(row);return null===indexInMapper?row:indexInMapper}},{key:"onAfterPluginsInitialized",value:function(){this.updateRowsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),_get(ManualRowMove.prototype.__proto__||Object.getPrototypeOf(ManualRowMove.prototype),"destroy",this).call(this)}}]),ManualRowMove}();(0,_plugins.registerPlugin)("ManualRowMove",ManualRowMove),exports.default=ManualRowMove},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_arrayMapper=__webpack_require__(176),_arrayMapper2=(obj=_arrayMapper)&&obj.__esModule?obj:{default:obj},_array=__webpack_require__(2),_object=__webpack_require__(1),_number=__webpack_require__(6);var RowsMapper=function(){function RowsMapper(manualRowMove){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RowsMapper),this.manualRowMove=manualRowMove}return _createClass(RowsMapper,[{key:"createMap",value:function(length){var _this=this,originLength=void 0===length?this._arrayMap.length:length;(this._arrayMap.length=0,_number.rangeEach)(originLength-1,function(itemIndex){_this._arrayMap[itemIndex]=itemIndex})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveRow",value:function(from,to){var indexToMove=this._arrayMap[from];this._arrayMap[from]=null,this._arrayMap.splice(to,0,indexToMove)}},{key:"clearNull",value:function(){this._arrayMap=(0,_array.arrayFilter)(this._arrayMap,function(i){return null!==i})}}]),RowsMapper}();(0,_object.mixin)(RowsMapper,_arrayMapper2.default),exports.default=RowsMapper},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_base=__webpack_require__(178),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj},_element=__webpack_require__(0);var BacklightUI=function(_BaseUI){function BacklightUI(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BacklightUI),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(BacklightUI.__proto__||Object.getPrototypeOf(BacklightUI)).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(BacklightUI,_base2.default),_createClass(BacklightUI,[{key:"build",value:function(){(function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0})(BacklightUI.prototype.__proto__||Object.getPrototypeOf(BacklightUI.prototype),"build",this).call(this),(0,_element.addClass)(this._element,"ht__manualRowMove--backlight")}}]),BacklightUI}();exports.default=BacklightUI},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var obj,_base=__webpack_require__(178),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj},_element=__webpack_require__(0);var GuidelineUI=function(_BaseUI){function GuidelineUI(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GuidelineUI),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(GuidelineUI.__proto__||Object.getPrototypeOf(GuidelineUI)).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(GuidelineUI,_base2.default),_createClass(GuidelineUI,[{key:"build",value:function(){(function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0})(GuidelineUI.prototype.__proto__||Object.getPrototypeOf(GuidelineUI.prototype),"build",this).call(this),(0,_element.addClass)(this._element,"ht__manualRowMove--guideline")}}]),GuidelineUI}();exports.default=GuidelineUI},function(module,exports){},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _base2=_interopRequireDefault(__webpack_require__(13)),_element=__webpack_require__(0),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_event=__webpack_require__(10),_array=__webpack_require__(2),_number=__webpack_require__(6),_plugins=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ManualRowResize=function(_BasePlugin){function ManualRowResize(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ManualRowResize);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ManualRowResize.__proto__||Object.getPrototypeOf(ManualRowResize)).call(this,hotInstance));return _this.currentTH=null,_this.currentRow=null,_this.selectedRows=[],_this.currentHeight=null,_this.newSize=null,_this.startY=null,_this.startHeight=null,_this.startOffset=null,_this.handle=document.createElement("DIV"),_this.guide=document.createElement("DIV"),_this.eventManager=new _eventManager2.default(_this),_this.pressed=null,_this.dblclick=0,_this.autoresizeTimeout=null,_this.manualRowHeights=[],(0,_element.addClass)(_this.handle,"manualRowResizer"),(0,_element.addClass)(_this.guide,"manualRowResizerGuide"),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ManualRowResize,_base2.default),_createClass(ManualRowResize,[{key:"isEnabled",value:function(){return this.hot.getSettings().manualRowResize}},{key:"enablePlugin",value:function(){var _this2=this;if(!this.enabled){this.manualRowHeights=[];var initialRowHeights=this.hot.getSettings().manualRowResize,loadedManualRowHeights=this.loadManualRowHeights();void 0!==loadedManualRowHeights?this.manualRowHeights=loadedManualRowHeights:Array.isArray(initialRowHeights)?this.manualRowHeights=initialRowHeights:this.manualRowHeights=[],this.addHook("modifyRowHeight",function(height,row){return _this2.onModifyRowHeight(height,row)}),this.bindEvents(),_get(ManualRowResize.prototype.__proto__||Object.getPrototypeOf(ManualRowResize.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var initialRowHeights=this.hot.getSettings().manualRowResize;Array.isArray(initialRowHeights)?this.manualRowHeights=initialRowHeights:initialRowHeights||(this.manualRowHeights=[])}},{key:"disablePlugin",value:function(){_get(ManualRowResize.prototype.__proto__||Object.getPrototypeOf(ManualRowResize.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave","manualRowHeights",this.manualRowHeights)}},{key:"loadManualRowHeights",value:function(){var storedState={};return this.hot.runHooks("persistentStateLoad","manualRowHeights",storedState),storedState.value}},{key:"setupHandlePosition",value:function(TH){var _this3=this;this.currentTH=TH;var row=this.hot.view.wt.wtTable.getCoords(TH).row,headerWidth=(0,_element.outerWidth)(this.currentTH);if(0<=row){var box=this.currentTH.getBoundingClientRect();if(this.currentRow=row,this.selectedRows=[],this.hot.selection.isSelected()&&this.hot.selection.selectedHeader.rows){var _hot$getSelectedRange=this.hot.getSelectedRange(),from=_hot$getSelectedRange.from,to=_hot$getSelectedRange.to,start=from.row,end=to.row;end<=start&&(start=to.row,end=from.row),this.currentRow>=start&&this.currentRow<=end?(0,_number.rangeEach)(start,end,function(i){return _this3.selectedRows.push(i)}):this.selectedRows.push(this.currentRow)}else this.selectedRows.push(this.currentRow);this.startOffset=box.top-6,this.startHeight=parseInt(box.height,10),this.handle.style.left=box.left+"px",this.handle.style.top=this.startOffset+this.startHeight+"px",this.handle.style.width=headerWidth+"px",this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top=this.startOffset+this.currentHeight+"px"}},{key:"setupGuidePosition",value:function(){var handleWidth=parseInt((0,_element.outerWidth)(this.handle),10),handleRightPosition=parseInt(this.handle.style.left,10)+handleWidth,maximumVisibleElementWidth=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);(0,_element.addClass)(this.handle,"active"),(0,_element.addClass)(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left=handleRightPosition+"px",this.guide.style.width=maximumVisibleElementWidth-handleWidth+"px",this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){(0,_element.removeClass)(this.handle,"active"),(0,_element.removeClass)(this.guide,"active")}},{key:"checkIfRowHeader",value:function(element){if(element==this.hot.rootElement)return!1;var parent=element.parentNode;return"TBODY"===parent.tagName||this.checkIfRowHeader(parent)}},{key:"getTHFromTargetElement",value:function(element){return"TABLE"!=element.tagName?"TH"==element.tagName?element:this.getTHFromTargetElement(element.parentNode):null}},{key:"onMouseOver",value:function(event){if(this.checkIfRowHeader(event.target)){var th=this.getTHFromTargetElement(event.target);th&&(this.pressed||this.setupHandlePosition(th))}}},{key:"afterMouseDownTimeout",value:function(){var _this4=this,render=function(){_this4.hot.forceFullRender=!0,_this4.hot.view.render(),_this4.hot.view.wt.wtOverlays.adjustElementsSize(!0)},resize=function(selectedRow,forceRender){var hookNewSize=_this4.hot.runHooks("beforeRowResize",selectedRow,_this4.newSize,!0);void 0!==hookNewSize&&(_this4.newSize=hookNewSize),_this4.setManualSize(selectedRow,_this4.newSize),forceRender&&render(),_this4.hot.runHooks("afterRowResize",selectedRow,_this4.newSize,!0)};2<=this.dblclick&&(1<this.selectedRows.length?((0,_array.arrayEach)(this.selectedRows,function(selectedRow){resize(selectedRow)}),render()):(0,_array.arrayEach)(this.selectedRows,function(selectedRow){resize(selectedRow,!0)}));this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(event){var _this5=this;(0,_element.hasClass)(event.target,"manualRowResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null==this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return _this5.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startY=(0,_event.pageY)(event),this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(event){var _this6=this;this.pressed&&(this.currentHeight=this.startHeight+((0,_event.pageY)(event)-this.startY),(0,_array.arrayEach)(this.selectedRows,function(selectedRow){_this6.newSize=_this6.setManualSize(selectedRow,_this6.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(event){var _this7=this,render=function(){_this7.hot.forceFullRender=!0,_this7.hot.view.render(),_this7.hot.view.wt.wtOverlays.adjustElementsSize(!0)},runHooks=function(selectedRow,forceRender){_this7.hot.runHooks("beforeRowResize",selectedRow,_this7.newSize),forceRender&&render(),_this7.saveManualRowHeights(),_this7.hot.runHooks("afterRowResize",selectedRow,_this7.newSize)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startHeight)1<this.selectedRows.length?((0,_array.arrayEach)(this.selectedRows,function(selectedRow){runHooks(selectedRow)}),render()):(0,_array.arrayEach)(this.selectedRows,function(selectedRow){runHooks(selectedRow,!0)});this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var _this8=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return _this8.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return _this8.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return _this8.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return _this8.onMouseUp(e)})}},{key:"setManualSize",value:function(row,height){return row=this.hot.runHooks("modifyRow",row),this.manualRowHeights[row]=height}},{key:"onModifyRowHeight",value:function(height,row){if(this.enabled){var autoRowSizePlugin=this.hot.getPlugin("autoRowSize"),autoRowHeightResult=autoRowSizePlugin?autoRowSizePlugin.heights[row]:null;row=this.hot.runHooks("modifyRow",row);var manualRowHeight=this.manualRowHeights[row];if(void 0!==manualRowHeight&&(manualRowHeight===autoRowHeightResult||(height||0)<manualRowHeight))return manualRowHeight}return height}}]),ManualRowResize}();(0,_plugins.registerPlugin)("manualRowResize",ManualRowResize),exports.default=ManualRowResize},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_pluginHooks=__webpack_require__(7),_pluginHooks2=(obj=_pluginHooks)&&obj.__esModule?obj:{default:obj},_event=(__webpack_require__(5),__webpack_require__(10)),_src=__webpack_require__(12);function CellInfoCollection(){var collection=[];return collection.getInfo=function(row,col){for(var i=0,ilen=this.length;i<ilen;i++)if(this[i].row<=row&&this[i].row+this[i].rowspan-1>=row&&this[i].col<=col&&this[i].col+this[i].colspan-1>=col)return this[i]},collection.setInfo=function(info){for(var i=0,ilen=this.length;i<ilen;i++)if(this[i].row===info.row&&this[i].col===info.col)return void(this[i]=info);this.push(info)},collection.removeInfo=function(row,col){for(var i=0,ilen=this.length;i<ilen;i++)if(this[i].row===row&&this[i].col===col){this.splice(i,1);break}},collection}function MergeCells(mergeCellsSetting){if(this.mergedCellInfoCollection=new CellInfoCollection,Array.isArray(mergeCellsSetting))for(var i=0,ilen=mergeCellsSetting.length;i<ilen;i++)this.mergedCellInfoCollection.setInfo(mergeCellsSetting[i])}MergeCells.prototype.canMergeRange=function(cellRange){return!cellRange.isSingle()},MergeCells.prototype.mergeRange=function(cellRange){if(this.canMergeRange(cellRange)){var topLeft=cellRange.getTopLeftCorner(),bottomRight=cellRange.getBottomRightCorner(),mergeParent={};mergeParent.row=topLeft.row,mergeParent.col=topLeft.col,mergeParent.rowspan=bottomRight.row-topLeft.row+1,mergeParent.colspan=bottomRight.col-topLeft.col+1,this.mergedCellInfoCollection.setInfo(mergeParent)}},MergeCells.prototype.mergeOrUnmergeSelection=function(cellRange){this.mergedCellInfoCollection.getInfo(cellRange.from.row,cellRange.from.col)?this.unmergeSelection(cellRange.from):this.mergeSelection(cellRange)},MergeCells.prototype.mergeSelection=function(cellRange){this.mergeRange(cellRange)},MergeCells.prototype.unmergeSelection=function(cellRange){var info=this.mergedCellInfoCollection.getInfo(cellRange.row,cellRange.col);this.mergedCellInfoCollection.removeInfo(info.row,info.col)},MergeCells.prototype.applySpanProperties=function(TD,row,col){var info=this.mergedCellInfoCollection.getInfo(row,col);info?info.row===row&&info.col===col?(TD.setAttribute("rowspan",info.rowspan),TD.setAttribute("colspan",info.colspan)):(TD.removeAttribute("rowspan"),TD.removeAttribute("colspan"),TD.style.display="none"):(TD.removeAttribute("rowspan"),TD.removeAttribute("colspan"))},MergeCells.prototype.modifyTransform=function(hook,currentSelectedRange,delta){var merged,coords,sameColspan=function(merged,coords){return coords.col>=merged.col&&coords.col<=merged.col+merged.colspan-1},getNextPosition=function(newDelta){return new _src.CellCoords(currentSelectedRange.to.row+newDelta.row,currentSelectedRange.to.col+newDelta.col)},newDelta={row:delta.row,col:delta.col};if("modifyTransformStart"==hook){var nextPosition;this.lastDesiredCoords||(this.lastDesiredCoords=new _src.CellCoords(null,null));for(var currentPosition=new _src.CellCoords(currentSelectedRange.highlight.row,currentSelectedRange.highlight.col),mergedParent=this.mergedCellInfoCollection.getInfo(currentPosition.row,currentPosition.col),i=0,mergesLength=this.mergedCellInfoCollection.length;i<mergesLength;i++){var range=this.mergedCellInfoCollection[i];if(range=new _src.CellCoords(range.row+range.rowspan-1,range.col+range.colspan-1),currentSelectedRange.includes(range)){!0;break}}if(mergedParent){var mergeTopLeft=new _src.CellCoords(mergedParent.row,mergedParent.col),mergeBottomRight=new _src.CellCoords(mergedParent.row+mergedParent.rowspan-1,mergedParent.col+mergedParent.colspan-1);new _src.CellRange(mergeTopLeft,mergeTopLeft,mergeBottomRight).includes(this.lastDesiredCoords)||(this.lastDesiredCoords=new _src.CellCoords(null,null)),newDelta.row=this.lastDesiredCoords.row?this.lastDesiredCoords.row-currentPosition.row:newDelta.row,newDelta.col=this.lastDesiredCoords.col?this.lastDesiredCoords.col-currentPosition.col:newDelta.col,0<delta.row?newDelta.row=mergedParent.row+mergedParent.rowspan-1-currentPosition.row+delta.row:delta.row<0&&(newDelta.row=currentPosition.row-mergedParent.row+delta.row),0<delta.col?newDelta.col=mergedParent.col+mergedParent.colspan-1-currentPosition.col+delta.col:delta.col<0&&(newDelta.col=currentPosition.col-mergedParent.col+delta.col)}nextPosition=new _src.CellCoords(currentSelectedRange.highlight.row+newDelta.row,currentSelectedRange.highlight.col+newDelta.col);var nextParentIsMerged=this.mergedCellInfoCollection.getInfo(nextPosition.row,nextPosition.col);nextParentIsMerged&&(this.lastDesiredCoords=nextPosition,newDelta={row:nextParentIsMerged.row-currentPosition.row,col:nextParentIsMerged.col-currentPosition.col})}else if("modifyTransformEnd"==hook)for(var _i=0,_mergesLength=this.mergedCellInfoCollection.length;_i<_mergesLength;_i++){var currentMerge=this.mergedCellInfoCollection[_i],_mergeTopLeft=new _src.CellCoords(currentMerge.row,currentMerge.col),_mergeBottomRight=new _src.CellCoords(currentMerge.row+currentMerge.rowspan-1,currentMerge.col+currentMerge.colspan-1),mergedRange=new _src.CellRange(_mergeTopLeft,_mergeTopLeft,_mergeBottomRight),sharedBorders=currentSelectedRange.getBordersSharedWith(mergedRange);if(mergedRange.isEqual(currentSelectedRange))currentSelectedRange.setDirection("NW-SE");else if(0<sharedBorders.length){var mergeHighlighted=currentSelectedRange.highlight.isEqual(mergedRange.from);-1<sharedBorders.indexOf("top")?currentSelectedRange.to.isSouthEastOf(mergedRange.from)&&mergeHighlighted?currentSelectedRange.setDirection("NW-SE"):currentSelectedRange.to.isSouthWestOf(mergedRange.from)&&mergeHighlighted&&currentSelectedRange.setDirection("NE-SW"):-1<sharedBorders.indexOf("bottom")&&(currentSelectedRange.to.isNorthEastOf(mergedRange.from)&&mergeHighlighted?currentSelectedRange.setDirection("SW-NE"):currentSelectedRange.to.isNorthWestOf(mergedRange.from)&&mergeHighlighted&&currentSelectedRange.setDirection("SE-NW"))}nextPosition=getNextPosition(newDelta);var withinRowspan=(merged=currentMerge,(coords=nextPosition).row>=merged.row&&coords.row<=merged.row+merged.rowspan-1),withinColspan=sameColspan(currentMerge,nextPosition);currentSelectedRange.includesRange(mergedRange)&&(mergedRange.includes(nextPosition)||withinRowspan||withinColspan)&&(withinRowspan&&(newDelta.row<0?newDelta.row-=currentMerge.rowspan-1:0<newDelta.row&&(newDelta.row+=currentMerge.rowspan-1)),withinColspan&&(newDelta.col<0?newDelta.col-=currentMerge.colspan-1:0<newDelta.col&&(newDelta.col+=currentMerge.colspan-1)))}0!==newDelta.row&&(delta.row=newDelta.row),0!==newDelta.col&&(delta.col=newDelta.col)},MergeCells.prototype.shiftCollection=function(direction,index,count){var shiftVector=[0,0];switch(direction){case"right":shiftVector[0]+=1;break;case"left":shiftVector[0]-=1;break;case"down":shiftVector[1]+=1;break;case"up":shiftVector[1]-=1}for(var i=0;i<this.mergedCellInfoCollection.length;i++){var currentMerge=this.mergedCellInfoCollection[i];"right"===direction||"left"===direction?index<=currentMerge.col&&(currentMerge.col+=shiftVector[0]):index<=currentMerge.row&&(currentMerge.row+=shiftVector[1])}};var modifyTransformFactory=function(hook){return function(delta){if(this.getSettings().mergeCells){var currentSelectedRange=this.getSelectedRange();if(this.mergeCells.modifyTransform(hook,currentSelectedRange,delta),"modifyTransformEnd"===hook){var totalRows=this.countRows(),totalCols=this.countCols();currentSelectedRange.from.row<0?currentSelectedRange.from.row=0:0<currentSelectedRange.from.row&&currentSelectedRange.from.row>=totalRows&&(currentSelectedRange.from.row=currentSelectedRange.from-1),currentSelectedRange.from.col<0?currentSelectedRange.from.col=0:0<currentSelectedRange.from.col&&currentSelectedRange.from.col>=totalCols&&(currentSelectedRange.from.col=totalCols-1)}}}};var hook=_pluginHooks2.default.getSingleton();hook.add("beforeInit",function(){var mergeCellsSetting=this.getSettings().mergeCells;mergeCellsSetting&&(this.mergeCells||(this.mergeCells=new MergeCells(mergeCellsSetting)))}),hook.add("afterInit",function(){var instance=this;instance.mergeCells&&(instance.view.wt.wtTable.getCell=function(coords){if(instance.getSettings().mergeCells){var mergeParent=instance.mergeCells.mergedCellInfoCollection.getInfo(coords.row,coords.col);mergeParent&&(coords=mergeParent)}return _src.Table.prototype.getCell.call(this,coords)})}),hook.add("afterUpdateSettings",function(){var mergeCellsSetting=this.getSettings().mergeCells;if(mergeCellsSetting)if(this.mergeCells){if(this.mergeCells.mergedCellInfoCollection=new CellInfoCollection,Array.isArray(mergeCellsSetting))for(var i=0,ilen=mergeCellsSetting.length;i<ilen;i++)this.mergeCells.mergedCellInfoCollection.setInfo(mergeCellsSetting[i])}else this.mergeCells=new MergeCells(mergeCellsSetting);else this.mergeCells&&(this.mergeCells.mergedCellInfoCollection=new CellInfoCollection)}),hook.add("beforeKeyDown",function(event){this.mergeCells&&(!event.ctrlKey&&!event.metaKey||event.altKey||77!==event.keyCode||(this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render(),(0,_event.stopImmediatePropagation)(event)))}),hook.add("modifyTransformStart",modifyTransformFactory("modifyTransformStart")),hook.add("modifyTransformEnd",modifyTransformFactory("modifyTransformEnd")),hook.add("beforeSetRangeEnd",function(coords){if(this.lastDesiredCoords=null,this.getSettings().mergeCells){var selRange=this.getSelectedRange();selRange.highlight=new _src.CellCoords(selRange.highlight.row,selRange.highlight.col),selRange.to=coords;var rangeExpanded=!1;do{rangeExpanded=!1;for(var i=0,ilen=this.mergeCells.mergedCellInfoCollection.length;i<ilen;i++){var cellInfo=this.mergeCells.mergedCellInfoCollection[i],mergedCellTopLeft=new _src.CellCoords(cellInfo.row,cellInfo.col),mergedCellBottomRight=new _src.CellCoords(cellInfo.row+cellInfo.rowspan-1,cellInfo.col+cellInfo.colspan-1),mergedCellRange=new _src.CellRange(mergedCellTopLeft,mergedCellTopLeft,mergedCellBottomRight);selRange.expandByRange(mergedCellRange)&&(coords.row=selRange.to.row,coords.col=selRange.to.col,rangeExpanded=!0)}}while(rangeExpanded)}}),hook.add("beforeDrawBorders",function(corners,className){if(className&&"area"==className&&this.getSettings().mergeCells)for(var selRange=this.getSelectedRange(),startRange=new _src.CellRange(selRange.from,selRange.from,selRange.from),stopRange=new _src.CellRange(selRange.to,selRange.to,selRange.to),i=0,ilen=this.mergeCells.mergedCellInfoCollection.length;i<ilen;i++){var cellInfo=this.mergeCells.mergedCellInfoCollection[i],mergedCellTopLeft=new _src.CellCoords(cellInfo.row,cellInfo.col),mergedCellBottomRight=new _src.CellCoords(cellInfo.row+cellInfo.rowspan-1,cellInfo.col+cellInfo.colspan-1),mergedCellRange=new _src.CellRange(mergedCellTopLeft,mergedCellTopLeft,mergedCellBottomRight);startRange.expandByRange(mergedCellRange)&&(corners[0]=startRange.from.row,corners[1]=startRange.from.col),stopRange.expandByRange(mergedCellRange)&&(corners[2]=stopRange.from.row,corners[3]=stopRange.from.col)}}),hook.add("afterIsMultipleSelection",function(isMultiple){if(isMultiple&&this.mergeCells){var mergedCells=this.mergeCells.mergedCellInfoCollection,selectionRange=this.getSelectedRange();for(var group in mergedCells)if(selectionRange.highlight.row==mergedCells[group].row&&selectionRange.highlight.col==mergedCells[group].col&&selectionRange.to.row==mergedCells[group].row+mergedCells[group].rowspan-1&&selectionRange.to.col==mergedCells[group].col+mergedCells[group].colspan-1)return!1}return isMultiple}),hook.add("afterRenderer",function(TD,row,col,prop,value,cellProperties){this.mergeCells&&this.mergeCells.applySpanProperties(TD,row,col)}),hook.add("afterContextMenuDefaultOptions",function(defaultOptions){this.getSettings().mergeCells&&(defaultOptions.items.push({name:"---------"}),defaultOptions.items.push({key:"mergeCells",name:function(){var sel=this.getSelected();return this.mergeCells.mergedCellInfoCollection.getInfo(sel[0],sel[1])?"Unmerge cells":"Merge cells"},callback:function(){this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render()},disabled:function(){return this.selection.selectedHeader.corner}}))}),hook.add("afterGetCellMeta",function(row,col,cellProperties){if(this.getSettings().mergeCells){var mergeParent=this.mergeCells.mergedCellInfoCollection.getInfo(row,col);!mergeParent||mergeParent.row==row&&mergeParent.col==col||(cellProperties.copyable=!1)}}),hook.add("afterViewportRowCalculatorOverride",function afterViewportRowCalculatorOverride(calc){if(this.getSettings().mergeCells)for(var mergeParent,colCount=this.countCols(),c=0;c<colCount;c++){if((mergeParent=this.mergeCells.mergedCellInfoCollection.getInfo(calc.startRow,c))&&mergeParent.row<calc.startRow)return calc.startRow=mergeParent.row,afterViewportRowCalculatorOverride.call(this,calc);if(mergeParent=this.mergeCells.mergedCellInfoCollection.getInfo(calc.endRow,c)){var mergeEnd=mergeParent.row+mergeParent.rowspan-1;if(mergeEnd>calc.endRow)return calc.endRow=mergeEnd,afterViewportRowCalculatorOverride.call(this,calc)}}}),hook.add("afterViewportColumnCalculatorOverride",function afterViewportColumnCalculatorOverride(calc){if(this.getSettings().mergeCells)for(var mergeParent,rowCount=this.countRows(),r=0;r<rowCount;r++){if((mergeParent=this.mergeCells.mergedCellInfoCollection.getInfo(r,calc.startColumn))&&mergeParent.col<calc.startColumn)return calc.startColumn=mergeParent.col,afterViewportColumnCalculatorOverride.call(this,calc);if(mergeParent=this.mergeCells.mergedCellInfoCollection.getInfo(r,calc.endColumn)){var mergeEnd=mergeParent.col+mergeParent.colspan-1;if(mergeEnd>calc.endColumn)return calc.endColumn=mergeEnd,afterViewportColumnCalculatorOverride.call(this,calc)}}}),hook.add("modifyAutofillRange",function(select,drag){if(this.getSettings().mergeCells&&!this.selection.isMultiple()){var info=this.mergeCells.mergedCellInfoCollection.getInfo(select[0],select[1]);info&&(select[0]=info.row,select[1]=info.col,select[2]=info.row+info.rowspan-1,select[3]=info.col+info.colspan-1)}}),hook.add("afterCreateCol",function(col,count){this.mergeCells&&this.mergeCells.shiftCollection("right",col,count)}),hook.add("afterRemoveCol",function(col,count){this.mergeCells&&this.mergeCells.shiftCollection("left",col,count)}),hook.add("afterCreateRow",function(row,count){this.mergeCells&&this.mergeCells.shiftCollection("down",row,count)}),hook.add("afterRemoveRow",function(row,count){this.mergeCells&&this.mergeCells.shiftCollection("up",row,count)}),exports.default=MergeCells},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}_interopRequireDefault(__webpack_require__(7));var _element=__webpack_require__(0),_browser=__webpack_require__(26),_base2=_interopRequireDefault(__webpack_require__(13)),_eventManager2=_interopRequireDefault(__webpack_require__(4)),_plugins=__webpack_require__(5),_src=__webpack_require__(12);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MultipleSelectionHandles=function(_BasePlugin){function MultipleSelectionHandles(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MultipleSelectionHandles);var _this2=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(MultipleSelectionHandles.__proto__||Object.getPrototypeOf(MultipleSelectionHandles)).call(this,hotInstance));return _this2.dragged=[],_this2.eventManager=null,_this2.lastSetCell=null,_this2}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(MultipleSelectionHandles,_base2.default),_createClass(MultipleSelectionHandles,[{key:"isEnabled",value:function(){return(0,_browser.isMobileBrowser)()}},{key:"enablePlugin",value:function(){this.enabled||(this.eventManager||(this.eventManager=new _eventManager2.default(this)),this.registerListeners(),function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}(MultipleSelectionHandles.prototype.__proto__||Object.getPrototypeOf(MultipleSelectionHandles.prototype),"enablePlugin",this).call(this))}},{key:"registerListeners",value:function(){var _this=this;function removeFromDragged(query){if(1===_this.dragged.length)return _this.dragged.splice(0,_this.dragged.length),!0;var entryPosition=_this.dragged.indexOf(query);if(-1==entryPosition)return!1;0===entryPosition?_this.dragged=_this.dragged.slice(0,1):1==entryPosition&&(_this.dragged=_this.dragged.slice(-1))}this.eventManager.addEventListener(this.hot.rootElement,"touchstart",function(event){var selectedRange=void 0;return(0,_element.hasClass)(event.target,"topLeftSelectionHandle-HitArea")?(selectedRange=_this.hot.getSelectedRange(),_this.dragged.push("topLeft"),_this.touchStartRange={width:selectedRange.getWidth(),height:selectedRange.getHeight(),direction:selectedRange.getDirection()},event.preventDefault(),!1):(0,_element.hasClass)(event.target,"bottomRightSelectionHandle-HitArea")?(selectedRange=_this.hot.getSelectedRange(),_this.dragged.push("bottomRight"),_this.touchStartRange={width:selectedRange.getWidth(),height:selectedRange.getHeight(),direction:selectedRange.getDirection()},event.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchend",function(event){return(0,_element.hasClass)(event.target,"topLeftSelectionHandle-HitArea")?(removeFromDragged.call(_this,"topLeft"),_this.touchStartRange=void 0,event.preventDefault(),!1):(0,_element.hasClass)(event.target,"bottomRightSelectionHandle-HitArea")?(removeFromDragged.call(_this,"bottomRight"),_this.touchStartRange=void 0,event.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchmove",function(event){var endTarget,scrollTop=(0,_element.getWindowScrollTop)(),scrollLeft=(0,_element.getWindowScrollLeft)(),targetCoords=void 0,selectedRange=void 0,rangeWidth=void 0,rangeHeight=void 0,rangeDirection=void 0,newRangeCoords=void 0;0!==_this.dragged.length&&(endTarget=document.elementFromPoint(event.touches[0].screenX-scrollLeft,event.touches[0].screenY-scrollTop))&&endTarget!==_this.lastSetCell&&("TD"!=endTarget.nodeName&&"TH"!=endTarget.nodeName||(-1==(targetCoords=_this.hot.getCoords(endTarget)).col&&(targetCoords.col=0),rangeWidth=(selectedRange=_this.hot.getSelectedRange()).getWidth(),rangeHeight=selectedRange.getHeight(),rangeDirection=selectedRange.getDirection(),1==rangeWidth&&1==rangeHeight&&_this.hot.selection.setRangeEnd(targetCoords),null!==(newRangeCoords=_this.getCurrentRangeCoords(selectedRange,targetCoords,_this.touchStartRange.direction,rangeDirection,_this.dragged[0])).start&&_this.hot.selection.setRangeStart(newRangeCoords.start),_this.hot.selection.setRangeEnd(newRangeCoords.end),_this.lastSetCell=endTarget),event.preventDefault())})}},{key:"getCurrentRangeCoords",value:function(selectedRange,currentTouch,touchStartDirection,currentDirection,draggedHandle){var topLeftCorner=selectedRange.getTopLeftCorner(),bottomRightCorner=selectedRange.getBottomRightCorner(),bottomLeftCorner=selectedRange.getBottomLeftCorner(),topRightCorner=selectedRange.getTopRightCorner(),newCoords={start:null,end:null};switch(touchStartDirection){case"NE-SW":switch(currentDirection){case"NE-SW":case"NW-SE":newCoords="topLeft"==draggedHandle?{start:new _src.CellCoords(currentTouch.row,selectedRange.highlight.col),end:new _src.CellCoords(bottomLeftCorner.row,currentTouch.col)}:{start:new _src.CellCoords(selectedRange.highlight.row,currentTouch.col),end:new _src.CellCoords(currentTouch.row,topLeftCorner.col)};break;case"SE-NW":"bottomRight"==draggedHandle&&(newCoords={start:new _src.CellCoords(bottomRightCorner.row,currentTouch.col),end:new _src.CellCoords(currentTouch.row,topLeftCorner.col)})}break;case"NW-SE":switch(currentDirection){case"NE-SW":"topLeft"==draggedHandle?newCoords={start:currentTouch,end:bottomLeftCorner}:newCoords.end=currentTouch;break;case"NW-SE":"topLeft"==draggedHandle?newCoords={start:currentTouch,end:bottomRightCorner}:newCoords.end=currentTouch;break;case"SE-NW":"topLeft"==draggedHandle?newCoords={start:currentTouch,end:topLeftCorner}:newCoords.end=currentTouch;break;case"SW-NE":"topLeft"==draggedHandle?newCoords={start:currentTouch,end:topRightCorner}:newCoords.end=currentTouch}break;case"SW-NE":switch(currentDirection){case"NW-SE":newCoords="bottomRight"==draggedHandle?{start:new _src.CellCoords(currentTouch.row,topLeftCorner.col),end:new _src.CellCoords(bottomLeftCorner.row,currentTouch.col)}:{start:new _src.CellCoords(topLeftCorner.row,currentTouch.col),end:new _src.CellCoords(currentTouch.row,bottomRightCorner.col)};break;case"SW-NE":newCoords="topLeft"==draggedHandle?{start:new _src.CellCoords(selectedRange.highlight.row,currentTouch.col),end:new _src.CellCoords(currentTouch.row,bottomRightCorner.col)}:{start:new _src.CellCoords(currentTouch.row,topLeftCorner.col),end:new _src.CellCoords(topLeftCorner.row,currentTouch.col)};break;case"SE-NW":"bottomRight"==draggedHandle?newCoords={start:new _src.CellCoords(currentTouch.row,topRightCorner.col),end:new _src.CellCoords(topLeftCorner.row,currentTouch.col)}:"topLeft"==draggedHandle&&(newCoords={start:bottomLeftCorner,end:currentTouch})}break;case"SE-NW":switch(currentDirection){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==draggedHandle&&(newCoords.end=currentTouch);break;case"SE-NW":"topLeft"==draggedHandle?newCoords.end=currentTouch:newCoords={start:currentTouch,end:topLeftCorner}}}return newCoords}},{key:"isDragged",value:function(){return 0<this.dragged.length}}]),MultipleSelectionHandles}();(0,_plugins.registerPlugin)("multipleSelectionHandles",MultipleSelectionHandles),exports.default=MultipleSelectionHandles},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var _base2=_interopRequireDefault(__webpack_require__(13)),_dataObserver2=(_interopRequireDefault(__webpack_require__(179)),_interopRequireDefault(__webpack_require__(304))),_array=__webpack_require__(2),_plugins=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ObserveChanges=function(_BasePlugin){function ObserveChanges(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ObserveChanges);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ObserveChanges.__proto__||Object.getPrototypeOf(ObserveChanges)).call(this,hotInstance));return _this.observer=null,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ObserveChanges,_base2.default),_createClass(ObserveChanges,[{key:"isEnabled",value:function(){return this.hot.getSettings().observeChanges}},{key:"enablePlugin",value:function(){var _this2=this;this.enabled||(this.observer||(this.observer=new _dataObserver2.default(this.hot.getSourceData()),this._exposePublicApi()),this.observer.addLocalHook("change",function(patches){return _this2.onDataChange(patches)}),this.addHook("afterCreateRow",function(){return _this2.onAfterTableAlter()}),this.addHook("afterRemoveRow",function(){return _this2.onAfterTableAlter()}),this.addHook("afterCreateCol",function(){return _this2.onAfterTableAlter()}),this.addHook("afterRemoveCol",function(){return _this2.onAfterTableAlter()}),this.addHook("afterChange",function(changes,source){return _this2.onAfterTableAlter(source)}),this.addHook("afterLoadData",function(firstRun){return _this2.onAfterLoadData(firstRun)}),_get(ObserveChanges.prototype.__proto__||Object.getPrototypeOf(ObserveChanges.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.observer&&(this.observer.destroy(),this.observer=null,this._deletePublicApi()),_get(ObserveChanges.prototype.__proto__||Object.getPrototypeOf(ObserveChanges.prototype),"disablePlugin",this).call(this)}},{key:"onDataChange",value:function(patches){var _this3=this;if(!this.observer.isPaused()){var sourceName=this.pluginName+".change",actions={add:function(patch){isNaN(patch.col)?_this3.hot.runHooks("afterCreateRow",patch.row,1,sourceName):_this3.hot.runHooks("afterCreateCol",patch.col,1,sourceName)},remove:function(patch){isNaN(patch.col)?_this3.hot.runHooks("afterRemoveRow",patch.row,1,sourceName):_this3.hot.runHooks("afterRemoveCol",patch.col,1,sourceName)},replace:function(patch){_this3.hot.runHooks("afterChange",[patch.row,patch.col,null,patch.value],sourceName)}};(0,_array.arrayEach)(patches,function(patch){actions[patch.op]&&actions[patch.op](patch)}),this.hot.render()}this.hot.runHooks("afterChangesObserved")}},{key:"onAfterTableAlter",value:function(source){var _this4=this;"loadData"!==source&&(this.observer.pause(),this.hot.addHookOnce("afterChangesObserved",function(){return _this4.observer.resume()}))}},{key:"onAfterLoadData",value:function(firstRun){firstRun||this.observer.setObservedData(this.hot.getSourceData())}},{key:"destroy",value:function(){this.observer&&(this.observer.destroy(),this._deletePublicApi()),_get(ObserveChanges.prototype.__proto__||Object.getPrototypeOf(ObserveChanges.prototype),"destroy",this).call(this)}},{key:"_exposePublicApi",value:function(){var _this5=this,hot=this.hot;hot.pauseObservingChanges=function(){return _this5.observer.pause()},hot.resumeObservingChanges=function(){return _this5.observer.resume()},hot.isPausedObservingChanges=function(){return _this5.observer.isPaused()}}},{key:"_deletePublicApi",value:function(){var hot=this.hot;delete hot.pauseObservingChanges,delete hot.resumeObservingChanges,delete hot.isPausedObservingChanges}}]),ObserveChanges}();exports.default=ObserveChanges,(0,_plugins.registerPlugin)("observeChanges",ObserveChanges)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _jsonPatchDuplex2=_interopRequireDefault(__webpack_require__(179)),_localHooks2=_interopRequireDefault(__webpack_require__(87)),_object=__webpack_require__(1),_utils=__webpack_require__(305);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DataObserver=function(){function DataObserver(observedData){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DataObserver),this.observedData=null,this.observer=null,this.paused=!1,this.setObservedData(observedData)}return _createClass(DataObserver,[{key:"setObservedData",value:function(observedData){var _this=this;this.observer&&_jsonPatchDuplex2.default.unobserve(this.observedData,this.observer),this.observedData=observedData,this.observer=_jsonPatchDuplex2.default.observe(this.observedData,function(patches){return _this.onChange(patches)})}},{key:"isPaused",value:function(){return this.paused}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"onChange",value:function(patches){this.runLocalHooks("change",(0,_utils.cleanPatches)(patches))}},{key:"destroy",value:function(){_jsonPatchDuplex2.default.unobserve(this.observedData,this.observer),this.observedData=null,this.observer=null}}]),DataObserver}();(0,_object.mixin)(DataObserver,_localHooks2.default),exports.default=DataObserver},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")};exports.cleanPatches=function(patches){var newOrRemovedColumns=[];return patches=(0,_array.arrayFilter)(patches,function(patch){return!/[/]length/gi.test(patch.path)&&!!parsePath(patch.path)}),patches=(0,_array.arrayMap)(patches,function(patch){var coords=parsePath(patch.path);return patch.row=coords.row,patch.col=coords.col,patch}),patches=(0,_array.arrayFilter)(patches,function(patch){if(-1!==["add","remove"].indexOf(patch.op)&&!isNaN(patch.col)){if(-1!==newOrRemovedColumns.indexOf(patch.col))return!1;newOrRemovedColumns.push(patch.col)}return!0}),newOrRemovedColumns.length=0,patches},exports.parsePath=parsePath;var _array=__webpack_require__(2);function parsePath(path){var match=path.match(/^\/(\d+)\/?(.*)?$/);if(!match)return null;var _match=_slicedToArray(match,3),row=_match[1],column=_match[2];return{row:parseInt(row,10),col:/^\d*$/.test(column)?parseInt(column,10):column}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_pluginHooks=__webpack_require__(7),_pluginHooks2=(obj=_pluginHooks)&&obj.__esModule?obj:{default:obj},_object=(__webpack_require__(5),__webpack_require__(1));function Storage(prefix){var savedKeys,keysJSON,keys,saveSavedKeys=function(){window.localStorage[prefix+"__persistentStateKeys"]=JSON.stringify(savedKeys)};keysJSON=window.localStorage[prefix+"__persistentStateKeys"],keys="string"==typeof keysJSON?JSON.parse(keysJSON):void 0,savedKeys=keys||[],this.saveValue=function(key,value){window.localStorage[prefix+"_"+key]=JSON.stringify(value),-1==savedKeys.indexOf(key)&&(savedKeys.push(key),saveSavedKeys())},this.loadValue=function(key,defaultValue){key=void 0===key?defaultValue:key;var value=window.localStorage[prefix+"_"+key];return void 0===value?void 0:JSON.parse(value)},this.reset=function(key){window.localStorage.removeItem(prefix+"_"+key)},this.resetAll=function(){for(var index=0;index<savedKeys.length;index++)window.localStorage.removeItem(prefix+"_"+savedKeys[index]);savedKeys=[],saveSavedKeys()}}function HandsontablePersistentState(){var plugin=this;this.init=function(){var pluginSettings=this.getSettings().persistentState;plugin.enabled=!!pluginSettings,plugin.enabled?(this.storage||(this.storage=new Storage(this.rootElement.id)),this.resetState=plugin.resetValue,function(){for(var hookName in hooks)(0,_object.hasOwnProperty)(hooks,hookName)&&this.addHook(hookName,hooks[hookName])}.call(this)):function(){for(var hookName in hooks)(0,_object.hasOwnProperty)(hooks,hookName)&&this.removeHook(hookName,hooks[hookName])}.call(this)},this.saveValue=function(key,value){this.storage.saveValue(key,value)},this.loadValue=function(key,saveTo){saveTo.value=this.storage.loadValue(key)},this.resetValue=function(key){void 0===key?this.storage.resetAll():this.storage.reset(key)};var hooks={persistentStateSave:plugin.saveValue,persistentStateLoad:plugin.loadValue,persistentStateReset:plugin.resetValue};for(var hookName in hooks)(0,_object.hasOwnProperty)(hooks,hookName)&&_pluginHooks2.default.getSingleton().register(hookName)}var htPersistentState=new HandsontablePersistentState;_pluginHooks2.default.getSingleton().add("beforeInit",htPersistentState.init),_pluginHooks2.default.getSingleton().add("afterUpdateSettings",htPersistentState.init),exports.default=HandsontablePersistentState},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,defaultCallback,defaultQueryMethod,defaultSearchResultClass,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_pluginHooks=__webpack_require__(7),_pluginHooks2=(obj=_pluginHooks)&&obj.__esModule?obj:{default:obj},_element=__webpack_require__(0),_renderers=__webpack_require__(8);function Search(instance){this.query=function(queryStr,callback,queryMethod){var rowCount=instance.countRows(),colCount=instance.countCols(),queryResult=[];callback||(callback=Search.global.getDefaultCallback()),queryMethod||(queryMethod=Search.global.getDefaultQueryMethod());for(var rowIndex=0;rowIndex<rowCount;rowIndex++)for(var colIndex=0;colIndex<colCount;colIndex++){var cellData=instance.getDataAtCell(rowIndex,colIndex),cellProperties=instance.getCellMeta(rowIndex,colIndex),cellCallback=cellProperties.search.callback||callback,testResult=(cellProperties.search.queryMethod||queryMethod)(queryStr,cellData);if(testResult){var singleResult={row:rowIndex,col:colIndex,data:cellData};queryResult.push(singleResult)}cellCallback&&cellCallback(instance,rowIndex,colIndex,cellData,testResult)}return queryResult}}Search.global=(defaultCallback=Search.DEFAULT_CALLBACK=function(instance,row,col,data,testResult){instance.getCellMeta(row,col).isSearchResult=testResult},defaultQueryMethod=Search.DEFAULT_QUERY_METHOD=function(query,value){return!(void 0===query||null==query||!query.toLowerCase||0===query.length)&&(void 0!==value&&null!=value&&-1!=value.toString().toLowerCase().indexOf(query.toLowerCase()))},defaultSearchResultClass=Search.DEFAULT_SEARCH_RESULT_CLASS="htSearchResult",{getDefaultCallback:function(){return defaultCallback},setDefaultCallback:function(newDefaultCallback){defaultCallback=newDefaultCallback},getDefaultQueryMethod:function(){return defaultQueryMethod},setDefaultQueryMethod:function(newDefaultQueryMethod){defaultQueryMethod=newDefaultQueryMethod},getDefaultSearchResultClass:function(){return defaultSearchResultClass},setDefaultSearchResultClass:function(newSearchResultClass){defaultSearchResultClass=newSearchResultClass}});var originalBaseRenderer=(0,_renderers.getRenderer)("base");function init(){!!this.getSettings().search?this.search=new Search(this):delete this.search}(0,_renderers.registerRenderer)("base",function(instance,TD,row,col,prop,value,cellProperties){originalBaseRenderer.apply(this,arguments),function(instance,TD,row,col,prop,value,cellProperties){var searchResultClass=null!==cellProperties.search&&"object"==_typeof(cellProperties.search)&&cellProperties.search.searchResultClass||Search.global.getDefaultSearchResultClass();cellProperties.isSearchResult?(0,_element.addClass)(TD,searchResultClass):(0,_element.removeClass)(TD,searchResultClass)}.apply(this,arguments)}),_pluginHooks2.default.getSingleton().add("afterInit",init),_pluginHooks2.default.getSingleton().add("afterUpdateSettings",init),exports.default=Search},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:_get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}var obj,_element=__webpack_require__(0),_array=__webpack_require__(2),_base=__webpack_require__(13),_base2=(obj=_base)&&obj.__esModule?obj:{default:obj},_plugins=__webpack_require__(5),_feature=__webpack_require__(34);var TouchScroll=function(_BasePlugin){function TouchScroll(hotInstance){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TouchScroll);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(TouchScroll.__proto__||Object.getPrototypeOf(TouchScroll)).call(this,hotInstance));return _this.scrollbars=[],_this.clones=[],_this.lockedCollection=!1,_this.freezeOverlays=!1,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(TouchScroll,_base2.default),_createClass(TouchScroll,[{key:"isEnabled",value:function(){return(0,_feature.isTouchSupported)()}},{key:"enablePlugin",value:function(){var _this2=this;this.enabled||(this.addHook("afterRender",function(){return _this2.onAfterRender()}),this.registerEvents(),_get(TouchScroll.prototype.__proto__||Object.getPrototypeOf(TouchScroll.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,_get(TouchScroll.prototype.__proto__||Object.getPrototypeOf(TouchScroll.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){_get(TouchScroll.prototype.__proto__||Object.getPrototypeOf(TouchScroll.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var _this3=this;this.addHook("beforeTouchScroll",function(){return _this3.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return _this3.onAfterMomentumScroll()})}},{key:"onAfterRender",value:function(){if(!this.lockedCollection){var _hot$view$wt$wtOverla=this.hot.view.wt.wtOverlays,topOverlay=_hot$view$wt$wtOverla.topOverlay,bottomOverlay=_hot$view$wt$wtOverla.bottomOverlay,leftOverlay=_hot$view$wt$wtOverla.leftOverlay,topLeftCornerOverlay=_hot$view$wt$wtOverla.topLeftCornerOverlay,bottomLeftCornerOverlay=_hot$view$wt$wtOverla.bottomLeftCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(topOverlay),bottomOverlay.clone&&this.scrollbars.push(bottomOverlay),this.scrollbars.push(leftOverlay),topLeftCornerOverlay&&this.scrollbars.push(topLeftCornerOverlay),bottomLeftCornerOverlay&&bottomLeftCornerOverlay.clone&&this.scrollbars.push(bottomLeftCornerOverlay),this.clones.length=0,topOverlay.needFullRender&&this.clones.push(topOverlay.clone.wtTable.holder.parentNode),bottomOverlay.needFullRender&&this.clones.push(bottomOverlay.clone.wtTable.holder.parentNode),leftOverlay.needFullRender&&this.clones.push(leftOverlay.clone.wtTable.holder.parentNode),topLeftCornerOverlay&&this.clones.push(topLeftCornerOverlay.clone.wtTable.holder.parentNode),bottomLeftCornerOverlay&&bottomLeftCornerOverlay.clone&&this.clones.push(bottomLeftCornerOverlay.clone.wtTable.holder.parentNode)}}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,(0,_array.arrayEach)(this.clones,function(clone){(0,_element.addClass)(clone,"hide-tween")})}},{key:"onAfterMomentumScroll",value:function(){var _this4=this;this.freezeOverlays=!1,(0,_array.arrayEach)(this.clones,function(clone){(0,_element.removeClass)(clone,"hide-tween"),(0,_element.addClass)(clone,"show-tween")}),setTimeout(function(){(0,_array.arrayEach)(_this4.clones,function(clone){(0,_element.removeClass)(clone,"show-tween")})},400),(0,_array.arrayEach)(this.scrollbars,function(scrollbar){scrollbar.refresh(),scrollbar.resetFixedPosition()}),this.hot.view.wt.wtOverlays.syncScrollWithMaster()}}]),TouchScroll}();(0,_plugins.registerPlugin)("touchScroll",TouchScroll),exports.default=TouchScroll},function(module,exports,__webpack_require__){"use strict";var obj,_pluginHooks=__webpack_require__(7),_pluginHooks2=(obj=_pluginHooks)&&obj.__esModule?obj:{default:obj},_array=__webpack_require__(2),_number=__webpack_require__(6),_object=__webpack_require__(1),_event=__webpack_require__(10),_src=__webpack_require__(12);function UndoRedo(instance){var plugin=this;this.instance=instance,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,instance.addHook("afterChange",function(changes,source){changes&&"UndoRedo.undo"!==source&&"UndoRedo.redo"!==source&&plugin.done(new UndoRedo.ChangeAction(changes))}),instance.addHook("afterCreateRow",function(index,amount,source){if("UndoRedo.undo"!==source&&"UndoRedo.undo"!==source&&"auto"!==source){var action=new UndoRedo.CreateRowAction(index,amount);plugin.done(action)}}),instance.addHook("beforeRemoveRow",function(index,amount,logicRows,source){if("UndoRedo.undo"!==source&&"UndoRedo.redo"!==source&&"auto"!==source){var originalData=plugin.instance.getSourceDataArray();index=(originalData.length+index)%originalData.length;var removedData=(0,_object.deepClone)(originalData.slice(index,index+amount));plugin.done(new UndoRedo.RemoveRowAction(index,removedData))}}),instance.addHook("afterCreateCol",function(index,amount,source){"UndoRedo.undo"!==source&&"UndoRedo.redo"!==source&&"auto"!==source&&plugin.done(new UndoRedo.CreateColumnAction(index,amount))}),instance.addHook("beforeRemoveCol",function(index,amount,logicColumns,source){if("UndoRedo.undo"!==source&&"UndoRedo.redo"!==source&&"auto"!==source){var originalData=plugin.instance.getSourceDataArray();index=(plugin.instance.countCols()+index)%plugin.instance.countCols();var removedData=[],headers=[],indexes=[];(0,_number.rangeEach)(originalData.length-1,function(i){var column=[],origRow=originalData[i];(0,_number.rangeEach)(index,index+(amount-1),function(j){column.push(origRow[instance.runHooks("modifyCol",j)])}),removedData.push(column)}),(0,_number.rangeEach)(amount-1,function(i){indexes.push(instance.runHooks("modifyCol",index+i))}),Array.isArray(instance.getSettings().colHeaders)&&(0,_number.rangeEach)(amount-1,function(i){headers.push(instance.getSettings().colHeaders[instance.runHooks("modifyCol",index+i)]||null)});var manualColumnMovePlugin=plugin.instance.getPlugin("manualColumnMove"),columnsMap=manualColumnMovePlugin.isEnabled()?manualColumnMovePlugin.columnsMapper.__arrayMap:[],action=new UndoRedo.RemoveColumnAction(index,indexes,removedData,headers,columnsMap);plugin.done(action)}}),instance.addHook("beforeCellAlignment",function(stateBefore,range,type,alignment){var action=new UndoRedo.CellAlignmentAction(stateBefore,range,type,alignment);plugin.done(action)}),instance.addHook("beforeFilter",function(conditionsStack){plugin.done(new UndoRedo.FiltersAction(conditionsStack))}),instance.addHook("beforeRowMove",function(movedRows,target){!1!==movedRows&&plugin.done(new UndoRedo.RowMoveAction(movedRows,target))})}function init(){void 0===this.getSettings().undo||this.getSettings().undo?this.undoRedo||(this.undoRedo=new UndoRedo(this),function(instance){instance.undo=function(){return instance.undoRedo.undo()},instance.redo=function(){return instance.undoRedo.redo()},instance.isUndoAvailable=function(){return instance.undoRedo.isUndoAvailable()},instance.isRedoAvailable=function(){return instance.undoRedo.isRedoAvailable()},instance.clearUndo=function(){return instance.undoRedo.clear()}}(this),this.addHook("beforeKeyDown",onBeforeKeyDown),this.addHook("afterChange",onAfterChange)):this.undoRedo&&(delete this.undoRedo,function(instance){delete instance.undo,delete instance.redo,delete instance.isUndoAvailable,delete instance.isRedoAvailable,delete instance.clearUndo}(this),this.removeHook("beforeKeyDown",onBeforeKeyDown),this.removeHook("afterChange",onAfterChange))}function onBeforeKeyDown(event){!event.ctrlKey&&!event.metaKey||event.altKey||(89===event.keyCode||event.shiftKey&&90===event.keyCode?(this.undoRedo.redo(),(0,_event.stopImmediatePropagation)(event)):90===event.keyCode&&(this.undoRedo.undo(),(0,_event.stopImmediatePropagation)(event)))}function onAfterChange(changes,source){if("loadData"===source)return this.undoRedo.clear()}UndoRedo.prototype.done=function(action){this.ignoreNewActions||(this.doneActions.push(action),this.undoneActions.length=0)},UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var action=this.doneActions.pop(),actionClone=(0,_object.deepClone)(action),instance=this.instance;if(!1===instance.runHooks("beforeUndo",actionClone))return;this.ignoreNewActions=!0;var that=this;action.undo(this.instance,function(){that.ignoreNewActions=!1,that.undoneActions.push(action)}),instance.runHooks("afterUndo",actionClone)}},UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var action=this.undoneActions.pop(),actionClone=(0,_object.deepClone)(action),instance=this.instance;if(!1===instance.runHooks("beforeRedo",actionClone))return;this.ignoreNewActions=!0;var that=this;action.redo(this.instance,function(){that.ignoreNewActions=!1,that.doneActions.push(action)}),instance.runHooks("afterRedo",actionClone)}},UndoRedo.prototype.isUndoAvailable=function(){return 0<this.doneActions.length},UndoRedo.prototype.isRedoAvailable=function(){return 0<this.undoneActions.length},UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},(UndoRedo.Action=function(){}).prototype.undo=function(){},UndoRedo.Action.prototype.redo=function(){},UndoRedo.ChangeAction=function(changes){this.changes=changes,this.actionType="change"},(0,_object.inherit)(UndoRedo.ChangeAction,UndoRedo.Action),UndoRedo.ChangeAction.prototype.undo=function(instance,undoneCallback){for(var data=(0,_object.deepClone)(this.changes),emptyRowsAtTheEnd=instance.countEmptyRows(!0),emptyColsAtTheEnd=instance.countEmptyCols(!0),i=0,len=data.length;i<len;i++)data[i].splice(3,1);instance.addHookOnce("afterChange",undoneCallback),instance.setDataAtRowProp(data,null,null,"UndoRedo.undo");for(var _i=0,_len=data.length;_i<_len;_i++)instance.getSettings().minSpareRows&&data[_i][0]+1+instance.getSettings().minSpareRows===instance.countRows()&&emptyRowsAtTheEnd==instance.getSettings().minSpareRows&&(instance.alter("remove_row",parseInt(data[_i][0]+1,10),instance.getSettings().minSpareRows),instance.undoRedo.doneActions.pop()),instance.getSettings().minSpareCols&&data[_i][1]+1+instance.getSettings().minSpareCols===instance.countCols()&&emptyColsAtTheEnd==instance.getSettings().minSpareCols&&(instance.alter("remove_col",parseInt(data[_i][1]+1,10),instance.getSettings().minSpareCols),instance.undoRedo.doneActions.pop())},UndoRedo.ChangeAction.prototype.redo=function(instance,onFinishCallback){for(var data=(0,_object.deepClone)(this.changes),i=0,len=data.length;i<len;i++)data[i].splice(2,1);instance.addHookOnce("afterChange",onFinishCallback),instance.setDataAtRowProp(data,null,null,"UndoRedo.redo")},UndoRedo.CreateRowAction=function(index,amount){this.index=index,this.amount=amount,this.actionType="insert_row"},(0,_object.inherit)(UndoRedo.CreateRowAction,UndoRedo.Action),UndoRedo.CreateRowAction.prototype.undo=function(instance,undoneCallback){var rowCount=instance.countRows(),minSpareRows=instance.getSettings().minSpareRows;this.index>=rowCount&&this.index-minSpareRows<rowCount&&(this.index-=minSpareRows),instance.addHookOnce("afterRemoveRow",undoneCallback),instance.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},UndoRedo.CreateRowAction.prototype.redo=function(instance,redoneCallback){instance.addHookOnce("afterCreateRow",redoneCallback),instance.alter("insert_row",this.index,this.amount,"UndoRedo.redo")},UndoRedo.RemoveRowAction=function(index,data){this.index=index,this.data=data,this.actionType="remove_row"},(0,_object.inherit)(UndoRedo.RemoveRowAction,UndoRedo.Action),UndoRedo.RemoveRowAction.prototype.undo=function(instance,undoneCallback){instance.alter("insert_row",this.index,this.data.length,"UndoRedo.undo"),instance.addHookOnce("afterRender",undoneCallback),instance.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")},UndoRedo.RemoveRowAction.prototype.redo=function(instance,redoneCallback){instance.addHookOnce("afterRemoveRow",redoneCallback),instance.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},UndoRedo.CreateColumnAction=function(index,amount){this.index=index,this.amount=amount,this.actionType="insert_col"},(0,_object.inherit)(UndoRedo.CreateColumnAction,UndoRedo.Action),UndoRedo.CreateColumnAction.prototype.undo=function(instance,undoneCallback){instance.addHookOnce("afterRemoveCol",undoneCallback),instance.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},UndoRedo.CreateColumnAction.prototype.redo=function(instance,redoneCallback){instance.addHookOnce("afterCreateCol",redoneCallback),instance.alter("insert_col",this.index,this.amount,"UndoRedo.redo")},UndoRedo.RemoveColumnAction=function(index,indexes,data,headers,columnPositions){this.index=index,this.indexes=indexes,this.data=data,this.amount=this.data[0].length,this.headers=headers,this.columnPositions=columnPositions.slice(0),this.actionType="remove_col"},(0,_object.inherit)(UndoRedo.RemoveColumnAction,UndoRedo.Action),UndoRedo.RemoveColumnAction.prototype.undo=function(instance,undoneCallback){var _this=this,row=void 0,ascendingIndexes=this.indexes.slice(0).sort(),sortByIndexes=function(elem,j,arr){return arr[_this.indexes.indexOf(ascendingIndexes[j])]},sortedData=[];(0,_number.rangeEach)(this.data.length-1,function(i){sortedData[i]=(0,_array.arrayMap)(_this.data[i],sortByIndexes)});var sortedHeaders;sortedHeaders=(0,_array.arrayMap)(this.headers,sortByIndexes);var changes=[];instance.runHooks("beforeCreateCol",this.indexes[0],this.indexes[this.indexes.length-1],"UndoRedo.undo"),(0,_number.rangeEach)(this.data.length-1,function(i){row=instance.getSourceDataAtRow(i),(0,_number.rangeEach)(ascendingIndexes.length-1,function(j){row.splice(ascendingIndexes[j],0,sortedData[i][j]),changes.push([i,ascendingIndexes[j],null,sortedData[i][j]])})}),instance.getPlugin("formulas")&&instance.getPlugin("formulas").onAfterSetDataAtCell(changes),void 0!==this.headers&&(0,_number.rangeEach)(sortedHeaders.length-1,function(j){instance.getSettings().colHeaders.splice(ascendingIndexes[j],0,sortedHeaders[j])}),instance.getPlugin("manualColumnMove")&&(instance.getPlugin("manualColumnMove").columnsMapper.__arrayMap=this.columnPositions),instance.addHookOnce("afterRender",undoneCallback),instance.runHooks("afterCreateCol",this.indexes[0],this.indexes[this.indexes.length-1],"UndoRedo.undo"),instance.getPlugin("formulas")&&instance.getPlugin("formulas").recalculateFull(),instance.render()},UndoRedo.RemoveColumnAction.prototype.redo=function(instance,redoneCallback){instance.addHookOnce("afterRemoveCol",redoneCallback),instance.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},(UndoRedo.CellAlignmentAction=function(stateBefore,range,type,alignment){this.stateBefore=stateBefore,this.range=range,this.type=type,this.alignment=alignment}).prototype.undo=function(instance,undoneCallback){if(instance.getPlugin("contextMenu").isEnabled()){for(var row=this.range.from.row;row<=this.range.to.row;row++)for(var col=this.range.from.col;col<=this.range.to.col;col++)instance.setCellMeta(row,col,"className",this.stateBefore[row][col]||" htLeft");instance.addHookOnce("afterRender",undoneCallback),instance.render()}},UndoRedo.CellAlignmentAction.prototype.redo=function(instance,undoneCallback){instance.getPlugin("contextMenu").isEnabled()&&(instance.selectCell(this.range.from.row,this.range.from.col,this.range.to.row,this.range.to.col),instance.getPlugin("contextMenu").executeCommand("alignment:"+this.alignment.replace("ht","").toLowerCase()),instance.addHookOnce("afterRender",undoneCallback),instance.render())},UndoRedo.FiltersAction=function(conditionsStack){this.conditionsStack=conditionsStack,this.actionType="filter"},(0,_object.inherit)(UndoRedo.FiltersAction,UndoRedo.Action),UndoRedo.FiltersAction.prototype.undo=function(instance,undoneCallback){var filters=instance.getPlugin("filters");instance.addHookOnce("afterRender",undoneCallback),filters.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),filters.filter()},UndoRedo.FiltersAction.prototype.redo=function(instance,redoneCallback){var filters=instance.getPlugin("filters");instance.addHookOnce("afterRender",redoneCallback),filters.conditionCollection.importAllConditions(this.conditionsStack),filters.filter()},UndoRedo.RowMoveAction=function(movedRows,target){this.rows=movedRows.slice(),this.target=target},(0,_object.inherit)(UndoRedo.RowMoveAction,UndoRedo.Action),UndoRedo.RowMoveAction.prototype.undo=function(instance,undoneCallback){var manualRowMove=instance.getPlugin("manualRowMove");instance.addHookOnce("afterRender",undoneCallback);for(var mod=this.rows[0]<this.target?-1*this.rows.length:0,newTarget=this.rows[0]>this.target?this.rows[0]+this.rows.length:this.rows[0],newRows=[],rowsLen=this.rows.length+mod,i=mod;i<rowsLen;i++)newRows.push(this.target+i);manualRowMove.moveRows(newRows.slice(),newTarget),instance.render(),instance.selection.setRangeStartOnly(new _src.CellCoords(this.rows[0],0)),instance.selection.setRangeEnd(new _src.CellCoords(this.rows[this.rows.length-1],instance.countCols()-1))},UndoRedo.RowMoveAction.prototype.redo=function(instance,redoneCallback){var manualRowMove=instance.getPlugin("manualRowMove");instance.addHookOnce("afterRender",redoneCallback),manualRowMove.moveRows(this.rows.slice(),this.target),instance.render();var startSelection=this.rows[0]<this.target?this.target-this.rows.length:this.target;instance.selection.setRangeStartOnly(new _src.CellCoords(startSelection,0)),instance.selection.setRangeEnd(new _src.CellCoords(startSelection+this.rows.length-1,instance.countCols()-1))};var hook=_pluginHooks2.default.getSingleton();hook.add("afterInit",init),hook.add("afterUpdateSettings",init),hook.register("beforeUndo"),hook.register("afterUndo"),hook.register("beforeRedo"),hook.register("afterRedo")}],installedModules={},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=180)).default;function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var modules,installedModules},"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("moment"),require("numbro"),require("pikaday")):"function"==typeof define&&define.amd?define("Handsontable",["moment","numbro","pikaday"],factory):"object"==typeof exports?exports.Handsontable=factory(require("moment"),require("numbro"),require("pikaday")):root.Handsontable=factory(root.moment,root.numbro,root.Pikaday)}).call(this,require("_process"))},{_process:71,moment:5,numbro:67,pikaday:69}],5:[function(require,module,exports){var global,factory;global=this,factory=function(){"use strict";var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function isArray(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function isObject(input){return null!=input&&"[object Object]"===Object.prototype.toString.call(input)}function isUndefined(input){return void 0===input}function isNumber(input){return"number"==typeof input||"[object Number]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function getParsingFlags(m){return null==m._pf&&(m._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),m._pf}var some$1=Array.prototype.some?Array.prototype.some:function(fun){for(var t=Object(this),len=t.length>>>0,i=0;i<len;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1};function isValid(m){if(null==m._isValid){var flags=getParsingFlags(m),parsedParts=some$1.call(flags.parsedDateParts,function(i){return null!=i}),isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict&&(isNowValid=isNowValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour),null!=Object.isFrozen&&Object.isFrozen(m))return isNowValid;m._isValid=isNowValid}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}var momentProperties=hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),0<momentProperties.length)for(i=0;i<momentProperties.length;i++)isUndefined(val=from[prop=momentProperties[i]])||(to[prop]=val);return to}var updateInProgress=!1;function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===updateInProgress&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return number<0?Math.ceil(number)||0:Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!=coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function warn(msg){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,msg),firstTime){for(var arg,args=[],i=0;i<arguments.length;i++){if(arg="","object"==typeof arguments[i]){for(var key in arg+="\n["+i+"] ",arguments[0])arg+=key+": "+arguments[0][key]+", ";arg=arg.slice(0,-2)}else arg=arguments[i];args.push(arg)}warn(msg+"\nArguments: "+Array.prototype.slice.call(args).join("")+"\n"+(new Error).stack),firstTime=!1}return fn.apply(this,arguments)},fn)}var deprecations={};function deprecateSimple(name,msg){null!=hooks.deprecationHandler&&hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);for(prop in parentConfig)hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])&&(res[prop]=extend({},res[prop]));return res}function Locale(config){null!=config&&this.set(config)}hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null;var keys$1=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res};var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop))&&(normalizedInput[normalizedProp]=inputObject[prop]);return normalizedInput}var priorities={};function addUnitPriority(unit,priority){priorities[unit]=priority}function makeGetSet(unit,keepTime){return function(value){return null!=value?(set$1(this,unit,value),hooks.updateOffset(this,keepTime),this):get(this,unit)}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){mom.isValid()&&mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length;return(0<=number?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||function(format){var i,length,input,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=(input=array[i]).match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"");return function(mom){var i,output="";for(i=0;i<length;i++)output+=isFunction(array[i])?array[i].call(mom,format):array[i];return output}}(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}for(localFormattingTokens.lastIndex=0;0<=i&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(function(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}(token))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),isNumber(callback)&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8,indexOf$1=Array.prototype.indexOf?Array.prototype.indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1};function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(!isNumber(value=mom.localeData().monthsParse(value)))return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),hooks.updateOffset(this,!0),this):get(this,"Month")}var defaultMonthsShortRegex=matchWord;var defaultMonthsRegex=matchWord;function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<12;i++)mom=createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<12;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]);for(i=0;i<24;i++)mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4==0&&year%100!=0||year%400==0}addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),hooks.parseTwoDigitYear=function(input){return toInt(input)+(68<toInt(input)?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<100&&0<=y&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy;return fwd-(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,dayOfYear=1+7*(week-1)+(7+weekday-dow)%7+firstWeekOffset(year,dow,doy);return resDayOfYear=dayOfYear<=0?daysInYear(resYear=year-1)+dayOfYear:dayOfYear>daysInYear(year)?(resYear=year+1,dayOfYear-daysInYear(year)):(resYear=year,dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return week<1?resWeek=week+weeksInYear(resYear=mom.year()-1,dow,doy):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var defaultWeekdaysRegex=matchWord;var defaultWeekdaysShortRegex=matchWord;var defaultWeekdaysMinRegex=matchWord;function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<7;i++)mom=createUTC([2e3,1]).day(i),minp=this.weekdaysMin(mom,""),shortp=this.weekdaysShort(mom,""),longp=this.weekdays(mom,""),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);for(minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<7;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,function(){return this.hours()||24}),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("k",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("kk",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["k","kk"],function(input,array,config){var kInput=toInt(input);array[HOUR]=24===kInput?0:kInput}),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var globalLocale,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:{dow:0,doy:6},weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:/[ap]\.?m?\.?/i},locales={},localeFamilies={};function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function loadLocale(name){var oldLocale=null;if(!locales[name]&&void 0!==module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function getSetGlobalLocale(key,values){var data;return key&&(data=isUndefined(values)?getLocale(key):defineLocale(key,values))&&(globalLocale=data),globalLocale._abbr}function defineLocale(name,config){if(null===config)return delete locales[name],null;var parentConfig=baseConfig;if(config.abbr=name,null!=locales[name])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),parentConfig=locales[name]._config;else if(null!=config.parentLocale){if(null==locales[config.parentLocale])return localeFamilies[config.parentLocale]||(localeFamilies[config.parentLocale]=[]),localeFamilies[config.parentLocale].push({name:name,config:config}),null;parentConfig=locales[config.parentLocale]._config}return locales[name]=new Locale(mergeConfigs(parentConfig,config)),localeFamilies[name]&&localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)}),getSetGlobalLocale(name),locales[name]}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return function(names){for(var j,next,locale,split,i=0;i<names.length;){for(j=(split=normalizeLocale(names[i]).split("-")).length,next=(next=normalizeLocale(names[i+1]))?next.split("-"):null;0<j;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}(key)}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||11<a[MONTH]?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||24<a[HOUR]||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||59<a[MINUTE]?MINUTE:a[SECOND]<0||59<a[SECOND]?SECOND:a[MILLISECOND]<0||999<a[MILLISECOND]?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||DATE<overflow)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&-1===overflow&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&-1===overflow&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=!1!==isoDates[i][2];break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4]){if(!tzRegex.exec(match[4]))return void(config._isValid=!1);tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}var basicRfcRegex=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function configFromRFC2822(config){var string,match,dayFormat,dateFormat,timeFormat,timezone,timezoneIndex,timezones={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(string=config._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),match=basicRfcRegex.exec(string)){if(dayFormat=match[1]?"ddd"+(5===match[1].length?", ":" "):"",dateFormat="D MMM "+(10<match[2].length?"YYYY ":"YY "),timeFormat="HH:mm"+(match[4]?":ss":""),match[1]){var momentDay=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(match[2]).getDay()];if(match[1].substr(0,3)!==momentDay)return getParsingFlags(config).weekdayMismatch=!0,void(config._isValid=!1)}switch(match[5].length){case 2:timezone=0===timezoneIndex?" +0000":((timezoneIndex="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(match[5][1].toUpperCase())-12)<0?" -":" +")+(""+timezoneIndex).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:timezone=timezones[match[5]];break;default:timezone=timezones[" GMT"]}match[5]=timezone,config._i=match.splice(1).join("")," ZZ",config._f=dayFormat+dateFormat+timeFormat+" ZZ",configFromStringAndFormat(config),getParsingFlags(config).rfc2822=!0}else config._isValid=!1}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=function(config){var nowValue=new Date(hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&function(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;if(null!=(w=config._w).GG||null!=w.W||null!=w.E)dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year),week=defaults(w.W,1),((weekday=defaults(w.E,1))<1||7<weekday)&&(weekdayOverflow=!0);else{dow=config._locale._week.dow,doy=config._locale._week.doy;var curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year),week=defaults(w.w,curWeek.week),null!=w.d?((weekday=w.d)<0||6<weekday)&&(weekdayOverflow=!0):null!=w.e?(weekday=w.e+dow,(w.e<0||6<w.e)&&(weekdayOverflow=!0)):weekday=dow}week<1||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}(config),null!=config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),(config._dayOfYear>daysInYear(yearToUse)||0===config._dayOfYear)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:function(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return y<100&&0<=y&&isFinite(date.getFullYear())&&date.setFullYear(y),date}).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function configFromStringAndFormat(config){if(config._f!==hooks.ISO_8601)if(config._f!==hooks.RFC_2822){config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],(parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0])&&(0<(skipped=string.substr(0,string.indexOf(parsedInput))).length&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,0<string.length&&getParsingFlags(config).unusedInput.push(string),config._a[HOUR]<=12&&!0===getParsingFlags(config).bigHour&&0<config._a[HOUR]&&(getParsingFlags(config).bigHour=void 0),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=function(locale,hour,meridiem){var isPm;if(null==meridiem)return hour;return null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):(null!=locale.isPM&&((isPm=locale.isPM(meridiem))&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0)),hour)}(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}else configFromRFC2822(config);else configFromISO(config)}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||getLocale(config._l),null===input||void 0===format&&""===input?createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isDate(input)?config._d=input:isArray(format)?function(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,config._d=new Date(NaN);for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}(config):format?configFromStringAndFormat(config):function(config){var input=config._i;isUndefined(input)?config._d=new Date(hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?function(config){var matched=aspNetJsonRegex.exec(config._i);null===matched?(configFromISO(config),!1===config._isValid&&(delete config._isValid,configFromRFC2822(config),!1===config._isValid&&(delete config._isValid,hooks.createFromInputFallback(config)))):config._d=new Date(+matched[1])}(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):isObject(input)?function(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}(config):isNumber(input)?config._d=new Date(input):hooks.createFromInputFallback(config)}(config),isValid(config)||(config._d=null),config))}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return!0!==locale&&!1!==locale||(strict=locale,locale=void 0),(isObject(input)&&function(obj){var k;for(k in obj)return!1;return!0}(input)||isArray(input)&&0===input.length)&&(input=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,function(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}(c)}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?this<other?this:other:createInvalid()});function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}var ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=function(m){for(var key in m)if(-1===ordering.indexOf(key)||null!=m[key]&&isNaN(m[key]))return!1;for(var unitHasDecimal=!1,i=0;i<ordering.length;++i)if(m[ordering[i]]){if(unitHasDecimal)return!1;parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])&&(unitHasDecimal=!0)}return!0}(normalizedInput),this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+1e3*hours*60*60,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){return number<0?-1*Math.round(-1*number):Math.round(number)}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||"").match(matcher);if(null===matches)return null;var parts=((matches[matches.length-1]||[])+"").match(chunkOffset)||["-",0,0],minutes=60*parts[1]+toInt(parts[2]);return 0===minutes?0:"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),hooks.updateOffset(res,!1),res):createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}hooks.updateOffset=function(){};var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,isoRegex=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:isNumber(input)?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(1e3*match[MILLISECOND]))*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=function(base,other){var res;if(!base.isValid()||!other.isValid())return{milliseconds:0,months:0};other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):((res=positiveMomentsDifference(other,base)).milliseconds=-res.milliseconds,res.months=-res.months);return res}(createLocal(duration.from),createLocal(duration.to)),(duration={}).ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function createAdder(direction,name){return function(val,period){var tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),tmp=val,val=period,period=tmp),addSubtract(this,createDuration(val="string"==typeof val?+val:val,period),direction),this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset||updateOffset,milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),days&&set$1(mom,"Date",get(mom,"Date")+days*isAdding),months&&setMonth(mom,get(mom,"Month")+months*isAdding),updateOffset&&hooks.updateOffset(mom,days||months))}createDuration.fn=Duration.prototype,createDuration.invalid=function(){return createDuration(NaN)};var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(null!=(newLocaleData=getLocale(key))&&(this._locale=newLocaleData),this)}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});function localeData(){return this._locale}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:((weeksTarget=weeksInYear(input,dow,doy))<week&&(week=weeksTarget),function(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}.call(this,input,week,weekday,dow,doy))}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._dayOfMonthOrdinalParse||locale._ordinalParse:locale._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var token,getSetSecond=makeGetSet("Seconds",!1);for(addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3),token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;function preParsePostFormat(string){return string}proto.add=add,proto.calendar=function(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))},proto.clone=function(){return new Moment(this)},proto.diff=function(input,units,asFloat){var that,zoneDelta,delta,output;return this.isValid()&&(that=cloneWithOffset(input,this)).isValid()?(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),"year"===(units=normalizeUnits(units))||"month"===units||"quarter"===units?(output=function(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return adjust=b-anchor<0?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(1+wholeMonthDiff,"months"),(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)||0}(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)):NaN},proto.endOf=function(units){return void 0===(units=normalizeUnits(units))||"millisecond"===units?this:("date"===units&&(units="day"),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms"))},proto.format=function(inputString){inputString||(inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)},proto.from=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.fromNow=function(withoutSuffix){return this.from(createLocal(),withoutSuffix)},proto.to=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.toNow=function(withoutSuffix){return this.to(createLocal(),withoutSuffix)},proto.get=function(units){return isFunction(this[units=normalizeUnits(units)])?this[units]():this},proto.invalidAt=function(){return getParsingFlags(this).overflow},proto.isAfter=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(isUndefined(units)?"millisecond":units))?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf())},proto.isBefore=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(isUndefined(units)?"millisecond":units))?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf())},proto.isBetween=function(from,to,units,inclusivity){return("("===(inclusivity=inclusivity||"()")[0]?this.isAfter(from,units):!this.isBefore(from,units))&&(")"===inclusivity[1]?this.isBefore(to,units):!this.isAfter(to,units))},proto.isSame=function(input,units){var inputMs,localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(units||"millisecond"))?this.valueOf()===localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()))},proto.isSameOrAfter=function(input,units){return this.isSame(input,units)||this.isAfter(input,units)},proto.isSameOrBefore=function(input,units){return this.isSame(input,units)||this.isBefore(input,units)},proto.isValid=function(){return isValid(this)},proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=function(){return extend({},getParsingFlags(this))},proto.set=function(units,value){if("object"==typeof units)for(var prioritized=function(unitsObj){var units=[];for(var u in unitsObj)units.push({unit:u,priority:priorities[u]});return units.sort(function(a,b){return a.priority-b.priority}),units}(units=normalizeObjectUnits(units)),i=0;i<prioritized.length;i++)this[prioritized[i].unit](units[prioritized[i].unit]);else if(isFunction(this[units=normalizeUnits(units)]))return this[units](value);return this},proto.startOf=function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},proto.subtract=subtract,proto.toArray=function(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},proto.toObject=function(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},proto.toDate=function(){return new Date(this.valueOf())},proto.toISOString=function(){if(!this.isValid())return null;var m=this.clone().utc();return m.year()<0||9999<m.year()?formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},proto.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var func="moment",zone="";this.isLocal()||(func=0===this.utcOffset()?"moment.utc":"moment.parseZone",zone="Z");var prefix="["+func+'("]',year=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",suffix=zone+'[")]';return this.format(prefix+year+"-MM-DD[T]HH:mm:ss.SSS"+suffix)},proto.toJSON=function(){return this.isValid()?this.toISOString():null},proto.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},proto.unix=function(){return Math.floor(this.valueOf()/1e3)},proto.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},proto.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},proto.year=getSetYear,proto.isLeapYear=function(){return isLeapYear(this.year())},proto.weekYear=function(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},proto.isoWeekYear=function(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)},proto.quarter=proto.quarters=function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},proto.month=getSetMonth,proto.daysInMonth=function(){return daysInMonth(this.year(),this.month())},proto.week=proto.weeks=function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},proto.isoWeek=proto.isoWeeks=function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},proto.weeksInYear=function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},proto.isoWeeksInYear=function(){return weeksInYear(this.year(),1,4)},proto.date=getSetDayOfMonth,proto.day=proto.days=function(input){if(!this.isValid())return null!=input?this:NaN;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=function(input,locale){return"string"!=typeof input?input:isNaN(input)?"number"==typeof(input=locale.weekdaysParse(input))?input:null:parseInt(input,10)}(input,this.localeData()),this.add(input-day,"d")):day},proto.weekday=function(input){if(!this.isValid())return null!=input?this:NaN;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},proto.isoWeekday=function(input){if(!this.isValid())return null!=input?this:NaN;if(null==input)return this.day()||7;var weekday=function(input,locale){return"string"==typeof input?locale.weekdaysParse(input)%7||7:isNaN(input)?null:input}(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)},proto.dayOfYear=function(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=function(input,keepLocalTime,keepMinutes){var localAdjust,offset=this._offset||0;if(!this.isValid())return null!=input?this:NaN;if(null==input)return this._isUTC?offset:getDateOffset(this);if("string"==typeof input){if(null===(input=offsetFromString(matchShortOffset,input)))return this}else Math.abs(input)<16&&!keepMinutes&&(input*=60);return!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addSubtract(this,createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this},proto.utc=function(keepLocalTime){return this.utcOffset(0,keepLocalTime)},proto.local=function(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this},proto.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var tZone=offsetFromString(matchOffset,this._i);null!=tZone?this.utcOffset(tZone):this.utcOffset(0,!0)}return this},proto.hasAlignedHourOffset=function(input){return!!this.isValid()&&(input=input?createLocal(input).utcOffset():0,(this.utcOffset()-input)%60==0)},proto.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},proto.isLocal=function(){return!!this.isValid()&&!this._isUTC},proto.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=function(){return this._isUTC?"UTC":""},proto.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),(c=prepareConfig(c))._a){var other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&0<compareArrays(c._a,other.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var proto$1=Locale.prototype;function get$1(format,index,field,setter){var locale=getLocale(),utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(isNumber(format)&&(index=format,format=void 0),format=format||"",null!=index)return get$1(format,index,field,"month");var i,out=[];for(i=0;i<12;i++)out[i]=get$1(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){format=("boolean"==typeof localeSorted?isNumber(format)&&(index=format,format=void 0):(format=localeSorted,localeSorted=!1,isNumber(index=format)&&(index=format,format=void 0)),format||"");var i,locale=getLocale(),shift=localeSorted?locale._week.dow:0;if(null!=index)return get$1(format,(index+shift)%7,field,"day");var out=[];for(i=0;i<7;i++)out[i]=get$1(format,(i+shift)%7,field,"day");return out}proto$1.calendar=function(key,mom,now){var output=this._calendar[key]||this._calendar.sameElse;return isFunction(output)?output.call(mom,now):output},proto$1.longDateFormat=function(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])},proto$1.invalidDate=function(){return this._invalidDate},proto$1.ordinal=function(number){return this._ordinal.replace("%d",number)},proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},proto$1.pastFuture=function(diff,output){var format=this._relativeTime[0<diff?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)},proto$1.set=function(config){var prop,i;for(i in config)isFunction(prop=config[i])?this[i]=prop:this["_"+i]=prop;this._config=config,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},proto$1.months=function(m,format){return m?isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]:isArray(this._months)?this._months:this._months.standalone},proto$1.monthsShort=function(m,format){return m?isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},proto$1.monthsParse=function(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return function(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)mom=createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?-1!==(ii=indexOf$1.call(this._shortMonthsParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._longMonthsParse,llc))?ii:null:"MMM"===format?-1!==(ii=indexOf$1.call(this._shortMonthsParse,llc))?ii:-1!==(ii=indexOf$1.call(this._longMonthsParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._longMonthsParse,llc))?ii:-1!==(ii=indexOf$1.call(this._shortMonthsParse,llc))?ii:null}.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}},proto$1.monthsRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex)},proto$1.monthsShortRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex)},proto$1.week=function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},proto$1.firstDayOfYear=function(){return this._week.doy},proto$1.firstDayOfWeek=function(){return this._week.dow},proto$1.weekdays=function(m,format){return m?isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]:isArray(this._weekdays)?this._weekdays:this._weekdays.standalone},proto$1.weekdaysMin=function(m){return m?this._weekdaysMin[m.day()]:this._weekdaysMin},proto$1.weekdaysShort=function(m){return m?this._weekdaysShort[m.day()]:this._weekdaysShort},proto$1.weekdaysParse=function(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return function(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)mom=createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:null:"dddd"===format?-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:null}.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(mom=createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}},proto$1.weekdaysRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex)},proto$1.weekdaysShortRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},proto$1.weekdaysMinRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},proto$1.isPM=function(input){return"p"===(input+"").toLowerCase().charAt(0)},proto$1.meridiem=function(hours,minutes,isLower){return 11<hours?isLower?"pm":"PM":isLower?"am":"AM"},getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10;return number+(1===toInt(number%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function makeAs(alias){return function(){return this.as(alias)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y");function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,M:11};var abs$1=Math.abs;function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var minutes,hours,seconds=abs$1(this._milliseconds)/1e3,days=abs$1(this._days),months=abs$1(this._months);hours=absFloor((minutes=absFloor(seconds/60))/60),seconds%=60,minutes%=60;var Y=absFloor(months/12),M=months%=12,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var proto$2=Duration.prototype;return proto$2.isValid=function(){return this._isValid},proto$2.abs=function(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this},proto$2.add=function(input,value){return addSubtract$1(this,input,value,1)},proto$2.subtract=function(input,value){return addSubtract$1(this,input,value,-1)},proto$2.as=function(units){if(!this.isValid())return NaN;var days,months,milliseconds=this._milliseconds;if("month"===(units=normalizeUnits(units))||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}},proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asYears=asYears,proto$2.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN},proto$2._bubble=function(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return 0<=milliseconds&&0<=days&&0<=months||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),months=days=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,months+=monthsFromDays=absFloor(daysToMonths(days+=absFloor(hours/24))),days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this},proto$2.get=function(units){return units=normalizeUnits(units),this.isValid()?this[units+"s"]():NaN},proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=function(){return absFloor(this.days()/7)},proto$2.months=months,proto$2.years=years,proto$2.humanize=function(withSuffix){if(!this.isValid())return this.localeData().invalidDate();var locale=this.localeData(),output=function(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=0<+posNegDuration,a[4]=locale,function(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}.apply(null,a)}(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)},proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",/[+-]?\d+(\.\d{1,3})?/),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),hooks.version="2.18.1",hookCallback=createLocal,hooks.fn=proto,hooks.min=function(){return pickBy("isBefore",[].slice.call(arguments,0))},hooks.max=function(){return pickBy("isAfter",[].slice.call(arguments,0))},hooks.now=function(){return Date.now?Date.now():+new Date},hooks.utc=createUTC,hooks.unix=function(input){return createLocal(1e3*input)},hooks.months=function(format,index){return listMonthsImpl(format,index,"months")},hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")},hooks.parseZone=function(){return createLocal.apply(null,arguments).parseZone()},hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=function(format,index){return listMonthsImpl(format,index,"monthsShort")},hooks.weekdaysMin=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")},hooks.defineLocale=defineLocale,hooks.updateLocale=function(name,config){if(null!=config){var locale,parentConfig=baseConfig;null!=locales[name]&&(parentConfig=locales[name]._config),(locale=new Locale(config=mergeConfigs(parentConfig,config))).parentLocale=locales[name],locales[name]=locale,getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]},hooks.locales=function(){return keys$1(locales)},hooks.weekdaysShort=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")},hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=function(roundingFunction){return void 0===roundingFunction?round:"function"==typeof roundingFunction&&(round=roundingFunction,!0)},hooks.relativeTimeThreshold=function(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,"s"===threshold&&(thresholds.ss=limit-1),!0))},hooks.calendarFormat=function(myMoment,now){var diff=myMoment.diff(now,"days",!0);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"},hooks.prototype=proto,hooks},"object"==typeof exports&&void 0!==module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()},{}],6:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"bg",cultureCode:"bg",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"Ð",million:"Ð",billion:"M",trillion:"T"},ordinal:function(){return"."},currency:{symbol:"Ð»Ð²."}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&this.numbro.culture("bg",language)}).call("undefined"==typeof window?this:window)},{}],7:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"cs-CZ",cultureCode:"cs-CZ",delimiters:{thousands:"Â ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"mld.",trillion:"bil."},ordinal:function(){return"."},currency:{symbol:"KÄ",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],8:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"da-DK",cultureCode:"da-DK",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],9:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"de-AT",cultureCode:"de-AT",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"â¬"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],10:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"de-CH",cultureCode:"de-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],11:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"de-DE",cultureCode:"de-DE",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"â¬",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],12:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"de-LI",cultureCode:"de-LI",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],13:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"el",cultureCode:"el",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"Ï",million:"Îµ",billion:"Î´",trillion:"Ï"},ordinal:function(){return"."},currency:{symbol:"â¬"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("el",language)}).call("undefined"==typeof window?this:window)},{}],14:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"en-AU",cultureCode:"en-AU",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==~~(number%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],15:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"en-GB",cultureCode:"en-GB",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==~~(number%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th"},currency:{symbol:"Â£",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],16:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"en-IE",cultureCode:"en-IE",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==~~(number%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th"},currency:{symbol:"â¬"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("en-gb",language)}).call("undefined"==typeof window?this:window)},{}],17:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"en-NZ",cultureCode:"en-NZ",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==~~(number%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],18:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"en-ZA",cultureCode:"en-ZA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==~~(number%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th"},currency:{symbol:"R",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],19:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"es-AR",cultureCode:"es-AR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==b||3==b?"er":2==b?"do":7==b||0==b?"mo":8==b?"vo":9==b?"no":"to"},currency:{symbol:"$",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],20:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"es-CL",cultureCode:"es-CL",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==b||3==b?"er":2==b?"do":7==b||0==b?"mo":8==b?"vo":9==b?"no":"to"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:"$0,0"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],21:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"es-CO",cultureCode:"es-CO",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==b||3==b?"er":2==b?"do":7==b||0==b?"mo":8==b?"vo":9==b?"no":"to"},currency:{symbol:"â¬",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],22:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"es-CR",cultureCode:"es-CR",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==b||3==b?"er":2==b?"do":7==b||0==b?"mo":8==b?"vo":9==b?"no":"to"},currency:{symbol:"â¡",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],23:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"es-ES",cultureCode:"es-ES",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==b||3==b?"er":2==b?"do":7==b||0==b?"mo":8==b?"vo":9==b?"no":"to"},currency:{symbol:"â¬",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],24:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"es-NI",cultureCode:"es-NI",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==b||3==b?"er":2==b?"do":7==b||0==b?"mo":8==b?"vo":9==b?"no":"to"},currency:{symbol:"C$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],25:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"es-PE",cultureCode:"es-PE",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==b||3==b?"er":2==b?"do":7==b||0==b?"mo":8==b?"vo":9==b?"no":"to"},currency:{symbol:"S/.",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],26:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"es-PR",cultureCode:"es-PR",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==b||3==b?"er":2==b?"do":7==b||0==b?"mo":8==b?"vo":9==b?"no":"to"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],27:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"es-SV",cultureCode:"es-SV",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==b||3==b?"er":2==b?"do":7==b||0==b?"mo":8==b?"vo":9==b?"no":"to"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],28:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"et-EE",cultureCode:"et-EE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tuh",million:" mln",billion:" mld",trillion:" trl"},ordinal:function(){return"."},currency:{symbol:"â¬",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],29:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"fa-IR",cultureCode:"fa-IR",delimiters:{thousands:"Ø",decimal:"."},abbreviations:{thousand:"ÙØ²Ø§Ø±",million:"ÙÛÙÛÙÙ",billion:"ÙÛÙÛØ§Ø±Ø¯",trillion:"ØªØ±ÛÙÛÙÙ"},ordinal:function(){return"Ø§Ù"},currency:{symbol:"ï·¼"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],30:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"fi-FI",cultureCode:"fi-FI",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(){return"."},currency:{symbol:"â¬",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],31:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"fil-PH",cultureCode:"fil-PH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==~~(number%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th"},currency:{symbol:"â±"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],32:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"fr-CA",cultureCode:"fr-CA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(number){return 1===number?"er":"Ã¨me"},currency:{symbol:"$",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],33:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"fr-CH",cultureCode:"fr-CH",delimiters:{thousands:" ",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){return 1===number?"er":"Ã¨me"},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],34:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"fr-FR",cultureCode:"fr-FR",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){return 1===number?"er":"Ã¨me"},currency:{symbol:"â¬",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],35:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"he-IL",cultureCode:"he-IL",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"×××£",million:"×××××",billion:"×××××",trillion:"××¨×××××"},currency:{symbol:"âª",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"âª ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"âª ,0"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],36:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"hu-HU",cultureCode:"hu-HU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"E",million:"M",billion:"Mrd",trillion:"T"},ordinal:function(){return"."},currency:{symbol:" Ft",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],37:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"id",cultureCode:"id",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"r",million:"j",billion:"m",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"Rp"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("id",language)}).call("undefined"==typeof window?this:window)},{}],38:[function(require,module,exports){exports.bg=require("./bg.js"),exports["cs-CZ"]=require("./cs-CZ.js"),exports["da-DK"]=require("./da-DK.js"),exports["de-AT"]=require("./de-AT.js"),exports["de-CH"]=require("./de-CH.js"),exports["de-DE"]=require("./de-DE.js"),exports["de-LI"]=require("./de-LI.js"),exports.el=require("./el.js"),exports["en-AU"]=require("./en-AU.js"),exports["en-GB"]=require("./en-GB.js"),exports["en-IE"]=require("./en-IE.js"),exports["en-NZ"]=require("./en-NZ.js"),exports["en-ZA"]=require("./en-ZA.js"),exports["es-AR"]=require("./es-AR.js"),exports["es-CL"]=require("./es-CL.js"),exports["es-CO"]=require("./es-CO.js"),exports["es-CR"]=require("./es-CR.js"),exports["es-ES"]=require("./es-ES.js"),exports["es-NI"]=require("./es-NI.js"),exports["es-PE"]=require("./es-PE.js"),exports["es-PR"]=require("./es-PR.js"),exports["es-SV"]=require("./es-SV.js"),exports["et-EE"]=require("./et-EE.js"),exports["fa-IR"]=require("./fa-IR.js"),exports["fi-FI"]=require("./fi-FI.js"),exports["fil-PH"]=require("./fil-PH.js"),exports["fr-CA"]=require("./fr-CA.js"),exports["fr-CH"]=require("./fr-CH.js"),exports["fr-FR"]=require("./fr-FR.js"),exports["he-IL"]=require("./he-IL.js"),exports["hu-HU"]=require("./hu-HU.js"),exports.id=require("./id.js"),exports["it-CH"]=require("./it-CH.js"),exports["it-IT"]=require("./it-IT.js"),exports["ja-JP"]=require("./ja-JP.js"),exports["ko-KR"]=require("./ko-KR.js"),exports["lv-LV"]=require("./lv-LV.js"),exports["nb-NO"]=require("./nb-NO.js"),exports.nb=require("./nb.js"),exports["nl-BE"]=require("./nl-BE.js"),exports["nl-NL"]=require("./nl-NL.js"),exports.nn=require("./nn.js"),exports["pl-PL"]=require("./pl-PL.js"),exports["pt-BR"]=require("./pt-BR.js"),exports["pt-PT"]=require("./pt-PT.js"),exports["ro-RO"]=require("./ro-RO.js"),exports.ro=require("./ro.js"),exports["ru-RU"]=require("./ru-RU.js"),exports["ru-UA"]=require("./ru-UA.js"),exports["sk-SK"]=require("./sk-SK.js"),exports.sl=require("./sl.js"),exports["sr-Cyrl-RS"]=require("./sr-Cyrl-RS.js"),exports["sv-SE"]=require("./sv-SE.js"),exports["th-TH"]=require("./th-TH.js"),exports["tr-TR"]=require("./tr-TR.js"),exports["uk-UA"]=require("./uk-UA.js"),exports["zh-CN"]=require("./zh-CN.js"),exports["zh-MO"]=require("./zh-MO.js"),exports["zh-SG"]=require("./zh-SG.js"),exports["zh-TW"]=require("./zh-TW.js")},{"./bg.js":6,"./cs-CZ.js":7,"./da-DK.js":8,"./de-AT.js":9,"./de-CH.js":10,"./de-DE.js":11,"./de-LI.js":12,"./el.js":13,"./en-AU.js":14,"./en-GB.js":15,"./en-IE.js":16,"./en-NZ.js":17,"./en-ZA.js":18,"./es-AR.js":19,"./es-CL.js":20,"./es-CO.js":21,"./es-CR.js":22,"./es-ES.js":23,"./es-NI.js":24,"./es-PE.js":25,"./es-PR.js":26,"./es-SV.js":27,"./et-EE.js":28,"./fa-IR.js":29,"./fi-FI.js":30,"./fil-PH.js":31,"./fr-CA.js":32,"./fr-CH.js":33,"./fr-FR.js":34,"./he-IL.js":35,"./hu-HU.js":36,"./id.js":37,"./it-CH.js":39,"./it-IT.js":40,"./ja-JP.js":41,"./ko-KR.js":42,"./lv-LV.js":43,"./nb-NO.js":44,"./nb.js":45,"./nl-BE.js":46,"./nl-NL.js":47,"./nn.js":48,"./pl-PL.js":49,"./pt-BR.js":50,"./pt-PT.js":51,"./ro-RO.js":52,"./ro.js":53,"./ru-RU.js":54,"./ru-UA.js":55,"./sk-SK.js":56,"./sl.js":57,"./sr-Cyrl-RS.js":58,"./sv-SE.js":59,"./th-TH.js":60,"./tr-TR.js":61,"./uk-UA.js":62,"./zh-CN.js":63,"./zh-MO.js":64,"./zh-SG.js":65,"./zh-TW.js":66}],39:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"it-CH",cultureCode:"it-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(){return"Â°"},currency:{symbol:"CHF"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("it-CH",language)}).call("undefined"==typeof window?this:window)},{}],40:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"it-IT",cultureCode:"it-IT",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(){return"Âº"},currency:{symbol:"â¬",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],41:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"ja-JP",cultureCode:"ja-JP",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"å",million:"ç¾ä¸",billion:"åå",trillion:"å"},ordinal:function(){return"."},currency:{symbol:"Â¥",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],42:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"ko-KR",cultureCode:"ko-KR",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"ì²",million:"ë°±ë§",billion:"ì­ìµ",trillion:"ì¼ì¡°"},ordinal:function(){return"."},currency:{symbol:"â©"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],43:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"lv-LV",cultureCode:"lv-LV",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tÅ«kst.",million:" milj.",billion:" mljrd.",trillion:" trilj."},ordinal:function(){return"."},currency:{symbol:"â¬",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],44:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"nb-NO",cultureCode:"nb-NO",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"t"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],45:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"nb",cultureCode:"nb",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"mil",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("nb",language)}).call("undefined"==typeof window?this:window)},{}],46:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"nl-BE",cultureCode:"nl-BE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(number){var remainder=number%100;return 0!==number&&remainder<=1||8==remainder||20<=remainder?"ste":"de"},currency:{symbol:"â¬",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],47:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"nl-NL",cultureCode:"nl-NL",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mrd",trillion:"bln"},ordinal:function(number){var remainder=number%100;return 0!==number&&remainder<=1||8==remainder||20<=remainder?"ste":"de"},currency:{symbol:"â¬",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],48:[function(require,module,exports){!function(){"use strict";var language={langLocaleCode:"nn",cultureCode:"nn",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"mil",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.language&&window.numbro.language("nn",language)}()},{}],49:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"pl-PL",cultureCode:"pl-PL",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tys.",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(){return"."},currency:{symbol:" zÅ",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],50:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"pt-BR",cultureCode:"pt-BR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milhÃµes",billion:"b",trillion:"t"},ordinal:function(){return"Âº"},currency:{symbol:"R$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],51:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"pt-PT",cultureCode:"pt-PT",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"Âº"},currency:{symbol:"â¬",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],52:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"ro-RO",cultureCode:"ro-RO",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mii",million:"mil",billion:"mld",trillion:"bln"},ordinal:function(){return"."},currency:{symbol:" lei",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],53:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"ro",cultureCode:"ro",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mie",million:"mln",billion:"mld",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"RON"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("ro",language)}).call("undefined"==typeof window?this:window)},{}],54:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"ru-RU",cultureCode:"ru-RU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"ÑÑÑ.",million:"Ð¼Ð»Ð½",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"ÑÑÐ±.",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],55:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"ru-UA",cultureCode:"ru-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"ÑÑÑ.",million:"Ð¼Ð»Ð½",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"â´",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],56:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"sk-SK",cultureCode:"sk-SK",delimiters:{thousands:"Â ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"mld.",trillion:"bil."},ordinal:function(){return"."},currency:{symbol:"â¬",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],57:[function(require,module,exports){!function(){"use strict";var language={langLocaleCode:"sl",cultureCode:"sl",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"â¬"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("sl",language)}()},{}],58:[function(require,module,exports){!function(){"use strict";var language={langLocaleCode:"sr-Cyrl-RS",cultureCode:"sr-Cyrl-RS",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"ÑÑÑ.",million:"Ð¼Ð»Ð½",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"RSD"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("sr-Cyrl-RS",language)}()},{}],59:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"sv-SE",cultureCode:"sv-SE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"tmd"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],60:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"th-TH",cultureCode:"th-TH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"à¸à¸±à¸",million:"à¸¥à¹à¸²à¸",billion:"à¸à¸±à¸à¸¥à¹à¸²à¸",trillion:"à¸¥à¹à¸²à¸à¸¥à¹à¸²à¸"},ordinal:function(){return"."},currency:{symbol:"à¸¿",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],61:[function(require,module,exports){(function(){"use strict";var suffixes={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'Ã¼ncÃ¼",4:"'Ã¼ncÃ¼",100:"'Ã¼ncÃ¼",6:"'ncÄ±",9:"'uncu",10:"'uncu",30:"'uncu",60:"'Ä±ncÄ±",90:"'Ä±ncÄ±"},language={langLocaleCode:"tr-TR",cultureCode:"tr-TR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"bin",million:"milyon",billion:"milyar",trillion:"trilyon"},ordinal:function(number){if(0===number)return"'Ä±ncÄ±";var a=number%10;return suffixes[a]||suffixes[number%100-a]||suffixes[100<=number?100:null]},currency:{symbol:"âº",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],62:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"uk-UA",cultureCode:"uk-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"ÑÐ¸Ñ.",million:"Ð¼Ð»Ð½",billion:"Ð¼Ð»ÑÐ´",trillion:"Ð±Ð»Ð½"},ordinal:function(){return""},currency:{symbol:"â´",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],63:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"zh-CN",cultureCode:"zh-CN",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"å",million:"ç¾ä¸",billion:"åäº¿",trillion:"å"},ordinal:function(){return"."},currency:{symbol:"Â¥",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],64:[function(require,module,exports){!function(){"use strict";var language={langLocaleCode:"zh-MO",cultureCode:"zh-MO",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"å",million:"ç¾è¬",billion:"åå",trillion:"å"},ordinal:function(){return"."},currency:{symbol:"MOP"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("zh-MO",language)}()},{}],65:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"zh-SG",cultureCode:"zh-SG",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"å",million:"ç¾ä¸",billion:"åäº¿",trillion:"å"},ordinal:function(){return"."},currency:{symbol:"$"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("zh-SG",language)}).call("undefined"==typeof window?this:window)},{}],66:[function(require,module,exports){(function(){"use strict";var language={langLocaleCode:"zh-TW",cultureCode:"zh-TW",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"å",million:"ç¾è¬",billion:"åå",trillion:"å"},ordinal:function(){return"ç¬¬"},currency:{symbol:"NT$"}};void 0!==module&&module.exports&&(module.exports=language),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(language.cultureCode,language)}).call("undefined"==typeof window?this:window)},{}],67:[function(require,module,exports){(function(process){(function(){"use strict";var numbro,binarySuffixes=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],bytes={general:{scale:1024,suffixes:decimalSuffixes,marker:"bd"},binary:{scale:1024,suffixes:binarySuffixes,marker:"b"},decimal:{scale:1e3,suffixes:decimalSuffixes,marker:"d"}},byteFormatOrder=[bytes.general,bytes.binary,bytes.decimal],cultures={},languages=cultures,currentCulture="en-US",zeroFormat=null,defaultFormat="0,0",defaultCurrencyFormat="0$",hasModule=void 0!==module&&module.exports;function Numbro(number){this._value=number}function numberLength(number){return 0===number?1:Math.floor(Math.log(Math.abs(number))/Math.LN10)+1}function zeroes(count){var i,ret="";for(i=0;i<count;i++)ret+="0";return ret}function toFixed(value,precision,roundingFunction,optionals){var optionalsRegExp,output,power=Math.pow(10,precision);return-1<value.toString().indexOf("e")?"-"===(output=function(value,precision){var mantissa,beforeDec,afterDec,exponent,prefix,str;return mantissa=(str=value.toString()).split("e")[0],exponent=str.split("e")[1],beforeDec=mantissa.split(".")[0],afterDec=mantissa.split(".")[1]||"",str=0<+exponent?beforeDec+afterDec+zeroes(exponent-afterDec.length):(prefix=+beforeDec<0?"-0":"0",0<precision&&(prefix+="."),prefix+(zeroes(-1*exponent-1)+Math.abs(beforeDec)+afterDec).substr(0,precision)),0<+exponent&&0<precision&&(str+="."+zeroes(precision)),str}(value,precision)).charAt(0)&&0<=+output&&(output=output.substr(1)):output=(roundingFunction(value+"e+"+precision)/power).toFixed(precision),optionals&&(optionalsRegExp=new RegExp("0{1,"+optionals+"}$"),output=output.replace(optionalsRegExp,"")),output}function formatNumbro(n,format,roundingFunction){var escapedFormat=format.replace(/\{[^\{\}]*\}/g,"");return-1<escapedFormat.indexOf("$")?formatCurrency(n,cultures[currentCulture].currency.symbol,format,roundingFunction):-1<escapedFormat.indexOf("%")?function(n,format,roundingFunction){var output,space="",value=100*n._value;format=-1<format.indexOf(" %")?(space=" ",format.replace(" %","")):format.replace("%","");output=-1<(output=formatNumber(value,format,roundingFunction)).indexOf(")")?((output=output.split("")).splice(-1,0,space+"%"),output.join("")):output+space+"%";return output}(n,format,roundingFunction):-1<escapedFormat.indexOf(":")?function(n){var hours=Math.floor(n._value/60/60),minutes=Math.floor((n._value-60*hours*60)/60),seconds=Math.round(n._value-60*hours*60-60*minutes);return hours+":"+(minutes<10?"0"+minutes:minutes)+":"+(seconds<10?"0"+seconds:seconds)}(n):formatNumber(n._value,format,roundingFunction)}function unformatNumbro(n,string){var thousandRegExp,millionRegExp,billionRegExp,trillionRegExp,power,stringOriginal=string,bytesMultiplier=!1;if(-1<string.indexOf(":"))n._value=function(string){var timeArray=string.split(":"),seconds=0;3===timeArray.length?(seconds+=60*Number(timeArray[0])*60,seconds+=60*Number(timeArray[1]),seconds+=Number(timeArray[2])):2===timeArray.length&&(seconds+=60*Number(timeArray[0]),seconds+=Number(timeArray[1]));return Number(seconds)}(string);else if(string===zeroFormat)n._value=0;else{for("."!==cultures[currentCulture].delimiters.decimal&&(string=string.replace(/\./g,"").replace(cultures[currentCulture].delimiters.decimal,".")),thousandRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.thousand+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),millionRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.million+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),billionRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.billion+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),trillionRegExp=new RegExp("[^a-zA-Z]"+cultures[currentCulture].abbreviations.trillion+"(?:\\)|(\\"+cultures[currentCulture].currency.symbol+")?(?:\\))?)?$"),power=1;power<binarySuffixes.length&&!bytesMultiplier;++power)-1<string.indexOf(binarySuffixes[power])?bytesMultiplier=Math.pow(1024,power):-1<string.indexOf(decimalSuffixes[power])&&(bytesMultiplier=Math.pow(1e3,power));var str=string.replace(/[^0-9\.]+/g,"");""===str?n._value=NaN:(n._value=(bytesMultiplier||1)*(stringOriginal.match(thousandRegExp)?Math.pow(10,3):1)*(stringOriginal.match(millionRegExp)?Math.pow(10,6):1)*(stringOriginal.match(billionRegExp)?Math.pow(10,9):1)*(stringOriginal.match(trillionRegExp)?Math.pow(10,12):1)*(-1<string.indexOf("%")?.01:1)*((string.split("-").length+Math.min(string.split("(").length-1,string.split(")").length-1))%2?1:-1)*Number(str),n._value=bytesMultiplier?Math.ceil(n._value):n._value)}return n._value}function formatCurrency(n,currencySymbol,originalFormat,roundingFunction){var spliceIndex,output,format=originalFormat,symbolIndex=format.indexOf("$"),openParenIndex=format.indexOf("("),plusSignIndex=format.indexOf("+"),minusSignIndex=format.indexOf("-"),space="",decimalSeparator="";if(-1===format.indexOf("$")?"infix"===cultures[currentCulture].currency.position?(decimalSeparator=currencySymbol,cultures[currentCulture].currency.spaceSeparated&&(decimalSeparator=" "+decimalSeparator+" ")):cultures[currentCulture].currency.spaceSeparated&&(space=" "):format=-1<format.indexOf(" $")?(space=" ",format.replace(" $","")):-1<format.indexOf("$ ")?(space=" ",format.replace("$ ","")):format.replace("$",""),output=formatNumber(n._value,format,roundingFunction,decimalSeparator),-1===originalFormat.indexOf("$"))switch(cultures[currentCulture].currency.position){case"postfix":output=-1<output.indexOf(")")?((output=output.split("")).splice(-1,0,space+currencySymbol),output.join("")):output+space+currencySymbol;break;case"infix":break;case"prefix":output=-1<output.indexOf("(")||-1<output.indexOf("-")?(output=output.split(""),spliceIndex=Math.max(openParenIndex,minusSignIndex)+1,output.splice(spliceIndex,0,currencySymbol+space),output.join("")):currencySymbol+space+output;break;default:throw Error('Currency position should be among ["prefix", "infix", "postfix"]')}else output=symbolIndex<=1?-1<output.indexOf("(")||-1<output.indexOf("+")||-1<output.indexOf("-")?(spliceIndex=1,(symbolIndex<openParenIndex||symbolIndex<plusSignIndex||symbolIndex<minusSignIndex)&&(spliceIndex=0),(output=output.split("")).splice(spliceIndex,0,currencySymbol+space),output.join("")):currencySymbol+space+output:-1<output.indexOf(")")?((output=output.split("")).splice(-1,0,space+currencySymbol),output.join("")):output+space+currencySymbol;return output}function formatByteUnits(value,suffixes,scale){var power,min,max,suffix=suffixes[0],abs=Math.abs(value);if(scale<=abs){for(power=1;power<suffixes.length;++power)if(min=Math.pow(scale,power),max=Math.pow(scale,power+1),min<=abs&&abs<max){suffix=suffixes[power],value/=min;break}suffix===suffixes[0]&&(value/=Math.pow(scale,suffixes.length-1),suffix=suffixes[suffixes.length-1])}return{value:value,suffix:suffix}}function formatNumber(value,format,roundingFunction,sep){var byteFormat,units,totalLength,length,minimumPrecision,pow,w,intPrecision,precision,prefix,postfix,thousands,minlen,i,info,negP=!1,signed=!1,optDec=!1,abbr="",abbrK=!1,abbrM=!1,abbrB=!1,abbrT=!1,abbrForce=!1,bytes="",ord="",abs=Math.abs(value),d="",forcedNeg=!1,neg=!1;if(0===value&&null!==zeroFormat)return zeroFormat;if(!isFinite(value))return""+value;if(0===format.indexOf("{")){var end=format.indexOf("}");if(-1===end)throw Error('Format should also contain a "}"');prefix=format.slice(1,end),format=format.slice(end+1)}else prefix="";if(format.indexOf("}")===format.length-1&&format.length){var start=format.indexOf("{");if(-1===start)throw Error('Format should also contain a "{"');postfix=format.slice(start+1,-1),format=format.slice(0,start+1)}else postfix="";for(minlen=null===(info=-1===format.indexOf(".")?format.match(/([0-9]+).*/):format.match(/([0-9]+)\..*/))?-1:info[1].length,-1!==format.indexOf("-")&&(forcedNeg=!0),-1<format.indexOf("(")?(negP=!0,format=format.slice(1,-1)):-1<format.indexOf("+")&&(signed=!0,format=format.replace(/\+/g,"")),-1<format.indexOf("a")&&(intPrecision=format.split(".")[0].match(/[0-9]+/g)||["0"],intPrecision=parseInt(intPrecision[0],10),abbrK=0<=format.indexOf("aK"),abbrM=0<=format.indexOf("aM"),abbrB=0<=format.indexOf("aB"),abbrT=0<=format.indexOf("aT"),abbrForce=abbrK||abbrM||abbrB||abbrT,format=-1<format.indexOf(" a")?(abbr=" ",format.replace(" a","")):format.replace("a",""),minimumPrecision=0===(minimumPrecision=(totalLength=numberLength(value))%3)?3:minimumPrecision,intPrecision&&0!==abs&&(pow=3*~~((Math.min(intPrecision,totalLength)-minimumPrecision)/3),abs/=Math.pow(10,pow)),totalLength!==intPrecision&&(abs>=Math.pow(10,12)&&!abbrForce||abbrT?(abbr+=cultures[currentCulture].abbreviations.trillion,value/=Math.pow(10,12)):abs<Math.pow(10,12)&&abs>=Math.pow(10,9)&&!abbrForce||abbrB?(abbr+=cultures[currentCulture].abbreviations.billion,value/=Math.pow(10,9)):abs<Math.pow(10,9)&&abs>=Math.pow(10,6)&&!abbrForce||abbrM?(abbr+=cultures[currentCulture].abbreviations.million,value/=Math.pow(10,6)):(abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&!abbrForce||abbrK)&&(abbr+=cultures[currentCulture].abbreviations.thousand,value/=Math.pow(10,3))),length=numberLength(value),intPrecision&&length<intPrecision&&-1===format.indexOf(".")&&(format+="[.]",format+=zeroes(intPrecision-length))),i=0;i<byteFormatOrder.length;++i)if(byteFormat=byteFormatOrder[i],-1<format.indexOf(byteFormat.marker)){-1<format.indexOf(" "+byteFormat.marker)&&(bytes=" "),format=format.replace(bytes+byteFormat.marker,""),value=(units=formatByteUnits(value,byteFormat.suffixes,byteFormat.scale)).value,bytes+=units.suffix;break}if(-1<format.indexOf("o")&&(format=-1<format.indexOf(" o")?(ord=" ",format.replace(" o","")):format.replace("o",""),cultures[currentCulture].ordinal&&(ord+=cultures[currentCulture].ordinal(value))),-1<format.indexOf("[.]")&&(optDec=!0,format=format.replace("[.]",".")),precision=format.split(".")[1],thousands=format.indexOf(","),precision){var dSplit=[];if(-1!==precision.indexOf("*")?1<(dSplit=(d=value.toString()).split(".")).length&&(d=toFixed(value,dSplit[1].length,roundingFunction)):d=-1<precision.indexOf("[")?toFixed(value,(precision=(precision=precision.replace("]","")).split("["))[0].length+precision[1].length,roundingFunction,precision[1].length):toFixed(value,precision.length,roundingFunction),w=(dSplit=d.split("."))[0],1<dSplit.length&&dSplit[1].length)d=(sep?abbr+sep:cultures[currentCulture].delimiters.decimal)+dSplit[1];else d="";optDec&&0===Number(d.slice(1))&&(d="")}else w=toFixed(value,0,roundingFunction);return-1<w.indexOf("-")&&(w=w.slice(1),neg=!0),w.length<minlen&&(w=zeroes(minlen-w.length)+w),-1<thousands&&(w=w.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+cultures[currentCulture].delimiters.thousands)),0===format.indexOf(".")&&(w=""),prefix+(format.indexOf("(")<format.indexOf("-")?(negP&&neg?"(":"")+(forcedNeg&&neg||!negP&&neg?"-":""):(forcedNeg&&neg||!negP&&neg?"-":"")+(negP&&neg?"(":""))+(!neg&&signed&&0!==value?"+":"")+w+d+(ord||"")+(abbr&&!sep?abbr:"")+(bytes||"")+(negP&&neg?")":"")+postfix}function setCulture(code,values){cultures[code]=values}function chooseCulture(code){var defaults=cultures[currentCulture=code].defaults;defaults&&defaults.format&&numbro.defaultFormat(defaults.format),defaults&&defaults.currencyFormat&&numbro.defaultCurrencyFormat(defaults.currencyFormat)}function multiplier(x){var parts=x.toString().split(".");return parts.length<2?1:Math.pow(10,parts[1].length)}function correctionFactor(){return Array.prototype.slice.call(arguments).reduce(function(prev,next){var mp=multiplier(prev),mn=multiplier(next);return mn<mp?mp:mn},-1/0)}(numbro=function(input){return input=numbro.isNumbro(input)?input.value():"string"==typeof input||"number"==typeof input?numbro.fn.unformat(input):NaN,new Numbro(Number(input))}).version="1.11.0",numbro.isNumbro=function(obj){return obj instanceof Numbro},numbro.setLanguage=function(newLanguage,fallbackLanguage){console.warn("`setLanguage` is deprecated since version 1.6.0. Use `setCulture` instead");var key=newLanguage,prefix=newLanguage.split("-")[0],matchingLanguage=null;languages[key]||(Object.keys(languages).forEach(function(language){matchingLanguage||language.split("-")[0]!==prefix||(matchingLanguage=language)}),key=matchingLanguage||fallbackLanguage||"en-US"),chooseCulture(key)},numbro.setCulture=function(newCulture,fallbackCulture){var key=newCulture,suffix=newCulture.split("-")[1],matchingCulture=null;cultures[key]||(suffix&&Object.keys(cultures).forEach(function(language){matchingCulture||language.split("-")[1]!==suffix||(matchingCulture=language)}),key=matchingCulture||fallbackCulture||"en-US"),chooseCulture(key)},numbro.language=function(key,values){if(console.warn("`language` is deprecated since version 1.6.0. Use `culture` instead"),!key)return currentCulture;if(key&&!values){if(!languages[key])throw new Error("Unknown language : "+key);chooseCulture(key)}return!values&&languages[key]||setCulture(key,values),numbro},numbro.culture=function(code,values){if(!code)return currentCulture;if(code&&!values){if(!cultures[code])throw new Error("Unknown culture : "+code);chooseCulture(code)}return!values&&cultures[code]||setCulture(code,values),numbro},numbro.languageData=function(key){if(console.warn("`languageData` is deprecated since version 1.6.0. Use `cultureData` instead"),!key)return languages[currentCulture];if(!languages[key])throw new Error("Unknown language : "+key);return languages[key]},numbro.cultureData=function(code){if(!code)return cultures[currentCulture];if(!cultures[code])throw new Error("Unknown culture : "+code);return cultures[code]},numbro.culture("en-US",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(number){var b=number%10;return 1==~~(number%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",0000 a"},formats:{fourDigits:"0000 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00"}}),numbro.languages=function(){return console.warn("`languages` is deprecated since version 1.6.0. Use `cultures` instead"),languages},numbro.cultures=function(){return cultures},numbro.zeroFormat=function(format){zeroFormat="string"==typeof format?format:null},numbro.defaultFormat=function(format){defaultFormat="string"==typeof format?format:"0.0"},numbro.defaultCurrencyFormat=function(format){defaultCurrencyFormat="string"==typeof format?format:"0$"},numbro.validate=function(val,culture){var _decimalSep,_thousandSep,_currSymbol,_valArray,_abbrObj,_thousandRegEx,cultureData,temp;if("string"!=typeof val&&(val+="",console.warn&&console.warn("Numbro.js: Value is not string. It has been co-erced to: ",val)),(val=(val=val.trim()).replace(/^[+-]?/,"")).match(/^\d+$/))return!0;if(""===val)return!1;try{cultureData=numbro.cultureData(culture)}catch(e){cultureData=numbro.cultureData(numbro.culture())}return _currSymbol=cultureData.currency.symbol,_abbrObj=cultureData.abbreviations,_decimalSep=cultureData.delimiters.decimal,_thousandSep="."===cultureData.delimiters.thousands?"\\.":cultureData.delimiters.thousands,(null===(temp=val.match(/^[^\d\.\,]+/))||(val=val.substr(1),temp[0]===_currSymbol))&&((null===(temp=val.match(/[^\d]+$/))||(val=val.slice(0,-1),temp[0]===_abbrObj.thousand||temp[0]===_abbrObj.million||temp[0]===_abbrObj.billion||temp[0]===_abbrObj.trillion))&&(_thousandRegEx=new RegExp(_thousandSep+"{2}"),!val.match(/[^\d.,]/g)&&(!(2<(_valArray=val.split(_decimalSep)).length)&&(_valArray.length<2?!!_valArray[0].match(/^\d+.*\d$/)&&!_valArray[0].match(_thousandRegEx):""===_valArray[0]?!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/):1===_valArray[0].length?!!_valArray[0].match(/^\d+$/)&&!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/):!!_valArray[0].match(/^\d+.*\d$/)&&!_valArray[0].match(_thousandRegEx)&&!!_valArray[1].match(/^\d+$/)))))},numbro.loadLanguagesInNode=function(){console.warn("`loadLanguagesInNode` is deprecated since version 1.6.0. Use `loadCulturesInNode` instead"),numbro.loadCulturesInNode()},numbro.loadCulturesInNode=function(){var cultures=require("./languages");for(var langLocaleCode in cultures)langLocaleCode&&numbro.culture(langLocaleCode,cultures[langLocaleCode])},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(callback,optInitialValue){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");var index,value,length=this.length>>>0,isValueSet=!1;for(1<arguments.length&&(value=optInitialValue,isValueSet=!0),index=0;index<length;++index)this.hasOwnProperty(index)&&(isValueSet?value=callback(value,this[index],index,this):(value=this[index],isValueSet=!0));if(!isValueSet)throw new TypeError("Reduce of empty array with no initial value");return value}),numbro.fn=Numbro.prototype={clone:function(){return numbro(this)},format:function(inputString,roundingFunction){return formatNumbro(this,inputString||defaultFormat,void 0!==roundingFunction?roundingFunction:Math.round)},formatCurrency:function(inputString,roundingFunction){return formatCurrency(this,cultures[currentCulture].currency.symbol,inputString||defaultCurrencyFormat,void 0!==roundingFunction?roundingFunction:Math.round)},formatForeignCurrency:function(currencySymbol,inputString,roundingFunction){return function(n,foreignCurrencySymbol,originalFormat,roundingFunction){return formatCurrency(n,foreignCurrencySymbol,originalFormat,roundingFunction)}(this,currencySymbol,inputString||defaultCurrencyFormat,void 0!==roundingFunction?roundingFunction:Math.round)},unformat:function(inputString){if("number"==typeof inputString)return inputString;if("string"==typeof inputString){var result=unformatNumbro(this,inputString);return isNaN(result)?void 0:result}},binaryByteUnits:function(){return formatByteUnits(this._value,bytes.binary.suffixes,bytes.binary.scale).suffix},byteUnits:function(){return formatByteUnits(this._value,bytes.general.suffixes,bytes.general.scale).suffix},decimalByteUnits:function(){return formatByteUnits(this._value,bytes.decimal.suffixes,bytes.decimal.scale).suffix},value:function(){return this._value},valueOf:function(){return this._value},set:function(value){return this._value=Number(value),this},add:function(value){var corrFactor=correctionFactor.call(null,this._value,value);return this._value=[this._value,value].reduce(function(accum,curr){return accum+corrFactor*curr},0)/corrFactor,this},subtract:function(value){var corrFactor=correctionFactor.call(null,this._value,value);return this._value=[value].reduce(function(accum,curr){return accum-corrFactor*curr},this._value*corrFactor)/corrFactor,this},multiply:function(value){return this._value=[this._value,value].reduce(function(accum,curr){var corrFactor=correctionFactor(accum,curr),result=accum*corrFactor;return result*=curr*corrFactor,result/=corrFactor*corrFactor},1),this},divide:function(value){return this._value=[this._value,value].reduce(function(accum,curr){var corrFactor=correctionFactor(accum,curr);return accum*corrFactor/(curr*corrFactor)}),this},difference:function(value){return Math.abs(numbro(this._value).subtract(value).value())}},void 0!==process&&void 0===process.browser&&process.title&&(-1!==process.title.indexOf("node")||0<process.title.indexOf("meteor-tool")||"grunt"===process.title||"gulp"===process.title)&&void 0!==require&&numbro.loadCulturesInNode(),hasModule?module.exports=numbro:("undefined"==typeof ender&&(this.numbro=numbro),"function"==typeof define&&define.amd&&define([],function(){return numbro}))}).call("undefined"==typeof window?this:window)}).call(this,require("_process"))},{"./languages":38,_process:71}],68:[function(require,module,exports){var global,factory;global=this,factory=function(){"use strict";var hookCallback,some;function hooks(){return hookCallback.apply(null,arguments)}function isArray(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function isObject(input){return null!=input&&"[object Object]"===Object.prototype.toString.call(input)}function isUndefined(input){return void 0===input}function isNumber(input){return"number"==typeof input||"[object Number]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function getParsingFlags(m){return null==m._pf&&(m._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),m._pf}function isValid(m){if(null==m._isValid){var flags=getParsingFlags(m),parsedParts=some.call(flags.parsedDateParts,function(i){return null!=i}),isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.weekdayMismatch&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict&&(isNowValid=isNowValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour),null!=Object.isFrozen&&Object.isFrozen(m))return isNowValid;m._isValid=isNowValid}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}some=Array.prototype.some?Array.prototype.some:function(fun){for(var t=Object(this),len=t.length>>>0,i=0;i<len;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1};var momentProperties=hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),0<momentProperties.length)for(i=0;i<momentProperties.length;i++)isUndefined(val=from[prop=momentProperties[i]])||(to[prop]=val);return to}var updateInProgress=!1;function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===updateInProgress&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return number<0?Math.ceil(number)||0:Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!=coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function warn(msg){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,msg),firstTime){for(var arg,args=[],i=0;i<arguments.length;i++){if(arg="","object"==typeof arguments[i]){for(var key in arg+="\n["+i+"] ",arguments[0])arg+=key+": "+arguments[0][key]+", ";arg=arg.slice(0,-2)}else arg=arguments[i];args.push(arg)}warn(msg+"\nArguments: "+Array.prototype.slice.call(args).join("")+"\n"+(new Error).stack),firstTime=!1}return fn.apply(this,arguments)},fn)}var keys,deprecations={};function deprecateSimple(name,msg){null!=hooks.deprecationHandler&&hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);for(prop in parentConfig)hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])&&(res[prop]=extend({},res[prop]));return res}function Locale(config){null!=config&&this.set(config)}hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null,keys=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res};var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop))&&(normalizedInput[normalizedProp]=inputObject[prop]);return normalizedInput}var priorities={};function addUnitPriority(unit,priority){priorities[unit]=priority}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length;return(0<=number?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||function(format){var i,length,input,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=(input=array[i]).match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"");return function(mom){var i,output="";for(i=0;i<length;i++)output+=isFunction(array[i])?array[i].call(mom,format):array[i];return output}}(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}for(localFormattingTokens.lastIndex=0;0<=i&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(function(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}(token))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),isNumber(callback)&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4==0&&year%100!=0||year%400==0}addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),hooks.parseTwoDigitYear=function(input){return toInt(input)+(68<toInt(input)?1900:2e3)};var indexOf,getSetYear=makeGetSet("FullYear",!0);function makeGetSet(unit,keepTime){return function(value){return null!=value?(set$1(this,unit,value),hooks.updateOffset(this,keepTime),this):get(this,unit)}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){mom.isValid()&&!isNaN(value)&&("FullYear"===unit&&isLeapYear(mom.year())&&1===mom.month()&&29===mom.date()?mom._d["set"+(mom._isUTC?"UTC":"")+unit](value,mom.month(),daysInMonth(value,mom.month())):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value))}function daysInMonth(year,month){if(isNaN(year)||isNaN(month))return NaN;var modMonth=function(n,x){return(n%x+x)%x}(month,12);return year+=(month-modMonth)/12,1===modMonth?isLeapYear(year)?29:28:31-modMonth%7%2}indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(!isNumber(value=mom.localeData().monthsParse(value)))return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),hooks.updateOffset(this,!0),this):get(this,"Month")}var defaultMonthsShortRegex=matchWord;var defaultMonthsRegex=matchWord;function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<12;i++)mom=createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<12;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]);for(i=0;i<24;i++)mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<100&&0<=y&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy;return fwd-(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,dayOfYear=1+7*(week-1)+(7+weekday-dow)%7+firstWeekOffset(year,dow,doy);return resDayOfYear=dayOfYear<=0?daysInYear(resYear=year-1)+dayOfYear:dayOfYear>daysInYear(year)?(resYear=year+1,dayOfYear-daysInYear(year)):(resYear=year,dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return week<1?resWeek=week+weeksInYear(resYear=mom.year()-1,dow,doy):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var defaultWeekdaysRegex=matchWord;var defaultWeekdaysShortRegex=matchWord;var defaultWeekdaysMinRegex=matchWord;function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<7;i++)mom=createUTC([2e3,1]).day(i),minp=this.weekdaysMin(mom,""),shortp=this.weekdaysShort(mom,""),longp=this.weekdays(mom,""),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);for(minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<7;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,function(){return this.hours()||24}),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("k",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("kk",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["k","kk"],function(input,array,config){var kInput=toInt(input);array[HOUR]=24===kInput?0:kInput}),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var globalLocale,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:{dow:0,doy:6},weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:/[ap]\.?m?\.?/i},locales={},localeFamilies={};function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function loadLocale(name){var oldLocale=null;if(!locales[name]&&void 0!==module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function getSetGlobalLocale(key,values){var data;return key&&((data=isUndefined(values)?getLocale(key):defineLocale(key,values))?globalLocale=data:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+key+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(name,config){if(null===config)return delete locales[name],null;var locale,parentConfig=baseConfig;if(config.abbr=name,null!=locales[name])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),parentConfig=locales[name]._config;else if(null!=config.parentLocale)if(null!=locales[config.parentLocale])parentConfig=locales[config.parentLocale]._config;else{if(null==(locale=loadLocale(config.parentLocale)))return localeFamilies[config.parentLocale]||(localeFamilies[config.parentLocale]=[]),localeFamilies[config.parentLocale].push({name:name,config:config}),null;parentConfig=locale._config}return locales[name]=new Locale(mergeConfigs(parentConfig,config)),localeFamilies[name]&&localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)}),getSetGlobalLocale(name),locales[name]}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return function(names){for(var j,next,locale,split,i=0;i<names.length;){for(j=(split=normalizeLocale(names[i]).split("-")).length,next=(next=normalizeLocale(names[i+1]))?next.split("-"):null;0<j;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return globalLocale}(key)}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||11<a[MONTH]?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||24<a[HOUR]||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||59<a[MINUTE]?MINUTE:a[SECOND]<0||59<a[SECOND]?SECOND:a[MILLISECOND]<0||999<a[MILLISECOND]?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||DATE<overflow)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&-1===overflow&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&-1===overflow&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function configFromArray(config){var i,date,currentDate,expectedWeekday,yearToUse,input=[];if(!config._d){for(currentDate=function(config){var nowValue=new Date(hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&function(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;if(null!=(w=config._w).GG||null!=w.W||null!=w.E)dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year),week=defaults(w.W,1),((weekday=defaults(w.E,1))<1||7<weekday)&&(weekdayOverflow=!0);else{dow=config._locale._week.dow,doy=config._locale._week.doy;var curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year),week=defaults(w.w,curWeek.week),null!=w.d?((weekday=w.d)<0||6<weekday)&&(weekdayOverflow=!0):null!=w.e?(weekday=w.e+dow,(w.e<0||6<w.e)&&(weekdayOverflow=!0)):weekday=dow}week<1||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}(config),null!=config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),(config._dayOfYear>daysInYear(yearToUse)||0===config._dayOfYear)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:function(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return y<100&&0<=y&&isFinite(date.getFullYear())&&date.setFullYear(y),date}).apply(null,input),expectedWeekday=config._useUTC?config._d.getUTCDay():config._d.getDay(),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24),config._w&&void 0!==config._w.d&&config._w.d!==expectedWeekday&&(getParsingFlags(config).weekdayMismatch=!0)}}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=!1!==isoDates[i][2];break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4]){if(!tzRegex.exec(match[4]))return void(config._isValid=!1);tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}var rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function extractFromRFC2822Strings(yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr){var result=[function(yearStr){var year=parseInt(yearStr,10);{if(year<=49)return 2e3+year;if(year<=999)return 1900+year}return year}(yearStr),defaultLocaleMonthsShort.indexOf(monthStr),parseInt(dayStr,10),parseInt(hourStr,10),parseInt(minuteStr,10)];return secondStr&&result.push(parseInt(secondStr,10)),result}var obsOffsets={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function configFromRFC2822(config){var match=rfc2822.exec(function(s){return s.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(config._i));if(match){var parsedArray=extractFromRFC2822Strings(match[4],match[3],match[2],match[5],match[6],match[7]);if(!function(weekdayStr,parsedInput,config){return!weekdayStr||defaultLocaleWeekdaysShort.indexOf(weekdayStr)===new Date(parsedInput[0],parsedInput[1],parsedInput[2]).getDay()||(getParsingFlags(config).weekdayMismatch=!0,config._isValid=!1)}(match[1],parsedArray,config))return;config._a=parsedArray,config._tzm=function(obsOffset,militaryOffset,numOffset){if(obsOffset)return obsOffsets[obsOffset];if(militaryOffset)return 0;var hm=parseInt(numOffset,10),m=hm%100;return(hm-m)/100*60+m}(match[8],match[9],match[10]),config._d=createUTCDate.apply(null,config._a),config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),getParsingFlags(config).rfc2822=!0}else config._isValid=!1}function configFromStringAndFormat(config){if(config._f!==hooks.ISO_8601)if(config._f!==hooks.RFC_2822){config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],(parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0])&&(0<(skipped=string.substr(0,string.indexOf(parsedInput))).length&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,0<string.length&&getParsingFlags(config).unusedInput.push(string),config._a[HOUR]<=12&&!0===getParsingFlags(config).bigHour&&0<config._a[HOUR]&&(getParsingFlags(config).bigHour=void 0),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=function(locale,hour,meridiem){var isPm;if(null==meridiem)return hour;return null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):(null!=locale.isPM&&((isPm=locale.isPM(meridiem))&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0)),hour)}(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}else configFromRFC2822(config);else configFromISO(config)}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||getLocale(config._l),null===input||void 0===format&&""===input?createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isDate(input)?config._d=input:isArray(format)?function(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,config._d=new Date(NaN);for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}(config):format?configFromStringAndFormat(config):function(config){var input=config._i;isUndefined(input)?config._d=new Date(hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?function(config){var matched=aspNetJsonRegex.exec(config._i);null===matched?(configFromISO(config),!1===config._isValid&&(delete config._isValid,configFromRFC2822(config),!1===config._isValid&&(delete config._isValid,hooks.createFromInputFallback(config)))):config._d=new Date(+matched[1])}(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):isObject(input)?function(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}(config):isNumber(input)?config._d=new Date(input):hooks.createFromInputFallback(config)}(config),isValid(config)||(config._d=null),config))}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return!0!==locale&&!1!==locale||(strict=locale,locale=void 0),(isObject(input)&&function(obj){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(obj).length;var k;for(k in obj)if(obj.hasOwnProperty(k))return!1;return!0}(input)||isArray(input)&&0===input.length)&&(input=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,function(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}(c)}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?this<other?this:other:createInvalid()});function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}var ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||normalizedInput.isoWeek||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=function(m){for(var key in m)if(-1===indexOf.call(ordering,key)||null!=m[key]&&isNaN(m[key]))return!1;for(var unitHasDecimal=!1,i=0;i<ordering.length;++i)if(m[ordering[i]]){if(unitHasDecimal)return!1;parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])&&(unitHasDecimal=!0)}return!0}(normalizedInput),this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+1e3*hours*60*60,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){return number<0?-1*Math.round(-1*number):Math.round(number)}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||"").match(matcher);if(null===matches)return null;var parts=((matches[matches.length-1]||[])+"").match(chunkOffset)||["-",0,0],minutes=60*parts[1]+toInt(parts[2]);return 0===minutes?0:"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),hooks.updateOffset(res,!1),res):createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}hooks.updateOffset=function(){};var aspNetRegex=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:isNumber(input)?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(1e3*match[MILLISECOND]))*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=function(base,other){var res;if(!base.isValid()||!other.isValid())return{milliseconds:0,months:0};other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):((res=positiveMomentsDifference(other,base)).milliseconds=-res.milliseconds,res.months=-res.months);return res}(createLocal(duration.from),createLocal(duration.to)),(duration={}).ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function createAdder(direction,name){return function(val,period){var tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),tmp=val,val=period,period=tmp),addSubtract(this,createDuration(val="string"==typeof val?+val:val,period),direction),this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset||updateOffset,months&&setMonth(mom,get(mom,"Month")+months*isAdding),days&&set$1(mom,"Date",get(mom,"Date")+days*isAdding),milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),updateOffset&&hooks.updateOffset(mom,days||months))}createDuration.fn=Duration.prototype,createDuration.invalid=function(){return createDuration(NaN)};var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function monthDiff(a,b){var wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return-(wholeMonthDiff+(b-anchor<0?(b-anchor)/(anchor-a.clone().add(wholeMonthDiff-1,"months")):(b-anchor)/(a.clone().add(1+wholeMonthDiff,"months")-anchor)))||0}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(null!=(newLocaleData=getLocale(key))&&(this._locale=newLocaleData),this)}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});function localeData(){return this._locale}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:((weeksTarget=weeksInYear(input,dow,doy))<week&&(week=weeksTarget),function(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}.call(this,input,week,weekday,dow,doy))}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._dayOfMonthOrdinalParse||locale._ordinalParse:locale._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var token,getSetSecond=makeGetSet("Seconds",!1);for(addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3),token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;function preParsePostFormat(string){return string}proto.add=add,proto.calendar=function(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))},proto.clone=function(){return new Moment(this)},proto.diff=function(input,units,asFloat){var that,zoneDelta,output;if(!this.isValid())return NaN;if(!(that=cloneWithOffset(input,this)).isValid())return NaN;switch(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),units=normalizeUnits(units)){case"year":output=monthDiff(this,that)/12;break;case"month":output=monthDiff(this,that);break;case"quarter":output=monthDiff(this,that)/3;break;case"second":output=(this-that)/1e3;break;case"minute":output=(this-that)/6e4;break;case"hour":output=(this-that)/36e5;break;case"day":output=(this-that-zoneDelta)/864e5;break;case"week":output=(this-that-zoneDelta)/6048e5;break;default:output=this-that}return asFloat?output:absFloor(output)},proto.endOf=function(units){return void 0===(units=normalizeUnits(units))||"millisecond"===units?this:("date"===units&&(units="day"),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms"))},proto.format=function(inputString){inputString||(inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)},proto.from=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.fromNow=function(withoutSuffix){return this.from(createLocal(),withoutSuffix)},proto.to=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.toNow=function(withoutSuffix){return this.to(createLocal(),withoutSuffix)},proto.get=function(units){return isFunction(this[units=normalizeUnits(units)])?this[units]():this},proto.invalidAt=function(){return getParsingFlags(this).overflow},proto.isAfter=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(units)||"millisecond")?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf())},proto.isBefore=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(units)||"millisecond")?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf())},proto.isBetween=function(from,to,units,inclusivity){var localFrom=isMoment(from)?from:createLocal(from),localTo=isMoment(to)?to:createLocal(to);return!!(this.isValid()&&localFrom.isValid()&&localTo.isValid())&&("("===(inclusivity=inclusivity||"()")[0]?this.isAfter(localFrom,units):!this.isBefore(localFrom,units))&&(")"===inclusivity[1]?this.isBefore(localTo,units):!this.isAfter(localTo,units))},proto.isSame=function(input,units){var inputMs,localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(units)||"millisecond")?this.valueOf()===localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()))},proto.isSameOrAfter=function(input,units){return this.isSame(input,units)||this.isAfter(input,units)},proto.isSameOrBefore=function(input,units){return this.isSame(input,units)||this.isBefore(input,units)},proto.isValid=function(){return isValid(this)},proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=function(){return extend({},getParsingFlags(this))},proto.set=function(units,value){if("object"==typeof units)for(var prioritized=function(unitsObj){var units=[];for(var u in unitsObj)units.push({unit:u,priority:priorities[u]});return units.sort(function(a,b){return a.priority-b.priority}),units}(units=normalizeObjectUnits(units)),i=0;i<prioritized.length;i++)this[prioritized[i].unit](units[prioritized[i].unit]);else if(isFunction(this[units=normalizeUnits(units)]))return this[units](value);return this},proto.startOf=function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},proto.subtract=subtract,proto.toArray=function(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},proto.toObject=function(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},proto.toDate=function(){return new Date(this.valueOf())},proto.toISOString=function(keepOffset){if(!this.isValid())return null;var utc=!0!==keepOffset,m=utc?this.clone().utc():this;return m.year()<0||9999<m.year()?formatMoment(m,utc?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction(Date.prototype.toISOString)?utc?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",formatMoment(m,"Z")):formatMoment(m,utc?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},proto.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var func="moment",zone="";this.isLocal()||(func=0===this.utcOffset()?"moment.utc":"moment.parseZone",zone="Z");var prefix="["+func+'("]',year=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",suffix=zone+'[")]';return this.format(prefix+year+"-MM-DD[T]HH:mm:ss.SSS"+suffix)},proto.toJSON=function(){return this.isValid()?this.toISOString():null},proto.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},proto.unix=function(){return Math.floor(this.valueOf()/1e3)},proto.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},proto.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},proto.year=getSetYear,proto.isLeapYear=function(){return isLeapYear(this.year())},proto.weekYear=function(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},proto.isoWeekYear=function(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)},proto.quarter=proto.quarters=function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},proto.month=getSetMonth,proto.daysInMonth=function(){return daysInMonth(this.year(),this.month())},proto.week=proto.weeks=function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},proto.isoWeek=proto.isoWeeks=function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},proto.weeksInYear=function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},proto.isoWeeksInYear=function(){return weeksInYear(this.year(),1,4)},proto.date=getSetDayOfMonth,proto.day=proto.days=function(input){if(!this.isValid())return null!=input?this:NaN;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=function(input,locale){return"string"!=typeof input?input:isNaN(input)?"number"==typeof(input=locale.weekdaysParse(input))?input:null:parseInt(input,10)}(input,this.localeData()),this.add(input-day,"d")):day},proto.weekday=function(input){if(!this.isValid())return null!=input?this:NaN;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},proto.isoWeekday=function(input){if(!this.isValid())return null!=input?this:NaN;if(null==input)return this.day()||7;var weekday=function(input,locale){return"string"==typeof input?locale.weekdaysParse(input)%7||7:isNaN(input)?null:input}(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)},proto.dayOfYear=function(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=function(input,keepLocalTime,keepMinutes){var localAdjust,offset=this._offset||0;if(!this.isValid())return null!=input?this:NaN;if(null==input)return this._isUTC?offset:getDateOffset(this);if("string"==typeof input){if(null===(input=offsetFromString(matchShortOffset,input)))return this}else Math.abs(input)<16&&!keepMinutes&&(input*=60);return!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addSubtract(this,createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this},proto.utc=function(keepLocalTime){return this.utcOffset(0,keepLocalTime)},proto.local=function(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this},proto.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var tZone=offsetFromString(matchOffset,this._i);null!=tZone?this.utcOffset(tZone):this.utcOffset(0,!0)}return this},proto.hasAlignedHourOffset=function(input){return!!this.isValid()&&(input=input?createLocal(input).utcOffset():0,(this.utcOffset()-input)%60==0)},proto.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},proto.isLocal=function(){return!!this.isValid()&&!this._isUTC},proto.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=function(){return this._isUTC?"UTC":""},proto.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),(c=prepareConfig(c))._a){var other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&0<compareArrays(c._a,other.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var proto$1=Locale.prototype;function get$1(format,index,field,setter){var locale=getLocale(),utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(isNumber(format)&&(index=format,format=void 0),format=format||"",null!=index)return get$1(format,index,field,"month");var i,out=[];for(i=0;i<12;i++)out[i]=get$1(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){format=("boolean"==typeof localeSorted?isNumber(format)&&(index=format,format=void 0):(format=localeSorted,localeSorted=!1,isNumber(index=format)&&(index=format,format=void 0)),format||"");var i,locale=getLocale(),shift=localeSorted?locale._week.dow:0;if(null!=index)return get$1(format,(index+shift)%7,field,"day");var out=[];for(i=0;i<7;i++)out[i]=get$1(format,(i+shift)%7,field,"day");return out}proto$1.calendar=function(key,mom,now){var output=this._calendar[key]||this._calendar.sameElse;return isFunction(output)?output.call(mom,now):output},proto$1.longDateFormat=function(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])},proto$1.invalidDate=function(){return this._invalidDate},proto$1.ordinal=function(number){return this._ordinal.replace("%d",number)},proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},proto$1.pastFuture=function(diff,output){var format=this._relativeTime[0<diff?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)},proto$1.set=function(config){var prop,i;for(i in config)isFunction(prop=config[i])?this[i]=prop:this["_"+i]=prop;this._config=config,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},proto$1.months=function(m,format){return m?isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]:isArray(this._months)?this._months:this._months.standalone},proto$1.monthsShort=function(m,format){return m?isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},proto$1.monthsParse=function(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return function(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)mom=createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:null:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:null:"MMM"===format?-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:null:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:null}.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}},proto$1.monthsRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex)},proto$1.monthsShortRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex)},proto$1.week=function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},proto$1.firstDayOfYear=function(){return this._week.doy},proto$1.firstDayOfWeek=function(){return this._week.dow},proto$1.weekdays=function(m,format){return m?isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]:isArray(this._weekdays)?this._weekdays:this._weekdays.standalone},proto$1.weekdaysMin=function(m){return m?this._weekdaysMin[m.day()]:this._weekdaysMin},proto$1.weekdaysShort=function(m){return m?this._weekdaysShort[m.day()]:this._weekdaysShort},proto$1.weekdaysParse=function(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return function(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)mom=createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:"dddd"===format?-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:null}.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(mom=createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}},proto$1.weekdaysRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex)},proto$1.weekdaysShortRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},proto$1.weekdaysMinRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},proto$1.isPM=function(input){return"p"===(input+"").toLowerCase().charAt(0)},proto$1.meridiem=function(hours,minutes,isLower){return 11<hours?isLower?"pm":"PM":isLower?"am":"AM"},getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10;return number+(1===toInt(number%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function makeAs(alias){return function(){return this.as(alias)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y");function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,M:11};var abs$1=Math.abs;function sign(x){return(0<x)-(x<0)||+x}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var minutes,hours,seconds=abs$1(this._milliseconds)/1e3,days=abs$1(this._days),months=abs$1(this._months);hours=absFloor((minutes=absFloor(seconds/60))/60),seconds%=60,minutes%=60;var Y=absFloor(months/12),M=months%=12,D=days,h=hours,m=minutes,s=seconds?seconds.toFixed(3).replace(/\.?0+$/,""):"",total=this.asSeconds();if(!total)return"P0D";var totalSign=total<0?"-":"",ymSign=sign(this._months)!==sign(total)?"-":"",daysSign=sign(this._days)!==sign(total)?"-":"",hmsSign=sign(this._milliseconds)!==sign(total)?"-":"";return totalSign+"P"+(Y?ymSign+Y+"Y":"")+(M?ymSign+M+"M":"")+(D?daysSign+D+"D":"")+(h||m||s?"T":"")+(h?hmsSign+h+"H":"")+(m?hmsSign+m+"M":"")+(s?hmsSign+s+"S":"")}var proto$2=Duration.prototype;return proto$2.isValid=function(){return this._isValid},proto$2.abs=function(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this},proto$2.add=function(input,value){return addSubtract$1(this,input,value,1)},proto$2.subtract=function(input,value){return addSubtract$1(this,input,value,-1)},proto$2.as=function(units){if(!this.isValid())return NaN;var days,months,milliseconds=this._milliseconds;if("month"===(units=normalizeUnits(units))||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}},proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asYears=asYears,proto$2.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN},proto$2._bubble=function(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return 0<=milliseconds&&0<=days&&0<=months||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),months=days=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,months+=monthsFromDays=absFloor(daysToMonths(days+=absFloor(hours/24))),days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this},proto$2.clone=function(){return createDuration(this)},proto$2.get=function(units){return units=normalizeUnits(units),this.isValid()?this[units+"s"]():NaN},proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=function(){return absFloor(this.days()/7)},proto$2.months=months,proto$2.years=years,proto$2.humanize=function(withSuffix){if(!this.isValid())return this.localeData().invalidDate();var locale=this.localeData(),output=function(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=0<+posNegDuration,a[4]=locale,function(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}.apply(null,a)}(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)},proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",/[+-]?\d+(\.\d{1,3})?/),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),hooks.version="2.23.0",hookCallback=createLocal,hooks.fn=proto,hooks.min=function(){return pickBy("isBefore",[].slice.call(arguments,0))},hooks.max=function(){return pickBy("isAfter",[].slice.call(arguments,0))},hooks.now=function(){return Date.now?Date.now():+new Date},hooks.utc=createUTC,hooks.unix=function(input){return createLocal(1e3*input)},hooks.months=function(format,index){return listMonthsImpl(format,index,"months")},hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")},hooks.parseZone=function(){return createLocal.apply(null,arguments).parseZone()},hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=function(format,index){return listMonthsImpl(format,index,"monthsShort")},hooks.weekdaysMin=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")},hooks.defineLocale=defineLocale,hooks.updateLocale=function(name,config){if(null!=config){var locale,tmpLocale,parentConfig=baseConfig;null!=(tmpLocale=loadLocale(name))&&(parentConfig=tmpLocale._config),(locale=new Locale(config=mergeConfigs(parentConfig,config))).parentLocale=locales[name],locales[name]=locale,getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]},hooks.locales=function(){return keys(locales)},hooks.weekdaysShort=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")},hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=function(roundingFunction){return void 0===roundingFunction?round:"function"==typeof roundingFunction&&(round=roundingFunction,!0)},hooks.relativeTimeThreshold=function(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,"s"===threshold&&(thresholds.ss=limit-1),!0))},hooks.calendarFormat=function(myMoment,now){var diff=myMoment.diff(now,"days",!0);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"},hooks.prototype=proto,hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},hooks},"object"==typeof exports&&void 0!==module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()},{}],69:[function(require,module,exports){!function(root,factory){"use strict";var moment;if("object"==typeof exports){try{moment=require("moment")}catch(e){}module.exports=factory(moment)}else"function"==typeof define&&define.amd?define(function(req){try{moment=req("moment")}catch(e){}return factory(moment)}):root.Pikaday=factory(root.moment)}(this,function(moment){"use strict";function addEvent(el,e,callback,capture){hasEventListeners?el.addEventListener(e,callback,!!capture):el.attachEvent("on"+e,callback)}function removeEvent(el,e,callback,capture){hasEventListeners?el.removeEventListener(e,callback,!!capture):el.detachEvent("on"+e,callback)}function fireEvent(el,eventName,data){var ev;document.createEvent?((ev=document.createEvent("HTMLEvents")).initEvent(eventName,!0,!1),ev=extend(ev,data),el.dispatchEvent(ev)):document.createEventObject&&(ev=document.createEventObject(),ev=extend(ev,data),el.fireEvent("on"+eventName,ev))}function hasClass(el,cn){return-1!==(" "+el.className+" ").indexOf(" "+cn+" ")}function isArray(obj){return/Array/.test(Object.prototype.toString.call(obj))}function isDate(obj){return/Date/.test(Object.prototype.toString.call(obj))&&!isNaN(obj.getTime())}function isWeekend(date){var day=date.getDay();return 0===day||6===day}function getDaysInMonth(year,month){return[31,function(year){return year%4==0&&year%100!=0||year%400==0}(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]}function setToStartOfDay(date){isDate(date)&&date.setHours(0,0,0,0)}function compareDates(a,b){return a.getTime()===b.getTime()}function adjustCalendar(calendar){return calendar.month<0&&(calendar.year-=Math.ceil(Math.abs(calendar.month)/12),calendar.month+=12),11<calendar.month&&(calendar.year+=Math.floor(Math.abs(calendar.month)/12),calendar.month-=12),calendar}function renderDayName(opts,day,abbr){for(day+=opts.firstDay;7<=day;)day-=7;return abbr?opts.i18n.weekdaysShort[day]:opts.i18n.weekdays[day]}function renderDay(opts){var arr=[],ariaSelected="false";if(opts.isEmpty){if(!opts.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';arr.push("is-outside-current-month")}return opts.isDisabled&&arr.push("is-disabled"),opts.isToday&&arr.push("is-today"),opts.isSelected&&(arr.push("is-selected"),ariaSelected="true"),opts.isInRange&&arr.push("is-inrange"),opts.isStartRange&&arr.push("is-startrange"),opts.isEndRange&&arr.push("is-endrange"),'<td data-day="'+opts.day+'" class="'+arr.join(" ")+'" aria-selected="'+ariaSelected+'"><button class="pika-button pika-day" type="button" data-pika-year="'+opts.year+'" data-pika-month="'+opts.month+'" data-pika-day="'+opts.day+'">'+opts.day+"</button></td>"}function renderRow(days,isRTL){return"<tr>"+(isRTL?days.reverse():days).join("")+"</tr>"}function renderTitle(instance,c,year,month,refYear,randId){var i,j,arr,monthHtml,yearHtml,opts=instance._o,isMinYear=year===opts.minYear,isMaxYear=year===opts.maxYear,html='<div id="'+randId+'" class="pika-title" role="heading" aria-live="assertive">',prev=!0,next=!0;for(arr=[],i=0;i<12;i++)arr.push('<option value="'+(year===refYear?i-c:12+i-c)+'"'+(i===month?' selected="selected"':"")+(isMinYear&&i<opts.minMonth||isMaxYear&&i>opts.maxMonth?'disabled="disabled"':"")+">"+opts.i18n.months[i]+"</option>");for(monthHtml='<div class="pika-label">'+opts.i18n.months[month]+'<select class="pika-select pika-select-month" tabindex="-1">'+arr.join("")+"</select></div>",j=isArray(opts.yearRange)?(i=opts.yearRange[0],opts.yearRange[1]+1):(i=year-opts.yearRange,1+year+opts.yearRange),arr=[];i<j&&i<=opts.maxYear;i++)i>=opts.minYear&&arr.push('<option value="'+i+'"'+(i===year?' selected="selected"':"")+">"+i+"</option>");return yearHtml='<div class="pika-label">'+year+opts.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+arr.join("")+"</select></div>",opts.showMonthAfterYear?html+=yearHtml+monthHtml:html+=monthHtml+yearHtml,isMinYear&&(0===month||opts.minMonth>=month)&&(prev=!1),isMaxYear&&(11===month||opts.maxMonth<=month)&&(next=!1),0===c&&(html+='<button class="pika-prev'+(prev?"":" is-disabled")+'" type="button">'+opts.i18n.previousMonth+"</button>"),c===instance._o.numberOfMonths-1&&(html+='<button class="pika-next'+(next?"":" is-disabled")+'" type="button">'+opts.i18n.nextMonth+"</button>"),html+"</div>"}function renderTable(opts,data,randId){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+randId+'">'+function(opts){var i,arr=[];for(opts.showWeekNumber&&arr.push("<th></th>"),i=0;i<7;i++)arr.push('<th scope="col"><abbr title="'+renderDayName(opts,i)+'">'+renderDayName(opts,i,!0)+"</abbr></th>");return"<thead><tr>"+(opts.isRTL?arr.reverse():arr).join("")+"</tr></thead>"}(opts)+function(rows){return"<tbody>"+rows.join("")+"</tbody>"}(data)+"</table>"}function Pikaday(options){var self=this,opts=self.config(options);self._onMouseDown=function(e){if(self._v){var target=(e=e||window.event).target||e.srcElement;if(target)if(hasClass(target,"is-disabled")||(!hasClass(target,"pika-button")||hasClass(target,"is-empty")||hasClass(target.parentNode,"is-disabled")?hasClass(target,"pika-prev")?self.prevMonth():hasClass(target,"pika-next")&&self.nextMonth():(self.setDate(new Date(target.getAttribute("data-pika-year"),target.getAttribute("data-pika-month"),target.getAttribute("data-pika-day"))),opts.bound&&sto(function(){self.hide(),opts.field&&opts.field.blur()},100))),hasClass(target,"pika-select"))self._c=!0;else{if(!e.preventDefault)return e.returnValue=!1;e.preventDefault()}}},self._onChange=function(e){var target=(e=e||window.event).target||e.srcElement;target&&(hasClass(target,"pika-select-month")?self.gotoMonth(target.value):hasClass(target,"pika-select-year")&&self.gotoYear(target.value))},self._onKeyChange=function(e){if(e=e||window.event,self.isVisible())switch(e.keyCode){case 13:case 27:opts.field.blur();break;case 37:e.preventDefault(),self.adjustDate("subtract",1);break;case 38:self.adjustDate("subtract",7);break;case 39:self.adjustDate("add",1);break;case 40:self.adjustDate("add",7)}},self._onInputChange=function(e){var date;e.firedBy!==self&&(date=hasMoment?(date=moment(opts.field.value,opts.format,opts.formatStrict))&&date.isValid()?date.toDate():null:new Date(Date.parse(opts.field.value)),isDate(date)&&self.setDate(date),self._v||self.show())},self._onInputFocus=function(){self.show()},self._onInputClick=function(){self.show()},self._onInputBlur=function(){var pEl=document.activeElement;do{if(hasClass(pEl,"pika-single"))return}while(pEl=pEl.parentNode);self._c||(self._b=sto(function(){self.hide()},50)),self._c=!1},self._onClick=function(e){var target=(e=e||window.event).target||e.srcElement,pEl=target;if(target){!hasEventListeners&&hasClass(target,"pika-select")&&(target.onchange||(target.setAttribute("onchange","return;"),addEvent(target,"change",self._onChange)));do{if(hasClass(pEl,"pika-single")||pEl===opts.trigger)return}while(pEl=pEl.parentNode);self._v&&target!==opts.trigger&&pEl!==opts.trigger&&self.hide()}},self.el=document.createElement("div"),self.el.className="pika-single"+(opts.isRTL?" is-rtl":"")+(opts.theme?" "+opts.theme:""),addEvent(self.el,"mousedown",self._onMouseDown,!0),addEvent(self.el,"touchend",self._onMouseDown,!0),addEvent(self.el,"change",self._onChange),addEvent(document,"keydown",self._onKeyChange),opts.field&&(opts.container?opts.container.appendChild(self.el):opts.bound?document.body.appendChild(self.el):opts.field.parentNode.insertBefore(self.el,opts.field.nextSibling),addEvent(opts.field,"change",self._onInputChange),opts.defaultDate||(hasMoment&&opts.field.value?opts.defaultDate=moment(opts.field.value,opts.format).toDate():opts.defaultDate=new Date(Date.parse(opts.field.value)),opts.setDefaultDate=!0));var defDate=opts.defaultDate;isDate(defDate)?opts.setDefaultDate?self.setDate(defDate,!0):self.gotoDate(defDate):self.gotoDate(new Date),opts.bound?(this.hide(),self.el.className+=" is-bound",addEvent(opts.trigger,"click",self._onInputClick),addEvent(opts.trigger,"focus",self._onInputFocus),addEvent(opts.trigger,"blur",self._onInputBlur)):this.show()}var hasMoment="function"==typeof moment,hasEventListeners=!!window.addEventListener,document=window.document,sto=window.setTimeout,extend=function(to,from,overwrite){var prop,hasProp;for(prop in from)(hasProp=void 0!==to[prop])&&"object"==typeof from[prop]&&null!==from[prop]&&void 0===from[prop].nodeName?isDate(from[prop])?overwrite&&(to[prop]=new Date(from[prop].getTime())):isArray(from[prop])?overwrite&&(to[prop]=from[prop].slice(0)):to[prop]=extend({},from[prop],overwrite):!overwrite&&hasProp||(to[prop]=from[prop]);return to},defaults={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null};return Pikaday.prototype={config:function(options){this._o||(this._o=extend({},defaults,!0));var opts=extend(this._o,options,!0);opts.isRTL=!!opts.isRTL,opts.field=opts.field&&opts.field.nodeName?opts.field:null,opts.theme="string"==typeof opts.theme&&opts.theme?opts.theme:null,opts.bound=!!(void 0!==opts.bound?opts.field&&opts.bound:opts.field),opts.trigger=opts.trigger&&opts.trigger.nodeName?opts.trigger:opts.field,opts.disableWeekends=!!opts.disableWeekends,opts.disableDayFn="function"==typeof opts.disableDayFn?opts.disableDayFn:null;var nom=parseInt(opts.numberOfMonths,10)||1;if(opts.numberOfMonths=4<nom?4:nom,isDate(opts.minDate)||(opts.minDate=!1),isDate(opts.maxDate)||(opts.maxDate=!1),opts.minDate&&opts.maxDate&&opts.maxDate<opts.minDate&&(opts.maxDate=opts.minDate=!1),opts.minDate&&this.setMinDate(opts.minDate),opts.maxDate&&this.setMaxDate(opts.maxDate),isArray(opts.yearRange)){var fallback=(new Date).getFullYear()-10;opts.yearRange[0]=parseInt(opts.yearRange[0],10)||fallback,opts.yearRange[1]=parseInt(opts.yearRange[1],10)||fallback}else opts.yearRange=Math.abs(parseInt(opts.yearRange,10))||defaults.yearRange,100<opts.yearRange&&(opts.yearRange=100);return opts},toString:function(format){return isDate(this._d)?hasMoment?moment(this._d).format(format||this._o.format):this._d.toDateString():""},getMoment:function(){return hasMoment?moment(this._d):null},setMoment:function(date,preventOnSelect){hasMoment&&moment.isMoment(date)&&this.setDate(date.toDate(),preventOnSelect)},getDate:function(){return isDate(this._d)?new Date(this._d.getTime()):new Date},setDate:function(date,preventOnSelect){if(!date)return this._d=null,this._o.field&&(this._o.field.value="",fireEvent(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof date&&(date=new Date(Date.parse(date))),isDate(date)){var min=this._o.minDate,max=this._o.maxDate;isDate(min)&&date<min?date=min:isDate(max)&&max<date&&(date=max),this._d=new Date(date.getTime()),setToStartOfDay(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),fireEvent(this._o.field,"change",{firedBy:this})),preventOnSelect||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(date){var newCalendar=!0;if(isDate(date)){if(this.calendars){var firstVisibleDate=new Date(this.calendars[0].year,this.calendars[0].month,1),lastVisibleDate=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),visibleDate=date.getTime();lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1),lastVisibleDate.setDate(lastVisibleDate.getDate()-1),newCalendar=visibleDate<firstVisibleDate.getTime()||lastVisibleDate.getTime()<visibleDate}newCalendar&&(this.calendars=[{month:date.getMonth(),year:date.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(sign,days){var newDay,day=this.getDate(),difference=24*parseInt(days)*60*60*1e3;"add"===sign?newDay=new Date(day.valueOf()+difference):"subtract"===sign&&(newDay=new Date(day.valueOf()-difference)),hasMoment&&("add"===sign?newDay=moment(day).add(days,"days").toDate():"subtract"===sign&&(newDay=moment(day).subtract(days,"days").toDate())),this.setDate(newDay)},adjustCalendars:function(){this.calendars[0]=adjustCalendar(this.calendars[0]);for(var c=1;c<this._o.numberOfMonths;c++)this.calendars[c]=adjustCalendar({month:this.calendars[0].month+c,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(month){isNaN(month)||(this.calendars[0].month=parseInt(month,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(year){isNaN(year)||(this.calendars[0].year=parseInt(year,10),this.adjustCalendars())},setMinDate:function(value){value instanceof Date?(setToStartOfDay(value),this._o.minDate=value,this._o.minYear=value.getFullYear(),this._o.minMonth=value.getMonth()):(this._o.minDate=defaults.minDate,this._o.minYear=defaults.minYear,this._o.minMonth=defaults.minMonth,this._o.startRange=defaults.startRange),this.draw()},setMaxDate:function(value){value instanceof Date?(setToStartOfDay(value),this._o.maxDate=value,this._o.maxYear=value.getFullYear(),this._o.maxMonth=value.getMonth()):(this._o.maxDate=defaults.maxDate,this._o.maxYear=defaults.maxYear,this._o.maxMonth=defaults.maxMonth,this._o.endRange=defaults.endRange),this.draw()},setStartRange:function(value){this._o.startRange=value},setEndRange:function(value){this._o.endRange=value},draw:function(force){if(this._v||force){var randId,opts=this._o,minYear=opts.minYear,maxYear=opts.maxYear,minMonth=opts.minMonth,maxMonth=opts.maxMonth,html="";this._y<=minYear&&(this._y=minYear,!isNaN(minMonth)&&this._m<minMonth&&(this._m=minMonth)),this._y>=maxYear&&(this._y=maxYear,!isNaN(maxMonth)&&this._m>maxMonth&&(this._m=maxMonth)),randId="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<opts.numberOfMonths;c++)html+='<div class="pika-lendar">'+renderTitle(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,randId)+this.render(this.calendars[c].year,this.calendars[c].month,randId)+"</div>";this.el.innerHTML=html,opts.bound&&"hidden"!==opts.field.type&&sto(function(){opts.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),opts.bound&&opts.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var field,pEl,width,height,viewportWidth,viewportHeight,scrollTop,left,top,clientRect;if(!this._o.container){if(this.el.style.position="absolute",pEl=field=this._o.trigger,width=this.el.offsetWidth,height=this.el.offsetHeight,viewportWidth=window.innerWidth||document.documentElement.clientWidth,viewportHeight=window.innerHeight||document.documentElement.clientHeight,scrollTop=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,"function"==typeof field.getBoundingClientRect)left=(clientRect=field.getBoundingClientRect()).left+window.pageXOffset,top=clientRect.bottom+window.pageYOffset;else for(left=pEl.offsetLeft,top=pEl.offsetTop+pEl.offsetHeight;pEl=pEl.offsetParent;)left+=pEl.offsetLeft,top+=pEl.offsetTop;(this._o.reposition&&viewportWidth<left+width||-1<this._o.position.indexOf("right")&&0<left-width+field.offsetWidth)&&(left=left-width+field.offsetWidth),(this._o.reposition&&viewportHeight+scrollTop<top+height||-1<this._o.position.indexOf("top")&&0<top-height-field.offsetHeight)&&(top=top-height-field.offsetHeight),this.el.style.left=left+"px",this.el.style.top=top+"px"}},render:function(year,month,randId){var opts=this._o,now=new Date,days=getDaysInMonth(year,month),before=new Date(year,month,1).getDay(),data=[],row=[];setToStartOfDay(now),0<opts.firstDay&&(before-=opts.firstDay)<0&&(before+=7);for(var d,m,y,onejan,previousMonth=0===month?11:month-1,nextMonth=11===month?0:month+1,yearOfPreviousMonth=0===month?year-1:year,yearOfNextMonth=11===month?year+1:year,daysInPreviousMonth=getDaysInMonth(yearOfPreviousMonth,previousMonth),cells=days+before,after=cells;7<after;)after-=7;cells+=7-after;for(var i=0,r=0;i<cells;i++){var day=new Date(year,month,i-before+1),isSelected=!!isDate(this._d)&&compareDates(day,this._d),isToday=compareDates(day,now),isEmpty=i<before||days+before<=i,dayNumber=i-before+1,monthNumber=month,yearNumber=year,isStartRange=opts.startRange&&compareDates(opts.startRange,day),isEndRange=opts.endRange&&compareDates(opts.endRange,day),isInRange=opts.startRange&&opts.endRange&&opts.startRange<day&&day<opts.endRange;isEmpty&&(yearNumber=i<before?(dayNumber=daysInPreviousMonth+dayNumber,monthNumber=previousMonth,yearOfPreviousMonth):(dayNumber-=days,monthNumber=nextMonth,yearOfNextMonth));var dayConfig={day:dayNumber,month:monthNumber,year:yearNumber,isSelected:isSelected,isToday:isToday,isDisabled:opts.minDate&&day<opts.minDate||opts.maxDate&&day>opts.maxDate||opts.disableWeekends&&isWeekend(day)||opts.disableDayFn&&opts.disableDayFn(day),isEmpty:isEmpty,isStartRange:isStartRange,isEndRange:isEndRange,isInRange:isInRange,showDaysInNextAndPreviousMonths:opts.showDaysInNextAndPreviousMonths};row.push(renderDay(dayConfig)),7==++r&&(opts.showWeekNumber&&row.unshift((d=i-before,m=month,y=year,onejan=void 0,onejan=new Date(y,0,1),'<td class="pika-week">'+Math.ceil(((new Date(y,m,d)-onejan)/864e5+onejan.getDay()+1)/7)+"</td>")),data.push(renderRow(row,opts.isRTL)),row=[],r=0)}return renderTable(opts,data,randId)},isVisible:function(){return this._v},show:function(){this.isVisible()||(function(el,cn){el.className=function(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}((" "+el.className+" ").replace(" "+cn+" "," "))}(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(addEvent(document,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var v=this._v;!1!==v&&(this._o.bound&&removeEvent(document,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",function(el,cn){hasClass(el,cn)||(el.className=""===el.className?cn:el.className+" "+cn)}(this.el,"is-hidden"),this._v=!1,void 0!==v&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),removeEvent(this.el,"mousedown",this._onMouseDown,!0),removeEvent(this.el,"touchend",this._onMouseDown,!0),removeEvent(this.el,"change",this._onChange),this._o.field&&(removeEvent(this._o.field,"change",this._onInputChange),this._o.bound&&(removeEvent(this._o.trigger,"click",this._onInputClick),removeEvent(this._o.trigger,"focus",this._onInputFocus),removeEvent(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},Pikaday})},{moment:68}],70:[function(require,module,exports){"use strict";var input_binding,Hodataframe=require("hodf");Shiny.inputBindings.register(((input_binding=new Shiny.InputBinding).find=function(scope){return scope.querySelectorAll(".hodfr")},input_binding.initialize=function(el){var tmpl=JSON.parse(el.getAttribute("data-tmpl"));$(el).data("change_callback",function(){}),$(el).data("hodf",new Hodataframe(tmpl,el)),$(el).data("hodf").hot.addHook("afterChange",input_binding.on_change.bind(this,el)),$(el).data("hodf").hot.addHook("afterCreateRow",input_binding.on_change.bind(this,el)),$(el).data("hodf").hot.addHook("afterCreateCol",input_binding.on_change.bind(this,el)),$(el).data("hodf").hot.addHook("afterRemoveRow",input_binding.on_change.bind(this,el)),$(el).data("hodf").hot.addHook("afterRemoveCol",input_binding.on_change.bind(this,el))},input_binding.getType=function(){return"hodfr.jsonframe"},input_binding.getValue=function(el){return JSON.stringify($(el).data("hodf").getDataFrame())},input_binding.receiveMessage=function(el,data){var hodf=$(el).data("hodf");data.hasOwnProperty("value")&&($(el).data("hodf",hodf.replace(data.value)),$(el).data("hodf").hot.addHook("afterChange",input_binding.on_change.bind(this,el)),$(el).data("hodf").hot.addHook("afterCreateRow",input_binding.on_change.bind(this,el)),$(el).data("hodf").hot.addHook("afterCreateCol",input_binding.on_change.bind(this,el)),$(el).data("hodf").hot.addHook("afterRemoveRow",input_binding.on_change.bind(this,el)),$(el).data("hodf").hot.addHook("afterRemoveCol",input_binding.on_change.bind(this,el)),input_binding.on_change(el))},input_binding.on_change=function(el){$(el).data("change_callback")()},input_binding.subscribe=function(el,callback){$(el).data("change_callback",callback)},input_binding.unsubscribe=function(el){$(el).data("change_callback",function(){})},input_binding))},{hodf:3}],71:[function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}]},{},[70]);